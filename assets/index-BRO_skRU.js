var V2=Object.defineProperty;var F2=(t,e,n)=>e in t?V2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var kw=(t,e,n)=>F2(t,typeof e!="symbol"?e+"":e,n);function B2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Sv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Am={exports:{}},Ec={},Pm={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function U2(){if(Dw)return $e;Dw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function I(H,X,pe){this.props=H,this.context=X,this.refs=C,this.updater=pe||E}I.prototype.isReactComponent={},I.prototype.setState=function(H,X){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,X,"setState")},I.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function L(){}L.prototype=I.prototype;function P(H,X,pe){this.props=H,this.context=X,this.refs=C,this.updater=pe||E}var M=P.prototype=new L;M.constructor=P,S(M,I.prototype),M.isPureReactComponent=!0;var z=Array.isArray,V=Object.prototype.hasOwnProperty,G={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function A(H,X,pe){var Re,ke={},Fe=null,Be=null;if(X!=null)for(Re in X.ref!==void 0&&(Be=X.ref),X.key!==void 0&&(Fe=""+X.key),X)V.call(X,Re)&&!R.hasOwnProperty(Re)&&(ke[Re]=X[Re]);var ze=arguments.length-2;if(ze===1)ke.children=pe;else if(1<ze){for(var Xe=Array(ze),it=0;it<ze;it++)Xe[it]=arguments[it+2];ke.children=Xe}if(H&&H.defaultProps)for(Re in ze=H.defaultProps,ze)ke[Re]===void 0&&(ke[Re]=ze[Re]);return{$$typeof:t,type:H,key:Fe,ref:Be,props:ke,_owner:G.current}}function k(H,X){return{$$typeof:t,type:H.type,key:X,ref:H.ref,props:H.props,_owner:H._owner}}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var X={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(pe){return X[pe]})}var F=/\/+/g;function N(H,X){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):X.toString(36)}function ae(H,X,pe,Re,ke){var Fe=typeof H;(Fe==="undefined"||Fe==="boolean")&&(H=null);var Be=!1;if(H===null)Be=!0;else switch(Fe){case"string":case"number":Be=!0;break;case"object":switch(H.$$typeof){case t:case e:Be=!0}}if(Be)return Be=H,ke=ke(Be),H=Re===""?"."+N(Be,0):Re,z(ke)?(pe="",H!=null&&(pe=H.replace(F,"$&/")+"/"),ae(ke,X,pe,"",function(it){return it})):ke!=null&&(j(ke)&&(ke=k(ke,pe+(!ke.key||Be&&Be.key===ke.key?"":(""+ke.key).replace(F,"$&/")+"/")+H)),X.push(ke)),1;if(Be=0,Re=Re===""?".":Re+":",z(H))for(var ze=0;ze<H.length;ze++){Fe=H[ze];var Xe=Re+N(Fe,ze);Be+=ae(Fe,X,pe,Xe,ke)}else if(Xe=y(H),typeof Xe=="function")for(H=Xe.call(H),ze=0;!(Fe=H.next()).done;)Fe=Fe.value,Xe=Re+N(Fe,ze++),Be+=ae(Fe,X,pe,Xe,ke);else if(Fe==="object")throw X=String(H),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Be}function Se(H,X,pe){if(H==null)return H;var Re=[],ke=0;return ae(H,Re,"","",function(Fe){return X.call(pe,Fe,ke++)}),Re}function Ee(H){if(H._status===-1){var X=H._result;X=X(),X.then(function(pe){(H._status===0||H._status===-1)&&(H._status=1,H._result=pe)},function(pe){(H._status===0||H._status===-1)&&(H._status=2,H._result=pe)}),H._status===-1&&(H._status=0,H._result=X)}if(H._status===1)return H._result.default;throw H._result}var ve={current:null},Z={transition:null},ue={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:Z,ReactCurrentOwner:G};function ie(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:Se,forEach:function(H,X,pe){Se(H,function(){X.apply(this,arguments)},pe)},count:function(H){var X=0;return Se(H,function(){X++}),X},toArray:function(H){return Se(H,function(X){return X})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},$e.Component=I,$e.Fragment=n,$e.Profiler=i,$e.PureComponent=P,$e.StrictMode=r,$e.Suspense=d,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,$e.act=ie,$e.cloneElement=function(H,X,pe){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Re=S({},H.props),ke=H.key,Fe=H.ref,Be=H._owner;if(X!=null){if(X.ref!==void 0&&(Fe=X.ref,Be=G.current),X.key!==void 0&&(ke=""+X.key),H.type&&H.type.defaultProps)var ze=H.type.defaultProps;for(Xe in X)V.call(X,Xe)&&!R.hasOwnProperty(Xe)&&(Re[Xe]=X[Xe]===void 0&&ze!==void 0?ze[Xe]:X[Xe])}var Xe=arguments.length-2;if(Xe===1)Re.children=pe;else if(1<Xe){ze=Array(Xe);for(var it=0;it<Xe;it++)ze[it]=arguments[it+2];Re.children=ze}return{$$typeof:t,type:H.type,key:ke,ref:Fe,props:Re,_owner:Be}},$e.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},$e.createElement=A,$e.createFactory=function(H){var X=A.bind(null,H);return X.type=H,X},$e.createRef=function(){return{current:null}},$e.forwardRef=function(H){return{$$typeof:c,render:H}},$e.isValidElement=j,$e.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:Ee}},$e.memo=function(H,X){return{$$typeof:f,type:H,compare:X===void 0?null:X}},$e.startTransition=function(H){var X=Z.transition;Z.transition={};try{H()}finally{Z.transition=X}},$e.unstable_act=ie,$e.useCallback=function(H,X){return ve.current.useCallback(H,X)},$e.useContext=function(H){return ve.current.useContext(H)},$e.useDebugValue=function(){},$e.useDeferredValue=function(H){return ve.current.useDeferredValue(H)},$e.useEffect=function(H,X){return ve.current.useEffect(H,X)},$e.useId=function(){return ve.current.useId()},$e.useImperativeHandle=function(H,X,pe){return ve.current.useImperativeHandle(H,X,pe)},$e.useInsertionEffect=function(H,X){return ve.current.useInsertionEffect(H,X)},$e.useLayoutEffect=function(H,X){return ve.current.useLayoutEffect(H,X)},$e.useMemo=function(H,X){return ve.current.useMemo(H,X)},$e.useReducer=function(H,X,pe){return ve.current.useReducer(H,X,pe)},$e.useRef=function(H){return ve.current.useRef(H)},$e.useState=function(H){return ve.current.useState(H)},$e.useSyncExternalStore=function(H,X,pe){return ve.current.useSyncExternalStore(H,X,pe)},$e.useTransition=function(){return ve.current.useTransition()},$e.version="18.3.1",$e}var Mw;function Tv(){return Mw||(Mw=1,Pm.exports=U2()),Pm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function z2(){if(Ow)return Ec;Ow=1;var t=Tv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var m,g={},y=null,E=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(g[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:c,key:y,ref:E,props:g,_owner:i.current}}return Ec.Fragment=n,Ec.jsx=l,Ec.jsxs=l,Ec}var Lw;function $2(){return Lw||(Lw=1,Am.exports=z2()),Am.exports}var v=$2(),Zd={},Rm={exports:{}},Dn={},Nm={exports:{}},km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw;function H2(){return jw||(jw=1,function(t){function e(Z,ue){var ie=Z.length;Z.push(ue);e:for(;0<ie;){var H=ie-1>>>1,X=Z[H];if(0<i(X,ue))Z[H]=ue,Z[ie]=X,ie=H;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],ie=Z.pop();if(ie!==ue){Z[0]=ie;e:for(var H=0,X=Z.length,pe=X>>>1;H<pe;){var Re=2*(H+1)-1,ke=Z[Re],Fe=Re+1,Be=Z[Fe];if(0>i(ke,ie))Fe<X&&0>i(Be,ke)?(Z[H]=Be,Z[Fe]=ie,H=Fe):(Z[H]=ke,Z[Re]=ie,H=Re);else if(Fe<X&&0>i(Be,ie))Z[H]=Be,Z[Fe]=ie,H=Fe;else break e}}return ue}function i(Z,ue){var ie=Z.sortIndex-ue.sortIndex;return ie!==0?ie:Z.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,g=null,y=3,E=!1,S=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Z){for(var ue=n(f);ue!==null;){if(ue.callback===null)r(f);else if(ue.startTime<=Z)r(f),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=n(f)}}function z(Z){if(C=!1,M(Z),!S)if(n(d)!==null)S=!0,Ee(V);else{var ue=n(f);ue!==null&&ve(z,ue.startTime-Z)}}function V(Z,ue){S=!1,C&&(C=!1,L(A),A=-1),E=!0;var ie=y;try{for(M(ue),g=n(d);g!==null&&(!(g.expirationTime>ue)||Z&&!U());){var H=g.callback;if(typeof H=="function"){g.callback=null,y=g.priorityLevel;var X=H(g.expirationTime<=ue);ue=t.unstable_now(),typeof X=="function"?g.callback=X:g===n(d)&&r(d),M(ue)}else r(d);g=n(d)}if(g!==null)var pe=!0;else{var Re=n(f);Re!==null&&ve(z,Re.startTime-ue),pe=!1}return pe}finally{g=null,y=ie,E=!1}}var G=!1,R=null,A=-1,k=5,j=-1;function U(){return!(t.unstable_now()-j<k)}function F(){if(R!==null){var Z=t.unstable_now();j=Z;var ue=!0;try{ue=R(!0,Z)}finally{ue?N():(G=!1,R=null)}}else G=!1}var N;if(typeof P=="function")N=function(){P(F)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Se=ae.port2;ae.port1.onmessage=F,N=function(){Se.postMessage(null)}}else N=function(){I(F,0)};function Ee(Z){R=Z,G||(G=!0,N())}function ve(Z,ue){A=I(function(){Z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,Ee(V))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var ie=y;y=ue;try{return Z()}finally{y=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ie=y;y=Z;try{return ue()}finally{y=ie}},t.unstable_scheduleCallback=function(Z,ue,ie){var H=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?H+ie:H):ie=H,Z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ie+X,Z={id:m++,callback:ue,priorityLevel:Z,startTime:ie,expirationTime:X,sortIndex:-1},ie>H?(Z.sortIndex=ie,e(f,Z),n(d)===null&&Z===n(f)&&(C?(L(A),A=-1):C=!0,ve(z,ie-H))):(Z.sortIndex=X,e(d,Z),S||E||(S=!0,Ee(V))),Z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Z){var ue=y;return function(){var ie=y;y=ue;try{return Z.apply(this,arguments)}finally{y=ie}}}}(km)),km}var Vw;function W2(){return Vw||(Vw=1,Nm.exports=H2()),Nm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function G2(){if(Fw)return Dn;Fw=1;var t=Tv(),e=W2();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function y(s){return d.call(g,s)?!0:d.call(m,s)?!1:f.test(s)?g[s]=!0:(m[s]=!0,!1)}function E(s,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,u,p){if(a===null||typeof a>"u"||E(s,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(s,a,u,p,x,b,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=b,this.removeEmptyString=T}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];I[a]=new C(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(L,P);I[a]=new C(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(L,P);I[a]=new C(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(L,P);I[a]=new C(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,a,u,p){var x=I.hasOwnProperty(a)?I[a]:null;(x!==null?x.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,u,x,p)&&(u=null),p||x===null?y(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):x.mustUseProperty?s[x.propertyName]=u===null?x.type===3?!1:"":u:(a=x.attributeName,p=x.attributeNamespace,u===null?s.removeAttribute(a):(x=x.type,u=x===3||x===4&&u===!0?"":""+u,p?s.setAttributeNS(p,a,u):s.setAttribute(a,u))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),G=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),U=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,H;function X(s){if(H===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var pe=!1;function Re(s,a){if(!s||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var p=Y}Reflect.construct(s,[],a)}else{try{a.call()}catch(Y){p=Y}s.call(a.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var x=Y.stack.split(`
`),b=p.stack.split(`
`),T=x.length-1,B=b.length-1;1<=T&&0<=B&&x[T]!==b[B];)B--;for(;1<=T&&0<=B;T--,B--)if(x[T]!==b[B]){if(T!==1||B!==1)do if(T--,B--,0>B||x[T]!==b[B]){var $=`
`+x[T].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=T&&0<=B);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?X(s):""}function ke(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=Re(s.type,!1),s;case 11:return s=Re(s.type.render,!1),s;case 1:return s=Re(s.type,!0),s;default:return""}}function Fe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case G:return"Portal";case k:return"Profiler";case A:return"StrictMode";case N:return"Suspense";case ae:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case F:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return a=s.displayName||null,a!==null?a:Fe(s.type)||"Memo";case Ee:a=s._payload,s=s._init;try{return Fe(s(a))}catch{}}return null}function Be(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ze(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function it(s){var a=Xe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,b=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return x.call(this)},set:function(T){p=""+T,b.call(this,T)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function he(s){s._valueTracker||(s._valueTracker=it(s))}function Ve(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return s&&(p=Xe(s)?s.checked?"true":"false":s.value),s=p,s!==u?(a.setValue(s),!0):!1}function Ke(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function He(s,a){var u=a.checked;return ie({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Ut(s,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=ze(a.value!=null?a.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function kt(s,a){a=a.checked,a!=null&&M(s,"checked",a,!1)}function er(s,a){kt(s,a);var u=ze(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?xn(s,a.type,u):a.hasOwnProperty("defaultValue")&&xn(s,a.type,ze(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ai(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function xn(s,a,u){(a!=="number"||Ke(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var on=Array.isArray;function Dt(s,a,u,p){if(s=s.options,a){a={};for(var x=0;x<u.length;x++)a["$"+u[x]]=!0;for(u=0;u<s.length;u++)x=a.hasOwnProperty("$"+s[u].value),s[u].selected!==x&&(s[u].selected=x),x&&p&&(s[u].defaultSelected=!0)}else{for(u=""+ze(u),a=null,x=0;x<s.length;x++){if(s[x].value===u){s[x].selected=!0,p&&(s[x].defaultSelected=!0);return}a!==null||s[x].disabled||(a=s[x])}a!==null&&(a.selected=!0)}}function Vn(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ui(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(on(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:ze(u)}}function Qo(s,a){var u=ze(a.value),p=ze(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function Nl(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Mt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ot(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Mt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var li,kl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,x){MSApp.execUnsafeLocalFunction(function(){return s(a,u,p,x)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(li=li||document.createElement("div"),li.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=li.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function zi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ks=["Webkit","ms","Moz","O"];Object.keys(qs).forEach(function(s){Ks.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),qs[a]=qs[s]})});function Dl(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||qs.hasOwnProperty(s)&&qs[s]?(""+a).trim():a+"px"}function Ml(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,x=Dl(u,a[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,x):s[u]=x}}var Ol=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(s,a){if(a){if(Ol[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function jl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qs=null;function Yo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xo=null,tr=null,Vr=null;function Jo(s){if(s=ac(s)){if(typeof Xo!="function")throw Error(n(280));var a=s.stateNode;a&&(a=pd(a),Xo(s.stateNode,s.type,a))}}function Fr(s){tr?Vr?Vr.push(s):Vr=[s]:tr=s}function Vl(){if(tr){var s=tr,a=Vr;if(Vr=tr=null,Jo(s),a)for(s=0;s<a.length;s++)Jo(a[s])}}function Ys(s,a){return s(a)}function Fl(){}var ci=!1;function Bl(s,a,u){if(ci)return s(a,u);ci=!0;try{return Ys(s,a,u)}finally{ci=!1,(tr!==null||Vr!==null)&&(Fl(),Vl())}}function _t(s,a){var u=s.stateNode;if(u===null)return null;var p=pd(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Zo=!1;if(c)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Zo=!1}function Xs(s,a,u,p,x,b,T,B,$){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(u,Y)}catch(ne){this.onError(ne)}}var Js=!1,ea=null,xr=!1,Ul=null,np={onError:function(s){Js=!0,ea=s}};function ta(s,a,u,p,x,b,T,B,$){Js=!1,ea=null,Xs.apply(np,arguments)}function Fu(s,a,u,p,x,b,T,B,$){if(ta.apply(this,arguments),Js){if(Js){var Y=ea;Js=!1,ea=null}else throw Error(n(198));xr||(xr=!0,Ul=Y)}}function wr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Zs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function br(s){if(wr(s)!==s)throw Error(n(188))}function Bu(s){var a=s.alternate;if(!a){if(a=wr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,p=a;;){var x=u.return;if(x===null)break;var b=x.alternate;if(b===null){if(p=x.return,p!==null){u=p;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===u)return br(x),s;if(b===p)return br(x),a;b=b.sibling}throw Error(n(188))}if(u.return!==p.return)u=x,p=b;else{for(var T=!1,B=x.child;B;){if(B===u){T=!0,u=x,p=b;break}if(B===p){T=!0,p=x,u=b;break}B=B.sibling}if(!T){for(B=b.child;B;){if(B===u){T=!0,u=b,p=x;break}if(B===p){T=!0,p=b,u=x;break}B=B.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function zl(s){return s=Bu(s),s!==null?na(s):null}function na(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=na(s);if(a!==null)return a;s=s.sibling}return null}var ra=e.unstable_scheduleCallback,$l=e.unstable_cancelCallback,Uu=e.unstable_shouldYield,rp=e.unstable_requestPaint,ct=e.unstable_now,zu=e.unstable_getCurrentPriorityLevel,eo=e.unstable_ImmediatePriority,$i=e.unstable_UserBlockingPriority,nr=e.unstable_NormalPriority,Hl=e.unstable_LowPriority,$u=e.unstable_IdlePriority,to=null,Fn=null;function Hu(s){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(to,s,void 0,(s.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:Gu,Wl=Math.log,Wu=Math.LN2;function Gu(s){return s>>>=0,s===0?32:31-(Wl(s)/Wu|0)|0}var ia=64,sa=4194304;function Hi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function no(s,a){var u=s.pendingLanes;if(u===0)return 0;var p=0,x=s.suspendedLanes,b=s.pingedLanes,T=u&268435455;if(T!==0){var B=T&~x;B!==0?p=Hi(B):(b&=T,b!==0&&(p=Hi(b)))}else T=u&~x,T!==0?p=Hi(T):b!==0&&(p=Hi(b));if(p===0)return 0;if(a!==0&&a!==p&&(a&x)===0&&(x=p&-p,b=a&-a,x>=b||x===16&&(b&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)u=31-wn(a),x=1<<u,p|=s[u],a&=~x;return p}function ip(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ui(s,a){for(var u=s.suspendedLanes,p=s.pingedLanes,x=s.expirationTimes,b=s.pendingLanes;0<b;){var T=31-wn(b),B=1<<T,$=x[T];$===-1?((B&u)===0||(B&p)!==0)&&(x[T]=ip(B,a)):$<=a&&(s.expiredLanes|=B),b&=~B}}function Bn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ro(){var s=ia;return ia<<=1,(ia&4194240)===0&&(ia=64),s}function Wi(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Gi(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-wn(a),s[a]=u}function at(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var x=31-wn(u),b=1<<x;a[x]=0,p[x]=-1,s[x]=-1,u&=~b}}function qi(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var p=31-wn(u),x=1<<p;x&a|s[p]&a&&(s[p]|=a),u&=~x}}var qe=0;function Ki(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var qu,oa,Ku,Qu,Yu,Gl=!1,Br=[],Jt=null,Er=null,_r=null,Qi=new Map,rr=new Map,Ur=[],sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xu(s,a){switch(s){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Qi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(a.pointerId)}}function In(s,a,u,p,x,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:b,targetContainers:[x]},a!==null&&(a=ac(a),a!==null&&oa(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),s)}function op(s,a,u,p,x){switch(a){case"focusin":return Jt=In(Jt,s,a,u,p,x),!0;case"dragenter":return Er=In(Er,s,a,u,p,x),!0;case"mouseover":return _r=In(_r,s,a,u,p,x),!0;case"pointerover":var b=x.pointerId;return Qi.set(b,In(Qi.get(b)||null,s,a,u,p,x)),!0;case"gotpointercapture":return b=x.pointerId,rr.set(b,In(rr.get(b)||null,s,a,u,p,x)),!0}return!1}function Ju(s){var a=lo(s.target);if(a!==null){var u=wr(a);if(u!==null){if(a=u.tag,a===13){if(a=Zs(u),a!==null){s.blockedOn=a,Yu(s.priority,function(){Ku(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function di(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=aa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Qs=p,u.target.dispatchEvent(p),Qs=null}else return a=ac(u),a!==null&&oa(a),s.blockedOn=u,!1;a.shift()}return!0}function io(s,a,u){di(s)&&u.delete(a)}function Zu(){Gl=!1,Jt!==null&&di(Jt)&&(Jt=null),Er!==null&&di(Er)&&(Er=null),_r!==null&&di(_r)&&(_r=null),Qi.forEach(io),rr.forEach(io)}function Sr(s,a){s.blockedOn===a&&(s.blockedOn=null,Gl||(Gl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zu)))}function Tr(s){function a(x){return Sr(x,s)}if(0<Br.length){Sr(Br[0],s);for(var u=1;u<Br.length;u++){var p=Br[u];p.blockedOn===s&&(p.blockedOn=null)}}for(Jt!==null&&Sr(Jt,s),Er!==null&&Sr(Er,s),_r!==null&&Sr(_r,s),Qi.forEach(a),rr.forEach(a),u=0;u<Ur.length;u++)p=Ur[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<Ur.length&&(u=Ur[0],u.blockedOn===null);)Ju(u),u.blockedOn===null&&Ur.shift()}var hi=z.ReactCurrentBatchConfig,Yi=!0;function pt(s,a,u,p){var x=qe,b=hi.transition;hi.transition=null;try{qe=1,ql(s,a,u,p)}finally{qe=x,hi.transition=b}}function ap(s,a,u,p){var x=qe,b=hi.transition;hi.transition=null;try{qe=4,ql(s,a,u,p)}finally{qe=x,hi.transition=b}}function ql(s,a,u,p){if(Yi){var x=aa(s,a,u,p);if(x===null)yp(s,a,p,so,u),Xu(s,p);else if(op(x,s,a,u,p))p.stopPropagation();else if(Xu(s,p),a&4&&-1<sp.indexOf(s)){for(;x!==null;){var b=ac(x);if(b!==null&&qu(b),b=aa(s,a,u,p),b===null&&yp(s,a,p,so,u),b===x)break;x=b}x!==null&&p.stopPropagation()}else yp(s,a,p,null,u)}}var so=null;function aa(s,a,u,p){if(so=null,s=Yo(p),s=lo(s),s!==null)if(a=wr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=Zs(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return so=s,null}function Kl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zu()){case eo:return 1;case $i:return 4;case nr:case Hl:return 16;case $u:return 536870912;default:return 16}default:return 16}}var Un=null,la=null,Cn=null;function Ql(){if(Cn)return Cn;var s,a=la,u=a.length,p,x="value"in Un?Un.value:Un.textContent,b=x.length;for(s=0;s<u&&a[s]===x[s];s++);var T=u-s;for(p=1;p<=T&&a[u-p]===x[b-p];p++);return Cn=x.slice(s,1<p?1-p:void 0)}function ca(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function zr(){return!0}function Yl(){return!1}function Zt(s){function a(u,p,x,b,T){this._reactName=u,this._targetInst=x,this.type=p,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(u=s[B],this[B]=u?u(b):b[B]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?zr:Yl,this.isPropagationStopped=Yl,this}return ie(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),a}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Zt(Ir),$r=ie({},Ir,{view:0,detail:0}),lp=Zt($r),da,fi,Xi,oo=ie({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xi&&(Xi&&s.type==="mousemove"?(da=s.screenX-Xi.screenX,fi=s.screenY-Xi.screenY):fi=da=0,Xi=s),da)},movementY:function(s){return"movementY"in s?s.movementY:fi}}),ha=Zt(oo),Xl=ie({},oo,{dataTransfer:0}),ed=Zt(Xl),fa=ie({},$r,{relatedTarget:0}),pa=Zt(fa),td=ie({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),pi=Zt(td),nd=ie({},Ir,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rd=Zt(nd),id=ie({},Ir,{data:0}),Jl=Zt(id),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function od(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=sd[s])?!!a[s]:!1}function Hr(){return od}var h=ie({},$r,{key:function(s){if(s.key){var a=ma[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ca(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?bn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(s){return s.type==="keypress"?ca(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ca(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=Zt(h),_=ie({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D=Zt(_),q=ie({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),J=Zt(q),ce=ie({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),st=Zt(ce),Lt=ie({},oo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Zt(Lt),zt=[9,13,27,32],At=c&&"CompositionEvent"in window,ir=null;c&&"documentMode"in document&&(ir=document.documentMode);var zn=c&&"TextEvent"in window&&!ir,ao=c&&(!At||ir&&8<ir&&11>=ir),ga=" ",I0=!1;function C0(s,a){switch(s){case"keyup":return zt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var va=!1;function OP(s,a){switch(s){case"compositionend":return A0(a);case"keypress":return a.which!==32?null:(I0=!0,ga);case"textInput":return s=a.data,s===ga&&I0?null:s;default:return null}}function LP(s,a){if(va)return s==="compositionend"||!At&&C0(s,a)?(s=Ql(),Cn=la=Un=null,va=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ao&&a.locale!=="ko"?null:a.data;default:return null}}var jP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!jP[s.type]:a==="textarea"}function R0(s,a,u,p){Fr(p),a=dd(a,"onChange"),0<a.length&&(u=new ua("onChange","change",null,u,p),s.push({event:u,listeners:a}))}var Zl=null,ec=null;function VP(s){K0(s,0)}function ad(s){var a=Ea(s);if(Ve(a))return s}function FP(s,a){if(s==="change")return a}var N0=!1;if(c){var cp;if(c){var up="oninput"in document;if(!up){var k0=document.createElement("div");k0.setAttribute("oninput","return;"),up=typeof k0.oninput=="function"}cp=up}else cp=!1;N0=cp&&(!document.documentMode||9<document.documentMode)}function D0(){Zl&&(Zl.detachEvent("onpropertychange",M0),ec=Zl=null)}function M0(s){if(s.propertyName==="value"&&ad(ec)){var a=[];R0(a,ec,s,Yo(s)),Bl(VP,a)}}function BP(s,a,u){s==="focusin"?(D0(),Zl=a,ec=u,Zl.attachEvent("onpropertychange",M0)):s==="focusout"&&D0()}function UP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ad(ec)}function zP(s,a){if(s==="click")return ad(a)}function $P(s,a){if(s==="input"||s==="change")return ad(a)}function HP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Cr=typeof Object.is=="function"?Object.is:HP;function tc(s,a){if(Cr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var x=u[p];if(!d.call(a,x)||!Cr(s[x],a[x]))return!1}return!0}function O0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function L0(s,a){var u=O0(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=a&&p>=a)return{node:u,offset:a-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=O0(u)}}function j0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?j0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function V0(){for(var s=window,a=Ke();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Ke(s.document)}return a}function dp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function WP(s){var a=V0(),u=s.focusedElem,p=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&j0(u.ownerDocument.documentElement,u)){if(p!==null&&dp(u)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var x=u.textContent.length,b=Math.min(p.start,x);p=p.end===void 0?b:Math.min(p.end,x),!s.extend&&b>p&&(x=p,p=b,b=x),x=L0(u,b);var T=L0(u,p);x&&T&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),s.removeAllRanges(),b>p?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var GP=c&&"documentMode"in document&&11>=document.documentMode,ya=null,hp=null,nc=null,fp=!1;function F0(s,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fp||ya==null||ya!==Ke(p)||(p=ya,"selectionStart"in p&&dp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),nc&&tc(nc,p)||(nc=p,p=dd(hp,"onSelect"),0<p.length&&(a=new ua("onSelect","select",null,a,u),s.push({event:a,listeners:p}),a.target=ya)))}function ld(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var xa={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},pp={},B0={};c&&(B0=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function cd(s){if(pp[s])return pp[s];if(!xa[s])return s;var a=xa[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in B0)return pp[s]=a[u];return s}var U0=cd("animationend"),z0=cd("animationiteration"),$0=cd("animationstart"),H0=cd("transitionend"),W0=new Map,G0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(s,a){W0.set(s,a),o(a,[s])}for(var mp=0;mp<G0.length;mp++){var gp=G0[mp],qP=gp.toLowerCase(),KP=gp[0].toUpperCase()+gp.slice(1);Ji(qP,"on"+KP)}Ji(U0,"onAnimationEnd"),Ji(z0,"onAnimationIteration"),Ji($0,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(H0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QP=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function q0(s,a,u){var p=s.type||"unknown-event";s.currentTarget=u,Fu(p,a,void 0,s),s.currentTarget=null}function K0(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],x=p.event;p=p.listeners;e:{var b=void 0;if(a)for(var T=p.length-1;0<=T;T--){var B=p[T],$=B.instance,Y=B.currentTarget;if(B=B.listener,$!==b&&x.isPropagationStopped())break e;q0(x,B,Y),b=$}else for(T=0;T<p.length;T++){if(B=p[T],$=B.instance,Y=B.currentTarget,B=B.listener,$!==b&&x.isPropagationStopped())break e;q0(x,B,Y),b=$}}}if(xr)throw s=Ul,xr=!1,Ul=null,s}function dt(s,a){var u=a[Sp];u===void 0&&(u=a[Sp]=new Set);var p=s+"__bubble";u.has(p)||(Q0(a,s,2,!1),u.add(p))}function vp(s,a,u){var p=0;a&&(p|=4),Q0(u,s,p,a)}var ud="_reactListening"+Math.random().toString(36).slice(2);function ic(s){if(!s[ud]){s[ud]=!0,r.forEach(function(u){u!=="selectionchange"&&(QP.has(u)||vp(u,!1,s),vp(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[ud]||(a[ud]=!0,vp("selectionchange",!1,a))}}function Q0(s,a,u,p){switch(Kl(a)){case 1:var x=pt;break;case 4:x=ap;break;default:x=ql}u=x.bind(null,a,u,s),x=void 0,!Zo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),p?x!==void 0?s.addEventListener(a,u,{capture:!0,passive:x}):s.addEventListener(a,u,!0):x!==void 0?s.addEventListener(a,u,{passive:x}):s.addEventListener(a,u,!1)}function yp(s,a,u,p,x){var b=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var B=p.stateNode.containerInfo;if(B===x||B.nodeType===8&&B.parentNode===x)break;if(T===4)for(T=p.return;T!==null;){var $=T.tag;if(($===3||$===4)&&($=T.stateNode.containerInfo,$===x||$.nodeType===8&&$.parentNode===x))return;T=T.return}for(;B!==null;){if(T=lo(B),T===null)return;if($=T.tag,$===5||$===6){p=b=T;continue e}B=B.parentNode}}p=p.return}Bl(function(){var Y=b,ne=Yo(u),se=[];e:{var te=W0.get(s);if(te!==void 0){var de=ua,ge=s;switch(s){case"keypress":if(ca(u)===0)break e;case"keydown":case"keyup":de=w;break;case"focusin":ge="focus",de=pa;break;case"focusout":ge="blur",de=pa;break;case"beforeblur":case"afterblur":de=pa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=J;break;case U0:case z0:case $0:de=pi;break;case H0:de=st;break;case"scroll":de=lp;break;case"wheel":de=Qe;break;case"copy":case"cut":case"paste":de=rd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=D}var ye=(a&4)!==0,St=!ye&&s==="scroll",K=ye?te!==null?te+"Capture":null:te;ye=[];for(var W=Y,Q;W!==null;){Q=W;var oe=Q.stateNode;if(Q.tag===5&&oe!==null&&(Q=oe,K!==null&&(oe=_t(W,K),oe!=null&&ye.push(sc(W,oe,Q)))),St)break;W=W.return}0<ye.length&&(te=new de(te,ge,null,u,ne),se.push({event:te,listeners:ye}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",te&&u!==Qs&&(ge=u.relatedTarget||u.fromElement)&&(lo(ge)||ge[mi]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(ge=u.relatedTarget||u.toElement,de=Y,ge=ge?lo(ge):null,ge!==null&&(St=wr(ge),ge!==St||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=Y),de!==ge)){if(ye=ha,oe="onMouseLeave",K="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(ye=D,oe="onPointerLeave",K="onPointerEnter",W="pointer"),St=de==null?te:Ea(de),Q=ge==null?te:Ea(ge),te=new ye(oe,W+"leave",de,u,ne),te.target=St,te.relatedTarget=Q,oe=null,lo(ne)===Y&&(ye=new ye(K,W+"enter",ge,u,ne),ye.target=Q,ye.relatedTarget=St,oe=ye),St=oe,de&&ge)t:{for(ye=de,K=ge,W=0,Q=ye;Q;Q=wa(Q))W++;for(Q=0,oe=K;oe;oe=wa(oe))Q++;for(;0<W-Q;)ye=wa(ye),W--;for(;0<Q-W;)K=wa(K),Q--;for(;W--;){if(ye===K||K!==null&&ye===K.alternate)break t;ye=wa(ye),K=wa(K)}ye=null}else ye=null;de!==null&&Y0(se,te,de,ye,!1),ge!==null&&St!==null&&Y0(se,St,ge,ye,!0)}}e:{if(te=Y?Ea(Y):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var xe=FP;else if(P0(te))if(N0)xe=$P;else{xe=UP;var Ce=BP}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(xe=zP);if(xe&&(xe=xe(s,Y))){R0(se,xe,u,ne);break e}Ce&&Ce(s,te,Y),s==="focusout"&&(Ce=te._wrapperState)&&Ce.controlled&&te.type==="number"&&xn(te,"number",te.value)}switch(Ce=Y?Ea(Y):window,s){case"focusin":(P0(Ce)||Ce.contentEditable==="true")&&(ya=Ce,hp=Y,nc=null);break;case"focusout":nc=hp=ya=null;break;case"mousedown":fp=!0;break;case"contextmenu":case"mouseup":case"dragend":fp=!1,F0(se,u,ne);break;case"selectionchange":if(GP)break;case"keydown":case"keyup":F0(se,u,ne)}var Ae;if(At)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else va?C0(s,u)&&(Oe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(ao&&u.locale!=="ko"&&(va||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&va&&(Ae=Ql()):(Un=ne,la="value"in Un?Un.value:Un.textContent,va=!0)),Ce=dd(Y,Oe),0<Ce.length&&(Oe=new Jl(Oe,s,null,u,ne),se.push({event:Oe,listeners:Ce}),Ae?Oe.data=Ae:(Ae=A0(u),Ae!==null&&(Oe.data=Ae)))),(Ae=zn?OP(s,u):LP(s,u))&&(Y=dd(Y,"onBeforeInput"),0<Y.length&&(ne=new Jl("onBeforeInput","beforeinput",null,u,ne),se.push({event:ne,listeners:Y}),ne.data=Ae))}K0(se,a)})}function sc(s,a,u){return{instance:s,listener:a,currentTarget:u}}function dd(s,a){for(var u=a+"Capture",p=[];s!==null;){var x=s,b=x.stateNode;x.tag===5&&b!==null&&(x=b,b=_t(s,u),b!=null&&p.unshift(sc(s,b,x)),b=_t(s,a),b!=null&&p.push(sc(s,b,x))),s=s.return}return p}function wa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Y0(s,a,u,p,x){for(var b=a._reactName,T=[];u!==null&&u!==p;){var B=u,$=B.alternate,Y=B.stateNode;if($!==null&&$===p)break;B.tag===5&&Y!==null&&(B=Y,x?($=_t(u,b),$!=null&&T.unshift(sc(u,$,B))):x||($=_t(u,b),$!=null&&T.push(sc(u,$,B)))),u=u.return}T.length!==0&&s.push({event:a,listeners:T})}var YP=/\r\n?/g,XP=/\u0000|\uFFFD/g;function X0(s){return(typeof s=="string"?s:""+s).replace(YP,`
`).replace(XP,"")}function hd(s,a,u){if(a=X0(a),X0(s)!==a&&u)throw Error(n(425))}function fd(){}var xp=null,wp=null;function bp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ep=typeof setTimeout=="function"?setTimeout:void 0,JP=typeof clearTimeout=="function"?clearTimeout:void 0,J0=typeof Promise=="function"?Promise:void 0,ZP=typeof queueMicrotask=="function"?queueMicrotask:typeof J0<"u"?function(s){return J0.resolve(null).then(s).catch(e2)}:Ep;function e2(s){setTimeout(function(){throw s})}function _p(s,a){var u=a,p=0;do{var x=u.nextSibling;if(s.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(p===0){s.removeChild(x),Tr(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=x}while(u);Tr(a)}function Zi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Z0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var ba=Math.random().toString(36).slice(2),Wr="__reactFiber$"+ba,oc="__reactProps$"+ba,mi="__reactContainer$"+ba,Sp="__reactEvents$"+ba,t2="__reactListeners$"+ba,n2="__reactHandles$"+ba;function lo(s){var a=s[Wr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[mi]||u[Wr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Z0(s);s!==null;){if(u=s[Wr])return u;s=Z0(s)}return a}s=u,u=s.parentNode}return null}function ac(s){return s=s[Wr]||s[mi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ea(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function pd(s){return s[oc]||null}var Tp=[],_a=-1;function es(s){return{current:s}}function ht(s){0>_a||(s.current=Tp[_a],Tp[_a]=null,_a--)}function ut(s,a){_a++,Tp[_a]=s.current,s.current=a}var ts={},an=es(ts),An=es(!1),co=ts;function Sa(s,a){var u=s.type.contextTypes;if(!u)return ts;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var x={},b;for(b in u)x[b]=a[b];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=x),x}function Pn(s){return s=s.childContextTypes,s!=null}function md(){ht(An),ht(an)}function ex(s,a,u){if(an.current!==ts)throw Error(n(168));ut(an,a),ut(An,u)}function tx(s,a,u){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var x in p)if(!(x in a))throw Error(n(108,Be(s)||"Unknown",x));return ie({},u,p)}function gd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ts,co=an.current,ut(an,s),ut(An,An.current),!0}function nx(s,a,u){var p=s.stateNode;if(!p)throw Error(n(169));u?(s=tx(s,a,co),p.__reactInternalMemoizedMergedChildContext=s,ht(An),ht(an),ut(an,s)):ht(An),ut(An,u)}var gi=null,vd=!1,Ip=!1;function rx(s){gi===null?gi=[s]:gi.push(s)}function r2(s){vd=!0,rx(s)}function ns(){if(!Ip&&gi!==null){Ip=!0;var s=0,a=qe;try{var u=gi;for(qe=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}gi=null,vd=!1}catch(x){throw gi!==null&&(gi=gi.slice(s+1)),ra(eo,ns),x}finally{qe=a,Ip=!1}}return null}var Ta=[],Ia=0,yd=null,xd=0,sr=[],or=0,uo=null,vi=1,yi="";function ho(s,a){Ta[Ia++]=xd,Ta[Ia++]=yd,yd=s,xd=a}function ix(s,a,u){sr[or++]=vi,sr[or++]=yi,sr[or++]=uo,uo=s;var p=vi;s=yi;var x=32-wn(p)-1;p&=~(1<<x),u+=1;var b=32-wn(a)+x;if(30<b){var T=x-x%5;b=(p&(1<<T)-1).toString(32),p>>=T,x-=T,vi=1<<32-wn(a)+x|u<<x|p,yi=b+s}else vi=1<<b|u<<x|p,yi=s}function Cp(s){s.return!==null&&(ho(s,1),ix(s,1,0))}function Ap(s){for(;s===yd;)yd=Ta[--Ia],Ta[Ia]=null,xd=Ta[--Ia],Ta[Ia]=null;for(;s===uo;)uo=sr[--or],sr[or]=null,yi=sr[--or],sr[or]=null,vi=sr[--or],sr[or]=null}var $n=null,Hn=null,mt=!1,Ar=null;function sx(s,a){var u=ur(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function ox(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,$n=s,Hn=Zi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,$n=s,Hn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=uo!==null?{id:vi,overflow:yi}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=ur(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,$n=s,Hn=null,!0):!1;default:return!1}}function Pp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Rp(s){if(mt){var a=Hn;if(a){var u=a;if(!ox(s,a)){if(Pp(s))throw Error(n(418));a=Zi(u.nextSibling);var p=$n;a&&ox(s,a)?sx(p,u):(s.flags=s.flags&-4097|2,mt=!1,$n=s)}}else{if(Pp(s))throw Error(n(418));s.flags=s.flags&-4097|2,mt=!1,$n=s}}}function ax(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;$n=s}function wd(s){if(s!==$n)return!1;if(!mt)return ax(s),mt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!bp(s.type,s.memoizedProps)),a&&(a=Hn)){if(Pp(s))throw lx(),Error(n(418));for(;a;)sx(s,a),a=Zi(a.nextSibling)}if(ax(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Hn=Zi(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Hn=null}}else Hn=$n?Zi(s.stateNode.nextSibling):null;return!0}function lx(){for(var s=Hn;s;)s=Zi(s.nextSibling)}function Ca(){Hn=$n=null,mt=!1}function Np(s){Ar===null?Ar=[s]:Ar.push(s)}var i2=z.ReactCurrentBatchConfig;function lc(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,s));var x=p,b=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(T){var B=x.refs;T===null?delete B[b]:B[b]=T},a._stringRef=b,a)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function bd(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function cx(s){var a=s._init;return a(s._payload)}function ux(s){function a(K,W){if(s){var Q=K.deletions;Q===null?(K.deletions=[W],K.flags|=16):Q.push(W)}}function u(K,W){if(!s)return null;for(;W!==null;)a(K,W),W=W.sibling;return null}function p(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function x(K,W){return K=us(K,W),K.index=0,K.sibling=null,K}function b(K,W,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<W?(K.flags|=2,W):Q):(K.flags|=2,W)):(K.flags|=1048576,W)}function T(K){return s&&K.alternate===null&&(K.flags|=2),K}function B(K,W,Q,oe){return W===null||W.tag!==6?(W=Em(Q,K.mode,oe),W.return=K,W):(W=x(W,Q),W.return=K,W)}function $(K,W,Q,oe){var xe=Q.type;return xe===R?ne(K,W,Q.props.children,oe,Q.key):W!==null&&(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Ee&&cx(xe)===W.type)?(oe=x(W,Q.props),oe.ref=lc(K,W,Q),oe.return=K,oe):(oe=Wd(Q.type,Q.key,Q.props,null,K.mode,oe),oe.ref=lc(K,W,Q),oe.return=K,oe)}function Y(K,W,Q,oe){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=_m(Q,K.mode,oe),W.return=K,W):(W=x(W,Q.children||[]),W.return=K,W)}function ne(K,W,Q,oe,xe){return W===null||W.tag!==7?(W=wo(Q,K.mode,oe,xe),W.return=K,W):(W=x(W,Q),W.return=K,W)}function se(K,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Em(""+W,K.mode,Q),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case V:return Q=Wd(W.type,W.key,W.props,null,K.mode,Q),Q.ref=lc(K,null,W),Q.return=K,Q;case G:return W=_m(W,K.mode,Q),W.return=K,W;case Ee:var oe=W._init;return se(K,oe(W._payload),Q)}if(on(W)||ue(W))return W=wo(W,K.mode,Q,null),W.return=K,W;bd(K,W)}return null}function te(K,W,Q,oe){var xe=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return xe!==null?null:B(K,W,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:return Q.key===xe?$(K,W,Q,oe):null;case G:return Q.key===xe?Y(K,W,Q,oe):null;case Ee:return xe=Q._init,te(K,W,xe(Q._payload),oe)}if(on(Q)||ue(Q))return xe!==null?null:ne(K,W,Q,oe,null);bd(K,Q)}return null}function de(K,W,Q,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return K=K.get(Q)||null,B(W,K,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case V:return K=K.get(oe.key===null?Q:oe.key)||null,$(W,K,oe,xe);case G:return K=K.get(oe.key===null?Q:oe.key)||null,Y(W,K,oe,xe);case Ee:var Ce=oe._init;return de(K,W,Q,Ce(oe._payload),xe)}if(on(oe)||ue(oe))return K=K.get(Q)||null,ne(W,K,oe,xe,null);bd(W,oe)}return null}function ge(K,W,Q,oe){for(var xe=null,Ce=null,Ae=W,Oe=W=0,Wt=null;Ae!==null&&Oe<Q.length;Oe++){Ae.index>Oe?(Wt=Ae,Ae=null):Wt=Ae.sibling;var et=te(K,Ae,Q[Oe],oe);if(et===null){Ae===null&&(Ae=Wt);break}s&&Ae&&et.alternate===null&&a(K,Ae),W=b(et,W,Oe),Ce===null?xe=et:Ce.sibling=et,Ce=et,Ae=Wt}if(Oe===Q.length)return u(K,Ae),mt&&ho(K,Oe),xe;if(Ae===null){for(;Oe<Q.length;Oe++)Ae=se(K,Q[Oe],oe),Ae!==null&&(W=b(Ae,W,Oe),Ce===null?xe=Ae:Ce.sibling=Ae,Ce=Ae);return mt&&ho(K,Oe),xe}for(Ae=p(K,Ae);Oe<Q.length;Oe++)Wt=de(Ae,K,Oe,Q[Oe],oe),Wt!==null&&(s&&Wt.alternate!==null&&Ae.delete(Wt.key===null?Oe:Wt.key),W=b(Wt,W,Oe),Ce===null?xe=Wt:Ce.sibling=Wt,Ce=Wt);return s&&Ae.forEach(function(ds){return a(K,ds)}),mt&&ho(K,Oe),xe}function ye(K,W,Q,oe){var xe=ue(Q);if(typeof xe!="function")throw Error(n(150));if(Q=xe.call(Q),Q==null)throw Error(n(151));for(var Ce=xe=null,Ae=W,Oe=W=0,Wt=null,et=Q.next();Ae!==null&&!et.done;Oe++,et=Q.next()){Ae.index>Oe?(Wt=Ae,Ae=null):Wt=Ae.sibling;var ds=te(K,Ae,et.value,oe);if(ds===null){Ae===null&&(Ae=Wt);break}s&&Ae&&ds.alternate===null&&a(K,Ae),W=b(ds,W,Oe),Ce===null?xe=ds:Ce.sibling=ds,Ce=ds,Ae=Wt}if(et.done)return u(K,Ae),mt&&ho(K,Oe),xe;if(Ae===null){for(;!et.done;Oe++,et=Q.next())et=se(K,et.value,oe),et!==null&&(W=b(et,W,Oe),Ce===null?xe=et:Ce.sibling=et,Ce=et);return mt&&ho(K,Oe),xe}for(Ae=p(K,Ae);!et.done;Oe++,et=Q.next())et=de(Ae,K,Oe,et.value,oe),et!==null&&(s&&et.alternate!==null&&Ae.delete(et.key===null?Oe:et.key),W=b(et,W,Oe),Ce===null?xe=et:Ce.sibling=et,Ce=et);return s&&Ae.forEach(function(j2){return a(K,j2)}),mt&&ho(K,Oe),xe}function St(K,W,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===R&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:e:{for(var xe=Q.key,Ce=W;Ce!==null;){if(Ce.key===xe){if(xe=Q.type,xe===R){if(Ce.tag===7){u(K,Ce.sibling),W=x(Ce,Q.props.children),W.return=K,K=W;break e}}else if(Ce.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Ee&&cx(xe)===Ce.type){u(K,Ce.sibling),W=x(Ce,Q.props),W.ref=lc(K,Ce,Q),W.return=K,K=W;break e}u(K,Ce);break}else a(K,Ce);Ce=Ce.sibling}Q.type===R?(W=wo(Q.props.children,K.mode,oe,Q.key),W.return=K,K=W):(oe=Wd(Q.type,Q.key,Q.props,null,K.mode,oe),oe.ref=lc(K,W,Q),oe.return=K,K=oe)}return T(K);case G:e:{for(Ce=Q.key;W!==null;){if(W.key===Ce)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){u(K,W.sibling),W=x(W,Q.children||[]),W.return=K,K=W;break e}else{u(K,W);break}else a(K,W);W=W.sibling}W=_m(Q,K.mode,oe),W.return=K,K=W}return T(K);case Ee:return Ce=Q._init,St(K,W,Ce(Q._payload),oe)}if(on(Q))return ge(K,W,Q,oe);if(ue(Q))return ye(K,W,Q,oe);bd(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,W!==null&&W.tag===6?(u(K,W.sibling),W=x(W,Q),W.return=K,K=W):(u(K,W),W=Em(Q,K.mode,oe),W.return=K,K=W),T(K)):u(K,W)}return St}var Aa=ux(!0),dx=ux(!1),Ed=es(null),_d=null,Pa=null,kp=null;function Dp(){kp=Pa=_d=null}function Mp(s){var a=Ed.current;ht(Ed),s._currentValue=a}function Op(s,a,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===u)break;s=s.return}}function Ra(s,a){_d=s,kp=Pa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Rn=!0),s.firstContext=null)}function ar(s){var a=s._currentValue;if(kp!==s)if(s={context:s,memoizedValue:a,next:null},Pa===null){if(_d===null)throw Error(n(308));Pa=s,_d.dependencies={lanes:0,firstContext:s}}else Pa=Pa.next=s;return a}var fo=null;function Lp(s){fo===null?fo=[s]:fo.push(s)}function hx(s,a,u,p){var x=a.interleaved;return x===null?(u.next=u,Lp(a)):(u.next=x.next,x.next=u),a.interleaved=u,xi(s,p)}function xi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var rs=!1;function jp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fx(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function wi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function is(s,a,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Je&2)!==0){var x=p.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),p.pending=a,xi(s,u)}return x=p.interleaved,x===null?(a.next=a,Lp(p)):(a.next=x.next,x.next=a),p.interleaved=a,xi(s,u)}function Sd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,qi(s,u)}}function px(s,a){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var x=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};b===null?x=b=T:b=b.next=T,u=u.next}while(u!==null);b===null?x=b=a:b=b.next=a}else x=b=a;u={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Td(s,a,u,p){var x=s.updateQueue;rs=!1;var b=x.firstBaseUpdate,T=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var $=B,Y=$.next;$.next=null,T===null?b=Y:T.next=Y,T=$;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,B=ne.lastBaseUpdate,B!==T&&(B===null?ne.firstBaseUpdate=Y:B.next=Y,ne.lastBaseUpdate=$))}if(b!==null){var se=x.baseState;T=0,ne=Y=$=null,B=b;do{var te=B.lane,de=B.eventTime;if((p&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var ge=s,ye=B;switch(te=a,de=u,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){se=ge.call(de,se,te);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,te=typeof ge=="function"?ge.call(de,se,te):ge,te==null)break e;se=ie({},se,te);break e;case 2:rs=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,te=x.effects,te===null?x.effects=[B]:te.push(B))}else de={eventTime:de,lane:te,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ne===null?(Y=ne=de,$=se):ne=ne.next=de,T|=te;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;te=B,B=te.next,te.next=null,x.lastBaseUpdate=te,x.shared.pending=null}}while(!0);if(ne===null&&($=se),x.baseState=$,x.firstBaseUpdate=Y,x.lastBaseUpdate=ne,a=x.shared.interleaved,a!==null){x=a;do T|=x.lane,x=x.next;while(x!==a)}else b===null&&(x.shared.lanes=0);go|=T,s.lanes=T,s.memoizedState=se}}function mx(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],x=p.callback;if(x!==null){if(p.callback=null,p=u,typeof x!="function")throw Error(n(191,x));x.call(p)}}}var cc={},Gr=es(cc),uc=es(cc),dc=es(cc);function po(s){if(s===cc)throw Error(n(174));return s}function Vp(s,a){switch(ut(dc,a),ut(uc,s),ut(Gr,cc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ot(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ot(a,s)}ht(Gr),ut(Gr,a)}function Na(){ht(Gr),ht(uc),ht(dc)}function gx(s){po(dc.current);var a=po(Gr.current),u=Ot(a,s.type);a!==u&&(ut(uc,s),ut(Gr,u))}function Fp(s){uc.current===s&&(ht(Gr),ht(uc))}var vt=es(0);function Id(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Bp=[];function Up(){for(var s=0;s<Bp.length;s++)Bp[s]._workInProgressVersionPrimary=null;Bp.length=0}var Cd=z.ReactCurrentDispatcher,zp=z.ReactCurrentBatchConfig,mo=0,yt=null,jt=null,$t=null,Ad=!1,hc=!1,fc=0,s2=0;function ln(){throw Error(n(321))}function $p(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Cr(s[u],a[u]))return!1;return!0}function Hp(s,a,u,p,x,b){if(mo=b,yt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Cd.current=s===null||s.memoizedState===null?c2:u2,s=u(p,x),hc){b=0;do{if(hc=!1,fc=0,25<=b)throw Error(n(301));b+=1,$t=jt=null,a.updateQueue=null,Cd.current=d2,s=u(p,x)}while(hc)}if(Cd.current=Nd,a=jt!==null&&jt.next!==null,mo=0,$t=jt=yt=null,Ad=!1,a)throw Error(n(300));return s}function Wp(){var s=fc!==0;return fc=0,s}function qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?yt.memoizedState=$t=s:$t=$t.next=s,$t}function lr(){if(jt===null){var s=yt.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var a=$t===null?yt.memoizedState:$t.next;if(a!==null)$t=a,jt=s;else{if(s===null)throw Error(n(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},$t===null?yt.memoizedState=$t=s:$t=$t.next=s}return $t}function pc(s,a){return typeof a=="function"?a(s):a}function Gp(s){var a=lr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=jt,x=p.baseQueue,b=u.pending;if(b!==null){if(x!==null){var T=x.next;x.next=b.next,b.next=T}p.baseQueue=x=b,u.pending=null}if(x!==null){b=x.next,p=p.baseState;var B=T=null,$=null,Y=b;do{var ne=Y.lane;if((mo&ne)===ne)$!==null&&($=$.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var se={lane:ne,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};$===null?(B=$=se,T=p):$=$.next=se,yt.lanes|=ne,go|=ne}Y=Y.next}while(Y!==null&&Y!==b);$===null?T=p:$.next=B,Cr(p,a.memoizedState)||(Rn=!0),a.memoizedState=p,a.baseState=T,a.baseQueue=$,u.lastRenderedState=p}if(s=u.interleaved,s!==null){x=s;do b=x.lane,yt.lanes|=b,go|=b,x=x.next;while(x!==s)}else x===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function qp(s){var a=lr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=u.dispatch,x=u.pending,b=a.memoizedState;if(x!==null){u.pending=null;var T=x=x.next;do b=s(b,T.action),T=T.next;while(T!==x);Cr(b,a.memoizedState)||(Rn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,p]}function vx(){}function yx(s,a){var u=yt,p=lr(),x=a(),b=!Cr(p.memoizedState,x);if(b&&(p.memoizedState=x,Rn=!0),p=p.queue,Kp(bx.bind(null,u,p,s),[s]),p.getSnapshot!==a||b||$t!==null&&$t.memoizedState.tag&1){if(u.flags|=2048,mc(9,wx.bind(null,u,p,x,a),void 0,null),Ht===null)throw Error(n(349));(mo&30)!==0||xx(u,a,x)}return x}function xx(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function wx(s,a,u,p){a.value=u,a.getSnapshot=p,Ex(a)&&_x(s)}function bx(s,a,u){return u(function(){Ex(a)&&_x(s)})}function Ex(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Cr(s,u)}catch{return!0}}function _x(s){var a=xi(s,1);a!==null&&kr(a,s,1,-1)}function Sx(s){var a=qr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:s},a.queue=s,s=s.dispatch=l2.bind(null,yt,s),[a.memoizedState,s]}function mc(s,a,u,p){return s={tag:s,create:a,destroy:u,deps:p,next:null},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,a.lastEffect=s)),s}function Tx(){return lr().memoizedState}function Pd(s,a,u,p){var x=qr();yt.flags|=s,x.memoizedState=mc(1|a,u,void 0,p===void 0?null:p)}function Rd(s,a,u,p){var x=lr();p=p===void 0?null:p;var b=void 0;if(jt!==null){var T=jt.memoizedState;if(b=T.destroy,p!==null&&$p(p,T.deps)){x.memoizedState=mc(a,u,b,p);return}}yt.flags|=s,x.memoizedState=mc(1|a,u,b,p)}function Ix(s,a){return Pd(8390656,8,s,a)}function Kp(s,a){return Rd(2048,8,s,a)}function Cx(s,a){return Rd(4,2,s,a)}function Ax(s,a){return Rd(4,4,s,a)}function Px(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Rx(s,a,u){return u=u!=null?u.concat([s]):null,Rd(4,4,Px.bind(null,a,s),u)}function Qp(){}function Nx(s,a){var u=lr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&$p(a,p[1])?p[0]:(u.memoizedState=[s,a],s)}function kx(s,a){var u=lr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&$p(a,p[1])?p[0]:(s=s(),u.memoizedState=[s,a],s)}function Dx(s,a,u){return(mo&21)===0?(s.baseState&&(s.baseState=!1,Rn=!0),s.memoizedState=u):(Cr(u,a)||(u=ro(),yt.lanes|=u,go|=u,s.baseState=!0),a)}function o2(s,a){var u=qe;qe=u!==0&&4>u?u:4,s(!0);var p=zp.transition;zp.transition={};try{s(!1),a()}finally{qe=u,zp.transition=p}}function Mx(){return lr().memoizedState}function a2(s,a,u){var p=ls(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Ox(s))Lx(a,u);else if(u=hx(s,a,u,p),u!==null){var x=_n();kr(u,s,p,x),jx(u,a,p)}}function l2(s,a,u){var p=ls(s),x={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ox(s))Lx(a,x);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var T=a.lastRenderedState,B=b(T,u);if(x.hasEagerState=!0,x.eagerState=B,Cr(B,T)){var $=a.interleaved;$===null?(x.next=x,Lp(a)):(x.next=$.next,$.next=x),a.interleaved=x;return}}catch{}finally{}u=hx(s,a,x,p),u!==null&&(x=_n(),kr(u,s,p,x),jx(u,a,p))}}function Ox(s){var a=s.alternate;return s===yt||a!==null&&a===yt}function Lx(s,a){hc=Ad=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function jx(s,a,u){if((u&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,qi(s,u)}}var Nd={readContext:ar,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},c2={readContext:ar,useCallback:function(s,a){return qr().memoizedState=[s,a===void 0?null:a],s},useContext:ar,useEffect:Ix,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Pd(4194308,4,Px.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Pd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Pd(4,2,s,a)},useMemo:function(s,a){var u=qr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var p=qr();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=a2.bind(null,yt,s),[p.memoizedState,s]},useRef:function(s){var a=qr();return s={current:s},a.memoizedState=s},useState:Sx,useDebugValue:Qp,useDeferredValue:function(s){return qr().memoizedState=s},useTransition:function(){var s=Sx(!1),a=s[0];return s=o2.bind(null,s[1]),qr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var p=yt,x=qr();if(mt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),Ht===null)throw Error(n(349));(mo&30)!==0||xx(p,a,u)}x.memoizedState=u;var b={value:u,getSnapshot:a};return x.queue=b,Ix(bx.bind(null,p,b,s),[s]),p.flags|=2048,mc(9,wx.bind(null,p,b,u,a),void 0,null),u},useId:function(){var s=qr(),a=Ht.identifierPrefix;if(mt){var u=yi,p=vi;u=(p&~(1<<32-wn(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=fc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=s2++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},u2={readContext:ar,useCallback:Nx,useContext:ar,useEffect:Kp,useImperativeHandle:Rx,useInsertionEffect:Cx,useLayoutEffect:Ax,useMemo:kx,useReducer:Gp,useRef:Tx,useState:function(){return Gp(pc)},useDebugValue:Qp,useDeferredValue:function(s){var a=lr();return Dx(a,jt.memoizedState,s)},useTransition:function(){var s=Gp(pc)[0],a=lr().memoizedState;return[s,a]},useMutableSource:vx,useSyncExternalStore:yx,useId:Mx,unstable_isNewReconciler:!1},d2={readContext:ar,useCallback:Nx,useContext:ar,useEffect:Kp,useImperativeHandle:Rx,useInsertionEffect:Cx,useLayoutEffect:Ax,useMemo:kx,useReducer:qp,useRef:Tx,useState:function(){return qp(pc)},useDebugValue:Qp,useDeferredValue:function(s){var a=lr();return jt===null?a.memoizedState=s:Dx(a,jt.memoizedState,s)},useTransition:function(){var s=qp(pc)[0],a=lr().memoizedState;return[s,a]},useMutableSource:vx,useSyncExternalStore:yx,useId:Mx,unstable_isNewReconciler:!1};function Pr(s,a){if(s&&s.defaultProps){a=ie({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Yp(s,a,u,p){a=s.memoizedState,u=u(p,a),u=u==null?a:ie({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var kd={isMounted:function(s){return(s=s._reactInternals)?wr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var p=_n(),x=ls(s),b=wi(p,x);b.payload=a,u!=null&&(b.callback=u),a=is(s,b,x),a!==null&&(kr(a,s,x,p),Sd(a,s,x))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var p=_n(),x=ls(s),b=wi(p,x);b.tag=1,b.payload=a,u!=null&&(b.callback=u),a=is(s,b,x),a!==null&&(kr(a,s,x,p),Sd(a,s,x))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=_n(),p=ls(s),x=wi(u,p);x.tag=2,a!=null&&(x.callback=a),a=is(s,x,p),a!==null&&(kr(a,s,p,u),Sd(a,s,p))}};function Vx(s,a,u,p,x,b,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,b,T):a.prototype&&a.prototype.isPureReactComponent?!tc(u,p)||!tc(x,b):!0}function Fx(s,a,u){var p=!1,x=ts,b=a.contextType;return typeof b=="object"&&b!==null?b=ar(b):(x=Pn(a)?co:an.current,p=a.contextTypes,b=(p=p!=null)?Sa(s,x):ts),a=new a(u,b),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=kd,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=b),a}function Bx(s,a,u,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==s&&kd.enqueueReplaceState(a,a.state,null)}function Xp(s,a,u,p){var x=s.stateNode;x.props=u,x.state=s.memoizedState,x.refs={},jp(s);var b=a.contextType;typeof b=="object"&&b!==null?x.context=ar(b):(b=Pn(a)?co:an.current,x.context=Sa(s,b)),x.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Yp(s,a,b,u),x.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&kd.enqueueReplaceState(x,x.state,null),Td(s,u,x,p),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function ka(s,a){try{var u="",p=a;do u+=ke(p),p=p.return;while(p);var x=u}catch(b){x=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:a,stack:x,digest:null}}function Jp(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Zp(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var h2=typeof WeakMap=="function"?WeakMap:Map;function Ux(s,a,u){u=wi(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){Fd||(Fd=!0,pm=p),Zp(s,a)},u}function zx(s,a,u){u=wi(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var x=a.value;u.payload=function(){return p(x)},u.callback=function(){Zp(s,a)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(u.callback=function(){Zp(s,a),typeof p!="function"&&(os===null?os=new Set([this]):os.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),u}function $x(s,a,u){var p=s.pingCache;if(p===null){p=s.pingCache=new h2;var x=new Set;p.set(a,x)}else x=p.get(a),x===void 0&&(x=new Set,p.set(a,x));x.has(u)||(x.add(u),s=I2.bind(null,s,a,u),a.then(s,s))}function Hx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Wx(s,a,u,p,x){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=wi(-1,1),a.tag=2,is(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var f2=z.ReactCurrentOwner,Rn=!1;function En(s,a,u,p){a.child=s===null?dx(a,null,u,p):Aa(a,s.child,u,p)}function Gx(s,a,u,p,x){u=u.render;var b=a.ref;return Ra(a,x),p=Hp(s,a,u,p,b,x),u=Wp(),s!==null&&!Rn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,bi(s,a,x)):(mt&&u&&Cp(a),a.flags|=1,En(s,a,p,x),a.child)}function qx(s,a,u,p,x){if(s===null){var b=u.type;return typeof b=="function"&&!bm(b)&&b.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=b,Kx(s,a,b,p,x)):(s=Wd(u.type,null,p,a,a.mode,x),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,(s.lanes&x)===0){var T=b.memoizedProps;if(u=u.compare,u=u!==null?u:tc,u(T,p)&&s.ref===a.ref)return bi(s,a,x)}return a.flags|=1,s=us(b,p),s.ref=a.ref,s.return=a,a.child=s}function Kx(s,a,u,p,x){if(s!==null){var b=s.memoizedProps;if(tc(b,p)&&s.ref===a.ref)if(Rn=!1,a.pendingProps=p=b,(s.lanes&x)!==0)(s.flags&131072)!==0&&(Rn=!0);else return a.lanes=s.lanes,bi(s,a,x)}return em(s,a,u,p,x)}function Qx(s,a,u){var p=a.pendingProps,x=p.children,b=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Ma,Wn),Wn|=u;else{if((u&1073741824)===0)return s=b!==null?b.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ut(Ma,Wn),Wn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:u,ut(Ma,Wn),Wn|=p}else b!==null?(p=b.baseLanes|u,a.memoizedState=null):p=u,ut(Ma,Wn),Wn|=p;return En(s,a,x,u),a.child}function Yx(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function em(s,a,u,p,x){var b=Pn(u)?co:an.current;return b=Sa(a,b),Ra(a,x),u=Hp(s,a,u,p,b,x),p=Wp(),s!==null&&!Rn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,bi(s,a,x)):(mt&&p&&Cp(a),a.flags|=1,En(s,a,u,x),a.child)}function Xx(s,a,u,p,x){if(Pn(u)){var b=!0;gd(a)}else b=!1;if(Ra(a,x),a.stateNode===null)Md(s,a),Fx(a,u,p),Xp(a,u,p,x),p=!0;else if(s===null){var T=a.stateNode,B=a.memoizedProps;T.props=B;var $=T.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=ar(Y):(Y=Pn(u)?co:an.current,Y=Sa(a,Y));var ne=u.getDerivedStateFromProps,se=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==p||$!==Y)&&Bx(a,T,p,Y),rs=!1;var te=a.memoizedState;T.state=te,Td(a,p,T,x),$=a.memoizedState,B!==p||te!==$||An.current||rs?(typeof ne=="function"&&(Yp(a,u,ne,p),$=a.memoizedState),(B=rs||Vx(a,u,B,p,te,$,Y))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=$),T.props=p,T.state=$,T.context=Y,p=B):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{T=a.stateNode,fx(s,a),B=a.memoizedProps,Y=a.type===a.elementType?B:Pr(a.type,B),T.props=Y,se=a.pendingProps,te=T.context,$=u.contextType,typeof $=="object"&&$!==null?$=ar($):($=Pn(u)?co:an.current,$=Sa(a,$));var de=u.getDerivedStateFromProps;(ne=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==se||te!==$)&&Bx(a,T,p,$),rs=!1,te=a.memoizedState,T.state=te,Td(a,p,T,x);var ge=a.memoizedState;B!==se||te!==ge||An.current||rs?(typeof de=="function"&&(Yp(a,u,de,p),ge=a.memoizedState),(Y=rs||Vx(a,u,Y,p,te,ge,$)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,ge,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,ge,$)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||B===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ge),T.props=p,T.state=ge,T.context=$,p=Y):(typeof T.componentDidUpdate!="function"||B===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),p=!1)}return tm(s,a,u,p,b,x)}function tm(s,a,u,p,x,b){Yx(s,a);var T=(a.flags&128)!==0;if(!p&&!T)return x&&nx(a,u,!1),bi(s,a,b);p=a.stateNode,f2.current=a;var B=T&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&T?(a.child=Aa(a,s.child,null,b),a.child=Aa(a,null,B,b)):En(s,a,B,b),a.memoizedState=p.state,x&&nx(a,u,!0),a.child}function Jx(s){var a=s.stateNode;a.pendingContext?ex(s,a.pendingContext,a.pendingContext!==a.context):a.context&&ex(s,a.context,!1),Vp(s,a.containerInfo)}function Zx(s,a,u,p,x){return Ca(),Np(x),a.flags|=256,En(s,a,u,p),a.child}var nm={dehydrated:null,treeContext:null,retryLane:0};function rm(s){return{baseLanes:s,cachePool:null,transitions:null}}function ew(s,a,u){var p=a.pendingProps,x=vt.current,b=!1,T=(a.flags&128)!==0,B;if((B=T)||(B=s!==null&&s.memoizedState===null?!1:(x&2)!==0),B?(b=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),ut(vt,x&1),s===null)return Rp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=p.children,s=p.fallback,b?(p=a.mode,b=a.child,T={mode:"hidden",children:T},(p&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=T):b=Gd(T,p,0,null),s=wo(s,p,u,null),b.return=a,s.return=a,b.sibling=s,a.child=b,a.child.memoizedState=rm(u),a.memoizedState=nm,s):im(a,T));if(x=s.memoizedState,x!==null&&(B=x.dehydrated,B!==null))return p2(s,a,T,p,B,x,u);if(b){b=p.fallback,T=a.mode,x=s.child,B=x.sibling;var $={mode:"hidden",children:p.children};return(T&1)===0&&a.child!==x?(p=a.child,p.childLanes=0,p.pendingProps=$,a.deletions=null):(p=us(x,$),p.subtreeFlags=x.subtreeFlags&14680064),B!==null?b=us(B,b):(b=wo(b,T,u,null),b.flags|=2),b.return=a,p.return=a,p.sibling=b,a.child=p,p=b,b=a.child,T=s.child.memoizedState,T=T===null?rm(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},b.memoizedState=T,b.childLanes=s.childLanes&~u,a.memoizedState=nm,p}return b=s.child,s=b.sibling,p=us(b,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=p,a.memoizedState=null,p}function im(s,a){return a=Gd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Dd(s,a,u,p){return p!==null&&Np(p),Aa(a,s.child,null,u),s=im(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function p2(s,a,u,p,x,b,T){if(u)return a.flags&256?(a.flags&=-257,p=Jp(Error(n(422))),Dd(s,a,T,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(b=p.fallback,x=a.mode,p=Gd({mode:"visible",children:p.children},x,0,null),b=wo(b,x,T,null),b.flags|=2,p.return=a,b.return=a,p.sibling=b,a.child=p,(a.mode&1)!==0&&Aa(a,s.child,null,T),a.child.memoizedState=rm(T),a.memoizedState=nm,b);if((a.mode&1)===0)return Dd(s,a,T,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var B=p.dgst;return p=B,b=Error(n(419)),p=Jp(b,p,void 0),Dd(s,a,T,p)}if(B=(T&s.childLanes)!==0,Rn||B){if(p=Ht,p!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(p.suspendedLanes|T))!==0?0:x,x!==0&&x!==b.retryLane&&(b.retryLane=x,xi(s,x),kr(p,s,x,-1))}return wm(),p=Jp(Error(n(421))),Dd(s,a,T,p)}return x.data==="$?"?(a.flags|=128,a.child=s.child,a=C2.bind(null,s),x._reactRetry=a,null):(s=b.treeContext,Hn=Zi(x.nextSibling),$n=a,mt=!0,Ar=null,s!==null&&(sr[or++]=vi,sr[or++]=yi,sr[or++]=uo,vi=s.id,yi=s.overflow,uo=a),a=im(a,p.children),a.flags|=4096,a)}function tw(s,a,u){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Op(s.return,a,u)}function sm(s,a,u,p,x){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:x}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=u,b.tailMode=x)}function nw(s,a,u){var p=a.pendingProps,x=p.revealOrder,b=p.tail;if(En(s,a,p.children,u),p=vt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tw(s,u,a);else if(s.tag===19)tw(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ut(vt,p),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(u=a.child,x=null;u!==null;)s=u.alternate,s!==null&&Id(s)===null&&(x=u),u=u.sibling;u=x,u===null?(x=a.child,a.child=null):(x=u.sibling,u.sibling=null),sm(a,!1,x,u,b);break;case"backwards":for(u=null,x=a.child,a.child=null;x!==null;){if(s=x.alternate,s!==null&&Id(s)===null){a.child=x;break}s=x.sibling,x.sibling=u,u=x,x=s}sm(a,!0,u,null,b);break;case"together":sm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Md(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function bi(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),go|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=us(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=us(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function m2(s,a,u){switch(a.tag){case 3:Jx(a),Ca();break;case 5:gx(a);break;case 1:Pn(a.type)&&gd(a);break;case 4:Vp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,x=a.memoizedProps.value;ut(Ed,p._currentValue),p._currentValue=x;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ut(vt,vt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?ew(s,a,u):(ut(vt,vt.current&1),s=bi(s,a,u),s!==null?s.sibling:null);ut(vt,vt.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(s.flags&128)!==0){if(p)return nw(s,a,u);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ut(vt,vt.current),p)break;return null;case 22:case 23:return a.lanes=0,Qx(s,a,u)}return bi(s,a,u)}var rw,om,iw,sw;rw=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},om=function(){},iw=function(s,a,u,p){var x=s.memoizedProps;if(x!==p){s=a.stateNode,po(Gr.current);var b=null;switch(u){case"input":x=He(s,x),p=He(s,p),b=[];break;case"select":x=ie({},x,{value:void 0}),p=ie({},p,{value:void 0}),b=[];break;case"textarea":x=Vn(s,x),p=Vn(s,p),b=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=fd)}Ll(u,p);var T;u=null;for(Y in x)if(!p.hasOwnProperty(Y)&&x.hasOwnProperty(Y)&&x[Y]!=null)if(Y==="style"){var B=x[Y];for(T in B)B.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?b||(b=[]):(b=b||[]).push(Y,null));for(Y in p){var $=p[Y];if(B=x!=null?x[Y]:void 0,p.hasOwnProperty(Y)&&$!==B&&($!=null||B!=null))if(Y==="style")if(B){for(T in B)!B.hasOwnProperty(T)||$&&$.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in $)$.hasOwnProperty(T)&&B[T]!==$[T]&&(u||(u={}),u[T]=$[T])}else u||(b||(b=[]),b.push(Y,u)),u=$;else Y==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,B=B?B.__html:void 0,$!=null&&B!==$&&(b=b||[]).push(Y,$)):Y==="children"?typeof $!="string"&&typeof $!="number"||(b=b||[]).push(Y,""+$):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?($!=null&&Y==="onScroll"&&dt("scroll",s),b||B===$||(b=[])):(b=b||[]).push(Y,$))}u&&(b=b||[]).push("style",u);var Y=b;(a.updateQueue=Y)&&(a.flags|=4)}},sw=function(s,a,u,p){u!==p&&(a.flags|=4)};function gc(s,a){if(!mt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function cn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(a)for(var x=s.child;x!==null;)u|=x.lanes|x.childLanes,p|=x.subtreeFlags&14680064,p|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)u|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=p,s.childLanes=u,a}function g2(s,a,u){var p=a.pendingProps;switch(Ap(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(a),null;case 1:return Pn(a.type)&&md(),cn(a),null;case 3:return p=a.stateNode,Na(),ht(An),ht(an),Up(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(wd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ar!==null&&(vm(Ar),Ar=null))),om(s,a),cn(a),null;case 5:Fp(a);var x=po(dc.current);if(u=a.type,s!==null&&a.stateNode!=null)iw(s,a,u,p,x),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return cn(a),null}if(s=po(Gr.current),wd(a)){p=a.stateNode,u=a.type;var b=a.memoizedProps;switch(p[Wr]=a,p[oc]=b,s=(a.mode&1)!==0,u){case"dialog":dt("cancel",p),dt("close",p);break;case"iframe":case"object":case"embed":dt("load",p);break;case"video":case"audio":for(x=0;x<rc.length;x++)dt(rc[x],p);break;case"source":dt("error",p);break;case"img":case"image":case"link":dt("error",p),dt("load",p);break;case"details":dt("toggle",p);break;case"input":Ut(p,b),dt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},dt("invalid",p);break;case"textarea":Ui(p,b),dt("invalid",p)}Ll(u,b),x=null;for(var T in b)if(b.hasOwnProperty(T)){var B=b[T];T==="children"?typeof B=="string"?p.textContent!==B&&(b.suppressHydrationWarning!==!0&&hd(p.textContent,B,s),x=["children",B]):typeof B=="number"&&p.textContent!==""+B&&(b.suppressHydrationWarning!==!0&&hd(p.textContent,B,s),x=["children",""+B]):i.hasOwnProperty(T)&&B!=null&&T==="onScroll"&&dt("scroll",p)}switch(u){case"input":he(p),ai(p,b,!0);break;case"textarea":he(p),Nl(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=fd)}p=x,a.updateQueue=p,p!==null&&(a.flags|=4)}else{T=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Mt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=T.createElement(u,{is:p.is}):(s=T.createElement(u),u==="select"&&(T=s,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):s=T.createElementNS(s,u),s[Wr]=a,s[oc]=p,rw(s,a,!1,!1),a.stateNode=s;e:{switch(T=jl(u,p),u){case"dialog":dt("cancel",s),dt("close",s),x=p;break;case"iframe":case"object":case"embed":dt("load",s),x=p;break;case"video":case"audio":for(x=0;x<rc.length;x++)dt(rc[x],s);x=p;break;case"source":dt("error",s),x=p;break;case"img":case"image":case"link":dt("error",s),dt("load",s),x=p;break;case"details":dt("toggle",s),x=p;break;case"input":Ut(s,p),x=He(s,p),dt("invalid",s);break;case"option":x=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},x=ie({},p,{value:void 0}),dt("invalid",s);break;case"textarea":Ui(s,p),x=Vn(s,p),dt("invalid",s);break;default:x=p}Ll(u,x),B=x;for(b in B)if(B.hasOwnProperty(b)){var $=B[b];b==="style"?Ml(s,$):b==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&kl(s,$)):b==="children"?typeof $=="string"?(u!=="textarea"||$!=="")&&zi(s,$):typeof $=="number"&&zi(s,""+$):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?$!=null&&b==="onScroll"&&dt("scroll",s):$!=null&&M(s,b,$,T))}switch(u){case"input":he(s),ai(s,p,!1);break;case"textarea":he(s),Nl(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ze(p.value));break;case"select":s.multiple=!!p.multiple,b=p.value,b!=null?Dt(s,!!p.multiple,b,!1):p.defaultValue!=null&&Dt(s,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=fd)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return cn(a),null;case 6:if(s&&a.stateNode!=null)sw(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(u=po(dc.current),po(Gr.current),wd(a)){if(p=a.stateNode,u=a.memoizedProps,p[Wr]=a,(b=p.nodeValue!==u)&&(s=$n,s!==null))switch(s.tag){case 3:hd(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&hd(p.nodeValue,u,(s.mode&1)!==0)}b&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Wr]=a,a.stateNode=p}return cn(a),null;case 13:if(ht(vt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(mt&&Hn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)lx(),Ca(),a.flags|=98560,b=!1;else if(b=wd(a),p!==null&&p.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Wr]=a}else Ca(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;cn(a),b=!1}else Ar!==null&&(vm(Ar),Ar=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(vt.current&1)!==0?Vt===0&&(Vt=3):wm())),a.updateQueue!==null&&(a.flags|=4),cn(a),null);case 4:return Na(),om(s,a),s===null&&ic(a.stateNode.containerInfo),cn(a),null;case 10:return Mp(a.type._context),cn(a),null;case 17:return Pn(a.type)&&md(),cn(a),null;case 19:if(ht(vt),b=a.memoizedState,b===null)return cn(a),null;if(p=(a.flags&128)!==0,T=b.rendering,T===null)if(p)gc(b,!1);else{if(Vt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=Id(s),T!==null){for(a.flags|=128,gc(b,!1),p=T.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)b=u,s=p,b.flags&=14680066,T=b.alternate,T===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=T.childLanes,b.lanes=T.lanes,b.child=T.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=T.memoizedProps,b.memoizedState=T.memoizedState,b.updateQueue=T.updateQueue,b.type=T.type,s=T.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return ut(vt,vt.current&1|2),a.child}s=s.sibling}b.tail!==null&&ct()>Oa&&(a.flags|=128,p=!0,gc(b,!1),a.lanes=4194304)}else{if(!p)if(s=Id(T),s!==null){if(a.flags|=128,p=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),gc(b,!0),b.tail===null&&b.tailMode==="hidden"&&!T.alternate&&!mt)return cn(a),null}else 2*ct()-b.renderingStartTime>Oa&&u!==1073741824&&(a.flags|=128,p=!0,gc(b,!1),a.lanes=4194304);b.isBackwards?(T.sibling=a.child,a.child=T):(u=b.last,u!==null?u.sibling=T:a.child=T,b.last=T)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=ct(),a.sibling=null,u=vt.current,ut(vt,p?u&1|2:u&1),a):(cn(a),null);case 22:case 23:return xm(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Wn&1073741824)!==0&&(cn(a),a.subtreeFlags&6&&(a.flags|=8192)):cn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function v2(s,a){switch(Ap(a),a.tag){case 1:return Pn(a.type)&&md(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Na(),ht(An),ht(an),Up(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Fp(a),null;case 13:if(ht(vt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ca()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ht(vt),null;case 4:return Na(),null;case 10:return Mp(a.type._context),null;case 22:case 23:return xm(),null;case 24:return null;default:return null}}var Od=!1,un=!1,y2=typeof WeakSet=="function"?WeakSet:Set,me=null;function Da(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){bt(s,a,p)}else u.current=null}function am(s,a,u){try{u()}catch(p){bt(s,a,p)}}var ow=!1;function x2(s,a){if(xp=Yi,s=V0(),dp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var x=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var T=0,B=-1,$=-1,Y=0,ne=0,se=s,te=null;t:for(;;){for(var de;se!==u||x!==0&&se.nodeType!==3||(B=T+x),se!==b||p!==0&&se.nodeType!==3||($=T+p),se.nodeType===3&&(T+=se.nodeValue.length),(de=se.firstChild)!==null;)te=se,se=de;for(;;){if(se===s)break t;if(te===u&&++Y===x&&(B=T),te===b&&++ne===p&&($=T),(de=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=de}u=B===-1||$===-1?null:{start:B,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(wp={focusedElem:s,selectionRange:u},Yi=!1,me=a;me!==null;)if(a=me,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,me=s;else for(;me!==null;){a=me;try{var ge=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,St=ge.memoizedState,K=a.stateNode,W=K.getSnapshotBeforeUpdate(a.elementType===a.type?ye:Pr(a.type,ye),St);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){bt(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,me=s;break}me=a.return}return ge=ow,ow=!1,ge}function vc(s,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&s)===s){var b=x.destroy;x.destroy=void 0,b!==void 0&&am(a,u,b)}x=x.next}while(x!==p)}}function Ld(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function lm(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function aw(s){var a=s.alternate;a!==null&&(s.alternate=null,aw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Wr],delete a[oc],delete a[Sp],delete a[t2],delete a[n2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function lw(s){return s.tag===5||s.tag===3||s.tag===4}function cw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cm(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=fd));else if(p!==4&&(s=s.child,s!==null))for(cm(s,a,u),s=s.sibling;s!==null;)cm(s,a,u),s=s.sibling}function um(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(um(s,a,u),s=s.sibling;s!==null;)um(s,a,u),s=s.sibling}var en=null,Rr=!1;function ss(s,a,u){for(u=u.child;u!==null;)uw(s,a,u),u=u.sibling}function uw(s,a,u){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(to,u)}catch{}switch(u.tag){case 5:un||Da(u,a);case 6:var p=en,x=Rr;en=null,ss(s,a,u),en=p,Rr=x,en!==null&&(Rr?(s=en,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):en.removeChild(u.stateNode));break;case 18:en!==null&&(Rr?(s=en,u=u.stateNode,s.nodeType===8?_p(s.parentNode,u):s.nodeType===1&&_p(s,u),Tr(s)):_p(en,u.stateNode));break;case 4:p=en,x=Rr,en=u.stateNode.containerInfo,Rr=!0,ss(s,a,u),en=p,Rr=x;break;case 0:case 11:case 14:case 15:if(!un&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var b=x,T=b.destroy;b=b.tag,T!==void 0&&((b&2)!==0||(b&4)!==0)&&am(u,a,T),x=x.next}while(x!==p)}ss(s,a,u);break;case 1:if(!un&&(Da(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(B){bt(u,a,B)}ss(s,a,u);break;case 21:ss(s,a,u);break;case 22:u.mode&1?(un=(p=un)||u.memoizedState!==null,ss(s,a,u),un=p):ss(s,a,u);break;default:ss(s,a,u)}}function dw(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new y2),a.forEach(function(p){var x=A2.bind(null,s,p);u.has(p)||(u.add(p),p.then(x,x))})}}function Nr(s,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];try{var b=s,T=a,B=T;e:for(;B!==null;){switch(B.tag){case 5:en=B.stateNode,Rr=!1;break e;case 3:en=B.stateNode.containerInfo,Rr=!0;break e;case 4:en=B.stateNode.containerInfo,Rr=!0;break e}B=B.return}if(en===null)throw Error(n(160));uw(b,T,x),en=null,Rr=!1;var $=x.alternate;$!==null&&($.return=null),x.return=null}catch(Y){bt(x,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)hw(a,s),a=a.sibling}function hw(s,a){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Nr(a,s),Kr(s),p&4){try{vc(3,s,s.return),Ld(3,s)}catch(ye){bt(s,s.return,ye)}try{vc(5,s,s.return)}catch(ye){bt(s,s.return,ye)}}break;case 1:Nr(a,s),Kr(s),p&512&&u!==null&&Da(u,u.return);break;case 5:if(Nr(a,s),Kr(s),p&512&&u!==null&&Da(u,u.return),s.flags&32){var x=s.stateNode;try{zi(x,"")}catch(ye){bt(s,s.return,ye)}}if(p&4&&(x=s.stateNode,x!=null)){var b=s.memoizedProps,T=u!==null?u.memoizedProps:b,B=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{B==="input"&&b.type==="radio"&&b.name!=null&&kt(x,b),jl(B,T);var Y=jl(B,b);for(T=0;T<$.length;T+=2){var ne=$[T],se=$[T+1];ne==="style"?Ml(x,se):ne==="dangerouslySetInnerHTML"?kl(x,se):ne==="children"?zi(x,se):M(x,ne,se,Y)}switch(B){case"input":er(x,b);break;case"textarea":Qo(x,b);break;case"select":var te=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!b.multiple;var de=b.value;de!=null?Dt(x,!!b.multiple,de,!1):te!==!!b.multiple&&(b.defaultValue!=null?Dt(x,!!b.multiple,b.defaultValue,!0):Dt(x,!!b.multiple,b.multiple?[]:"",!1))}x[oc]=b}catch(ye){bt(s,s.return,ye)}}break;case 6:if(Nr(a,s),Kr(s),p&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,b=s.memoizedProps;try{x.nodeValue=b}catch(ye){bt(s,s.return,ye)}}break;case 3:if(Nr(a,s),Kr(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Tr(a.containerInfo)}catch(ye){bt(s,s.return,ye)}break;case 4:Nr(a,s),Kr(s);break;case 13:Nr(a,s),Kr(s),x=s.child,x.flags&8192&&(b=x.memoizedState!==null,x.stateNode.isHidden=b,!b||x.alternate!==null&&x.alternate.memoizedState!==null||(fm=ct())),p&4&&dw(s);break;case 22:if(ne=u!==null&&u.memoizedState!==null,s.mode&1?(un=(Y=un)||ne,Nr(a,s),un=Y):Nr(a,s),Kr(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ne&&(s.mode&1)!==0)for(me=s,ne=s.child;ne!==null;){for(se=me=ne;me!==null;){switch(te=me,de=te.child,te.tag){case 0:case 11:case 14:case 15:vc(4,te,te.return);break;case 1:Da(te,te.return);var ge=te.stateNode;if(typeof ge.componentWillUnmount=="function"){p=te,u=te.return;try{a=p,ge.props=a.memoizedProps,ge.state=a.memoizedState,ge.componentWillUnmount()}catch(ye){bt(p,u,ye)}}break;case 5:Da(te,te.return);break;case 22:if(te.memoizedState!==null){mw(se);continue}}de!==null?(de.return=te,me=de):mw(se)}ne=ne.sibling}e:for(ne=null,se=s;;){if(se.tag===5){if(ne===null){ne=se;try{x=se.stateNode,Y?(b=x.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(B=se.stateNode,$=se.memoizedProps.style,T=$!=null&&$.hasOwnProperty("display")?$.display:null,B.style.display=Dl("display",T))}catch(ye){bt(s,s.return,ye)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=Y?"":se.memoizedProps}catch(ye){bt(s,s.return,ye)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Nr(a,s),Kr(s),p&4&&dw(s);break;case 21:break;default:Nr(a,s),Kr(s)}}function Kr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(lw(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(zi(x,""),p.flags&=-33);var b=cw(s);um(s,b,x);break;case 3:case 4:var T=p.stateNode.containerInfo,B=cw(s);cm(s,B,T);break;default:throw Error(n(161))}}catch($){bt(s,s.return,$)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function w2(s,a,u){me=s,fw(s)}function fw(s,a,u){for(var p=(s.mode&1)!==0;me!==null;){var x=me,b=x.child;if(x.tag===22&&p){var T=x.memoizedState!==null||Od;if(!T){var B=x.alternate,$=B!==null&&B.memoizedState!==null||un;B=Od;var Y=un;if(Od=T,(un=$)&&!Y)for(me=x;me!==null;)T=me,$=T.child,T.tag===22&&T.memoizedState!==null?gw(x):$!==null?($.return=T,me=$):gw(x);for(;b!==null;)me=b,fw(b),b=b.sibling;me=x,Od=B,un=Y}pw(s)}else(x.subtreeFlags&8772)!==0&&b!==null?(b.return=x,me=b):pw(s)}}function pw(s){for(;me!==null;){var a=me;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:un||Ld(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!un)if(u===null)p.componentDidMount();else{var x=a.elementType===a.type?u.memoizedProps:Pr(a.type,u.memoizedProps);p.componentDidUpdate(x,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&mx(a,b,p);break;case 3:var T=a.updateQueue;if(T!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}mx(a,T,u)}break;case 5:var B=a.stateNode;if(u===null&&a.flags&4){u=B;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&u.focus();break;case"img":$.src&&(u.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var ne=Y.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&Tr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}un||a.flags&512&&lm(a)}catch(te){bt(a,a.return,te)}}if(a===s){me=null;break}if(u=a.sibling,u!==null){u.return=a.return,me=u;break}me=a.return}}function mw(s){for(;me!==null;){var a=me;if(a===s){me=null;break}var u=a.sibling;if(u!==null){u.return=a.return,me=u;break}me=a.return}}function gw(s){for(;me!==null;){var a=me;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Ld(4,a)}catch($){bt(a,u,$)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var x=a.return;try{p.componentDidMount()}catch($){bt(a,x,$)}}var b=a.return;try{lm(a)}catch($){bt(a,b,$)}break;case 5:var T=a.return;try{lm(a)}catch($){bt(a,T,$)}}}catch($){bt(a,a.return,$)}if(a===s){me=null;break}var B=a.sibling;if(B!==null){B.return=a.return,me=B;break}me=a.return}}var b2=Math.ceil,jd=z.ReactCurrentDispatcher,dm=z.ReactCurrentOwner,cr=z.ReactCurrentBatchConfig,Je=0,Ht=null,Pt=null,tn=0,Wn=0,Ma=es(0),Vt=0,yc=null,go=0,Vd=0,hm=0,xc=null,Nn=null,fm=0,Oa=1/0,Ei=null,Fd=!1,pm=null,os=null,Bd=!1,as=null,Ud=0,wc=0,mm=null,zd=-1,$d=0;function _n(){return(Je&6)!==0?ct():zd!==-1?zd:zd=ct()}function ls(s){return(s.mode&1)===0?1:(Je&2)!==0&&tn!==0?tn&-tn:i2.transition!==null?($d===0&&($d=ro()),$d):(s=qe,s!==0||(s=window.event,s=s===void 0?16:Kl(s.type)),s)}function kr(s,a,u,p){if(50<wc)throw wc=0,mm=null,Error(n(185));Gi(s,u,p),((Je&2)===0||s!==Ht)&&(s===Ht&&((Je&2)===0&&(Vd|=u),Vt===4&&cs(s,tn)),kn(s,p),u===1&&Je===0&&(a.mode&1)===0&&(Oa=ct()+500,vd&&ns()))}function kn(s,a){var u=s.callbackNode;ui(s,a);var p=no(s,s===Ht?tn:0);if(p===0)u!==null&&$l(u),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(u!=null&&$l(u),a===1)s.tag===0?r2(yw.bind(null,s)):rx(yw.bind(null,s)),ZP(function(){(Je&6)===0&&ns()}),u=null;else{switch(Ki(p)){case 1:u=eo;break;case 4:u=$i;break;case 16:u=nr;break;case 536870912:u=$u;break;default:u=nr}u=Iw(u,vw.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function vw(s,a){if(zd=-1,$d=0,(Je&6)!==0)throw Error(n(327));var u=s.callbackNode;if(La()&&s.callbackNode!==u)return null;var p=no(s,s===Ht?tn:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=Hd(s,p);else{a=p;var x=Je;Je|=2;var b=ww();(Ht!==s||tn!==a)&&(Ei=null,Oa=ct()+500,yo(s,a));do try{S2();break}catch(B){xw(s,B)}while(!0);Dp(),jd.current=b,Je=x,Pt!==null?a=0:(Ht=null,tn=0,a=Vt)}if(a!==0){if(a===2&&(x=Bn(s),x!==0&&(p=x,a=gm(s,x))),a===1)throw u=yc,yo(s,0),cs(s,p),kn(s,ct()),u;if(a===6)cs(s,p);else{if(x=s.current.alternate,(p&30)===0&&!E2(x)&&(a=Hd(s,p),a===2&&(b=Bn(s),b!==0&&(p=b,a=gm(s,b))),a===1))throw u=yc,yo(s,0),cs(s,p),kn(s,ct()),u;switch(s.finishedWork=x,s.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:xo(s,Nn,Ei);break;case 3:if(cs(s,p),(p&130023424)===p&&(a=fm+500-ct(),10<a)){if(no(s,0)!==0)break;if(x=s.suspendedLanes,(x&p)!==p){_n(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=Ep(xo.bind(null,s,Nn,Ei),a);break}xo(s,Nn,Ei);break;case 4:if(cs(s,p),(p&4194240)===p)break;for(a=s.eventTimes,x=-1;0<p;){var T=31-wn(p);b=1<<T,T=a[T],T>x&&(x=T),p&=~b}if(p=x,p=ct()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*b2(p/1960))-p,10<p){s.timeoutHandle=Ep(xo.bind(null,s,Nn,Ei),p);break}xo(s,Nn,Ei);break;case 5:xo(s,Nn,Ei);break;default:throw Error(n(329))}}}return kn(s,ct()),s.callbackNode===u?vw.bind(null,s):null}function gm(s,a){var u=xc;return s.current.memoizedState.isDehydrated&&(yo(s,a).flags|=256),s=Hd(s,a),s!==2&&(a=Nn,Nn=u,a!==null&&vm(a)),s}function vm(s){Nn===null?Nn=s:Nn.push.apply(Nn,s)}function E2(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var x=u[p],b=x.getSnapshot;x=x.value;try{if(!Cr(b(),x))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function cs(s,a){for(a&=~hm,a&=~Vd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-wn(a),p=1<<u;s[u]=-1,a&=~p}}function yw(s){if((Je&6)!==0)throw Error(n(327));La();var a=no(s,0);if((a&1)===0)return kn(s,ct()),null;var u=Hd(s,a);if(s.tag!==0&&u===2){var p=Bn(s);p!==0&&(a=p,u=gm(s,p))}if(u===1)throw u=yc,yo(s,0),cs(s,a),kn(s,ct()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,xo(s,Nn,Ei),kn(s,ct()),null}function ym(s,a){var u=Je;Je|=1;try{return s(a)}finally{Je=u,Je===0&&(Oa=ct()+500,vd&&ns())}}function vo(s){as!==null&&as.tag===0&&(Je&6)===0&&La();var a=Je;Je|=1;var u=cr.transition,p=qe;try{if(cr.transition=null,qe=1,s)return s()}finally{qe=p,cr.transition=u,Je=a,(Je&6)===0&&ns()}}function xm(){Wn=Ma.current,ht(Ma)}function yo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,JP(u)),Pt!==null)for(u=Pt.return;u!==null;){var p=u;switch(Ap(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&md();break;case 3:Na(),ht(An),ht(an),Up();break;case 5:Fp(p);break;case 4:Na();break;case 13:ht(vt);break;case 19:ht(vt);break;case 10:Mp(p.type._context);break;case 22:case 23:xm()}u=u.return}if(Ht=s,Pt=s=us(s.current,null),tn=Wn=a,Vt=0,yc=null,hm=Vd=go=0,Nn=xc=null,fo!==null){for(a=0;a<fo.length;a++)if(u=fo[a],p=u.interleaved,p!==null){u.interleaved=null;var x=p.next,b=u.pending;if(b!==null){var T=b.next;b.next=x,p.next=T}u.pending=p}fo=null}return s}function xw(s,a){do{var u=Pt;try{if(Dp(),Cd.current=Nd,Ad){for(var p=yt.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}Ad=!1}if(mo=0,$t=jt=yt=null,hc=!1,fc=0,dm.current=null,u===null||u.return===null){Vt=1,yc=a,Pt=null;break}e:{var b=s,T=u.return,B=u,$=a;if(a=tn,B.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Y=$,ne=B,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=Hx(T);if(de!==null){de.flags&=-257,Wx(de,T,B,b,a),de.mode&1&&$x(b,Y,a),a=de,$=Y;var ge=a.updateQueue;if(ge===null){var ye=new Set;ye.add($),a.updateQueue=ye}else ge.add($);break e}else{if((a&1)===0){$x(b,Y,a),wm();break e}$=Error(n(426))}}else if(mt&&B.mode&1){var St=Hx(T);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Wx(St,T,B,b,a),Np(ka($,B));break e}}b=$=ka($,B),Vt!==4&&(Vt=2),xc===null?xc=[b]:xc.push(b),b=T;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var K=Ux(b,$,a);px(b,K);break e;case 1:B=$;var W=b.type,Q=b.stateNode;if((b.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(os===null||!os.has(Q)))){b.flags|=65536,a&=-a,b.lanes|=a;var oe=zx(b,B,a);px(b,oe);break e}}b=b.return}while(b!==null)}Ew(u)}catch(xe){a=xe,Pt===u&&u!==null&&(Pt=u=u.return);continue}break}while(!0)}function ww(){var s=jd.current;return jd.current=Nd,s===null?Nd:s}function wm(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ht===null||(go&268435455)===0&&(Vd&268435455)===0||cs(Ht,tn)}function Hd(s,a){var u=Je;Je|=2;var p=ww();(Ht!==s||tn!==a)&&(Ei=null,yo(s,a));do try{_2();break}catch(x){xw(s,x)}while(!0);if(Dp(),Je=u,jd.current=p,Pt!==null)throw Error(n(261));return Ht=null,tn=0,Vt}function _2(){for(;Pt!==null;)bw(Pt)}function S2(){for(;Pt!==null&&!Uu();)bw(Pt)}function bw(s){var a=Tw(s.alternate,s,Wn);s.memoizedProps=s.pendingProps,a===null?Ew(s):Pt=a,dm.current=null}function Ew(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=g2(u,a,Wn),u!==null){Pt=u;return}}else{if(u=v2(u,a),u!==null){u.flags&=32767,Pt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Vt=6,Pt=null;return}}if(a=a.sibling,a!==null){Pt=a;return}Pt=a=s}while(a!==null);Vt===0&&(Vt=5)}function xo(s,a,u){var p=qe,x=cr.transition;try{cr.transition=null,qe=1,T2(s,a,u,p)}finally{cr.transition=x,qe=p}return null}function T2(s,a,u,p){do La();while(as!==null);if((Je&6)!==0)throw Error(n(327));u=s.finishedWork;var x=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var b=u.lanes|u.childLanes;if(at(s,b),s===Ht&&(Pt=Ht=null,tn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Bd||(Bd=!0,Iw(nr,function(){return La(),null})),b=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||b){b=cr.transition,cr.transition=null;var T=qe;qe=1;var B=Je;Je|=4,dm.current=null,x2(s,u),hw(u,s),WP(wp),Yi=!!xp,wp=xp=null,s.current=u,w2(u),rp(),Je=B,qe=T,cr.transition=b}else s.current=u;if(Bd&&(Bd=!1,as=s,Ud=x),b=s.pendingLanes,b===0&&(os=null),Hu(u.stateNode),kn(s,ct()),a!==null)for(p=s.onRecoverableError,u=0;u<a.length;u++)x=a[u],p(x.value,{componentStack:x.stack,digest:x.digest});if(Fd)throw Fd=!1,s=pm,pm=null,s;return(Ud&1)!==0&&s.tag!==0&&La(),b=s.pendingLanes,(b&1)!==0?s===mm?wc++:(wc=0,mm=s):wc=0,ns(),null}function La(){if(as!==null){var s=Ki(Ud),a=cr.transition,u=qe;try{if(cr.transition=null,qe=16>s?16:s,as===null)var p=!1;else{if(s=as,as=null,Ud=0,(Je&6)!==0)throw Error(n(331));var x=Je;for(Je|=4,me=s.current;me!==null;){var b=me,T=b.child;if((me.flags&16)!==0){var B=b.deletions;if(B!==null){for(var $=0;$<B.length;$++){var Y=B[$];for(me=Y;me!==null;){var ne=me;switch(ne.tag){case 0:case 11:case 15:vc(8,ne,b)}var se=ne.child;if(se!==null)se.return=ne,me=se;else for(;me!==null;){ne=me;var te=ne.sibling,de=ne.return;if(aw(ne),ne===Y){me=null;break}if(te!==null){te.return=de,me=te;break}me=de}}}var ge=b.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var St=ye.sibling;ye.sibling=null,ye=St}while(ye!==null)}}me=b}}if((b.subtreeFlags&2064)!==0&&T!==null)T.return=b,me=T;else e:for(;me!==null;){if(b=me,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:vc(9,b,b.return)}var K=b.sibling;if(K!==null){K.return=b.return,me=K;break e}me=b.return}}var W=s.current;for(me=W;me!==null;){T=me;var Q=T.child;if((T.subtreeFlags&2064)!==0&&Q!==null)Q.return=T,me=Q;else e:for(T=W;me!==null;){if(B=me,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Ld(9,B)}}catch(xe){bt(B,B.return,xe)}if(B===T){me=null;break e}var oe=B.sibling;if(oe!==null){oe.return=B.return,me=oe;break e}me=B.return}}if(Je=x,ns(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(to,s)}catch{}p=!0}return p}finally{qe=u,cr.transition=a}}return!1}function _w(s,a,u){a=ka(u,a),a=Ux(s,a,1),s=is(s,a,1),a=_n(),s!==null&&(Gi(s,1,a),kn(s,a))}function bt(s,a,u){if(s.tag===3)_w(s,s,u);else for(;a!==null;){if(a.tag===3){_w(a,s,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(os===null||!os.has(p))){s=ka(u,s),s=zx(a,s,1),a=is(a,s,1),s=_n(),a!==null&&(Gi(a,1,s),kn(a,s));break}}a=a.return}}function I2(s,a,u){var p=s.pingCache;p!==null&&p.delete(a),a=_n(),s.pingedLanes|=s.suspendedLanes&u,Ht===s&&(tn&u)===u&&(Vt===4||Vt===3&&(tn&130023424)===tn&&500>ct()-fm?yo(s,0):hm|=u),kn(s,a)}function Sw(s,a){a===0&&((s.mode&1)===0?a=1:(a=sa,sa<<=1,(sa&130023424)===0&&(sa=4194304)));var u=_n();s=xi(s,a),s!==null&&(Gi(s,a,u),kn(s,u))}function C2(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Sw(s,u)}function A2(s,a){var u=0;switch(s.tag){case 13:var p=s.stateNode,x=s.memoizedState;x!==null&&(u=x.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),Sw(s,u)}var Tw;Tw=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||An.current)Rn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Rn=!1,m2(s,a,u);Rn=(s.flags&131072)!==0}else Rn=!1,mt&&(a.flags&1048576)!==0&&ix(a,xd,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Md(s,a),s=a.pendingProps;var x=Sa(a,an.current);Ra(a,u),x=Hp(null,a,p,s,x,u);var b=Wp();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Pn(p)?(b=!0,gd(a)):b=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,jp(a),x.updater=kd,a.stateNode=x,x._reactInternals=a,Xp(a,p,s,u),a=tm(null,a,p,!0,b,u)):(a.tag=0,mt&&b&&Cp(a),En(null,a,x,u),a=a.child),a;case 16:p=a.elementType;e:{switch(Md(s,a),s=a.pendingProps,x=p._init,p=x(p._payload),a.type=p,x=a.tag=R2(p),s=Pr(p,s),x){case 0:a=em(null,a,p,s,u);break e;case 1:a=Xx(null,a,p,s,u);break e;case 11:a=Gx(null,a,p,s,u);break e;case 14:a=qx(null,a,p,Pr(p.type,s),u);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Pr(p,x),em(s,a,p,x,u);case 1:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Pr(p,x),Xx(s,a,p,x,u);case 3:e:{if(Jx(a),s===null)throw Error(n(387));p=a.pendingProps,b=a.memoizedState,x=b.element,fx(s,a),Td(a,p,null,u);var T=a.memoizedState;if(p=T.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){x=ka(Error(n(423)),a),a=Zx(s,a,p,u,x);break e}else if(p!==x){x=ka(Error(n(424)),a),a=Zx(s,a,p,u,x);break e}else for(Hn=Zi(a.stateNode.containerInfo.firstChild),$n=a,mt=!0,Ar=null,u=dx(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ca(),p===x){a=bi(s,a,u);break e}En(s,a,p,u)}a=a.child}return a;case 5:return gx(a),s===null&&Rp(a),p=a.type,x=a.pendingProps,b=s!==null?s.memoizedProps:null,T=x.children,bp(p,x)?T=null:b!==null&&bp(p,b)&&(a.flags|=32),Yx(s,a),En(s,a,T,u),a.child;case 6:return s===null&&Rp(a),null;case 13:return ew(s,a,u);case 4:return Vp(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Aa(a,null,p,u):En(s,a,p,u),a.child;case 11:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Pr(p,x),Gx(s,a,p,x,u);case 7:return En(s,a,a.pendingProps,u),a.child;case 8:return En(s,a,a.pendingProps.children,u),a.child;case 12:return En(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,x=a.pendingProps,b=a.memoizedProps,T=x.value,ut(Ed,p._currentValue),p._currentValue=T,b!==null)if(Cr(b.value,T)){if(b.children===x.children&&!An.current){a=bi(s,a,u);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var B=b.dependencies;if(B!==null){T=b.child;for(var $=B.firstContext;$!==null;){if($.context===p){if(b.tag===1){$=wi(-1,u&-u),$.tag=2;var Y=b.updateQueue;if(Y!==null){Y=Y.shared;var ne=Y.pending;ne===null?$.next=$:($.next=ne.next,ne.next=$),Y.pending=$}}b.lanes|=u,$=b.alternate,$!==null&&($.lanes|=u),Op(b.return,u,a),B.lanes|=u;break}$=$.next}}else if(b.tag===10)T=b.type===a.type?null:b.child;else if(b.tag===18){if(T=b.return,T===null)throw Error(n(341));T.lanes|=u,B=T.alternate,B!==null&&(B.lanes|=u),Op(T,u,a),T=b.sibling}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===a){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}En(s,a,x.children,u),a=a.child}return a;case 9:return x=a.type,p=a.pendingProps.children,Ra(a,u),x=ar(x),p=p(x),a.flags|=1,En(s,a,p,u),a.child;case 14:return p=a.type,x=Pr(p,a.pendingProps),x=Pr(p.type,x),qx(s,a,p,x,u);case 15:return Kx(s,a,a.type,a.pendingProps,u);case 17:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Pr(p,x),Md(s,a),a.tag=1,Pn(p)?(s=!0,gd(a)):s=!1,Ra(a,u),Fx(a,p,x),Xp(a,p,x,u),tm(null,a,p,!0,s,u);case 19:return nw(s,a,u);case 22:return Qx(s,a,u)}throw Error(n(156,a.tag))};function Iw(s,a){return ra(s,a)}function P2(s,a,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(s,a,u,p){return new P2(s,a,u,p)}function bm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function R2(s){if(typeof s=="function")return bm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Se)return 14}return 2}function us(s,a){var u=s.alternate;return u===null?(u=ur(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Wd(s,a,u,p,x,b){var T=2;if(p=s,typeof s=="function")bm(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case R:return wo(u.children,x,b,a);case A:T=8,x|=8;break;case k:return s=ur(12,u,a,x|2),s.elementType=k,s.lanes=b,s;case N:return s=ur(13,u,a,x),s.elementType=N,s.lanes=b,s;case ae:return s=ur(19,u,a,x),s.elementType=ae,s.lanes=b,s;case ve:return Gd(u,x,b,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:T=10;break e;case U:T=9;break e;case F:T=11;break e;case Se:T=14;break e;case Ee:T=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=ur(T,u,a,x),a.elementType=s,a.type=p,a.lanes=b,a}function wo(s,a,u,p){return s=ur(7,s,p,a),s.lanes=u,s}function Gd(s,a,u,p){return s=ur(22,s,p,a),s.elementType=ve,s.lanes=u,s.stateNode={isHidden:!1},s}function Em(s,a,u){return s=ur(6,s,null,a),s.lanes=u,s}function _m(s,a,u){return a=ur(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function N2(s,a,u,p,x){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wi(0),this.expirationTimes=Wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Sm(s,a,u,p,x,b,T,B,$){return s=new N2(s,a,u,B,$),a===1?(a=1,b===!0&&(a|=8)):a=0,b=ur(3,null,null,a),s.current=b,b.stateNode=s,b.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},jp(b),s}function k2(s,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:p==null?null:""+p,children:s,containerInfo:a,implementation:u}}function Cw(s){if(!s)return ts;s=s._reactInternals;e:{if(wr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Pn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(Pn(u))return tx(s,u,a)}return a}function Aw(s,a,u,p,x,b,T,B,$){return s=Sm(u,p,!0,s,x,b,T,B,$),s.context=Cw(null),u=s.current,p=_n(),x=ls(u),b=wi(p,x),b.callback=a??null,is(u,b,x),s.current.lanes=x,Gi(s,x,p),kn(s,p),s}function qd(s,a,u,p){var x=a.current,b=_n(),T=ls(x);return u=Cw(u),a.context===null?a.context=u:a.pendingContext=u,a=wi(b,T),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=is(x,a,T),s!==null&&(kr(s,x,T,b),Sd(s,x,T)),T}function Kd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Pw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Tm(s,a){Pw(s,a),(s=s.alternate)&&Pw(s,a)}function D2(){return null}var Rw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Im(s){this._internalRoot=s}Qd.prototype.render=Im.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));qd(s,a,null,null)},Qd.prototype.unmount=Im.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;vo(function(){qd(null,s,null,null)}),a[mi]=null}};function Qd(s){this._internalRoot=s}Qd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Qu();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Ur.length&&a!==0&&a<Ur[u].priority;u++);Ur.splice(u,0,s),u===0&&Ju(s)}};function Cm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Yd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Nw(){}function M2(s,a,u,p,x){if(x){if(typeof p=="function"){var b=p;p=function(){var Y=Kd(T);b.call(Y)}}var T=Aw(a,p,s,0,null,!1,!1,"",Nw);return s._reactRootContainer=T,s[mi]=T.current,ic(s.nodeType===8?s.parentNode:s),vo(),T}for(;x=s.lastChild;)s.removeChild(x);if(typeof p=="function"){var B=p;p=function(){var Y=Kd($);B.call(Y)}}var $=Sm(s,0,!1,null,null,!1,!1,"",Nw);return s._reactRootContainer=$,s[mi]=$.current,ic(s.nodeType===8?s.parentNode:s),vo(function(){qd(a,$,u,p)}),$}function Xd(s,a,u,p,x){var b=u._reactRootContainer;if(b){var T=b;if(typeof x=="function"){var B=x;x=function(){var $=Kd(T);B.call($)}}qd(a,T,s,x)}else T=M2(u,a,s,x,p);return Kd(T)}qu=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=Hi(a.pendingLanes);u!==0&&(qi(a,u|1),kn(a,ct()),(Je&6)===0&&(Oa=ct()+500,ns()))}break;case 13:vo(function(){var p=xi(s,1);if(p!==null){var x=_n();kr(p,s,1,x)}}),Tm(s,1)}},oa=function(s){if(s.tag===13){var a=xi(s,134217728);if(a!==null){var u=_n();kr(a,s,134217728,u)}Tm(s,134217728)}},Ku=function(s){if(s.tag===13){var a=ls(s),u=xi(s,a);if(u!==null){var p=_n();kr(u,s,a,p)}Tm(s,a)}},Qu=function(){return qe},Yu=function(s,a){var u=qe;try{return qe=s,a()}finally{qe=u}},Xo=function(s,a,u){switch(a){case"input":if(er(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==s&&p.form===s.form){var x=pd(p);if(!x)throw Error(n(90));Ve(p),er(p,x)}}}break;case"textarea":Qo(s,u);break;case"select":a=u.value,a!=null&&Dt(s,!!u.multiple,a,!1)}},Ys=ym,Fl=vo;var O2={usingClientEntryPoint:!1,Events:[ac,Ea,pd,Fr,Vl,ym]},bc={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L2={bundleType:bc.bundleType,version:bc.version,rendererPackageName:bc.rendererPackageName,rendererConfig:bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=zl(s),s===null?null:s.stateNode},findFiberByHostInstance:bc.findFiberByHostInstance||D2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{to=Jd.inject(L2),Fn=Jd}catch{}}return Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O2,Dn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cm(a))throw Error(n(200));return k2(s,a,null,u)},Dn.createRoot=function(s,a){if(!Cm(s))throw Error(n(299));var u=!1,p="",x=Rw;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Sm(s,1,!1,null,null,u,!1,p,x),s[mi]=a.current,ic(s.nodeType===8?s.parentNode:s),new Im(a)},Dn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=zl(a),s=s===null?null:s.stateNode,s},Dn.flushSync=function(s){return vo(s)},Dn.hydrate=function(s,a,u){if(!Yd(a))throw Error(n(200));return Xd(null,s,a,!0,u)},Dn.hydrateRoot=function(s,a,u){if(!Cm(s))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,x=!1,b="",T=Rw;if(u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),a=Aw(a,null,s,1,u??null,x,!1,b,T),s[mi]=a.current,ic(s),p)for(s=0;s<p.length;s++)u=p[s],x=u._getVersion,x=x(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,x]:a.mutableSourceEagerHydrationData.push(u,x);return new Qd(a)},Dn.render=function(s,a,u){if(!Yd(a))throw Error(n(200));return Xd(null,s,a,!1,u)},Dn.unmountComponentAtNode=function(s){if(!Yd(s))throw Error(n(40));return s._reactRootContainer?(vo(function(){Xd(null,null,s,!1,function(){s._reactRootContainer=null,s[mi]=null})}),!0):!1},Dn.unstable_batchedUpdates=ym,Dn.unstable_renderSubtreeIntoContainer=function(s,a,u,p){if(!Yd(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Xd(s,a,u,!1,p)},Dn.version="18.3.1-next-f1338f8080-20240426",Dn}var Bw;function j_(){if(Bw)return Rm.exports;Bw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rm.exports=G2(),Rm.exports}var Uw;function q2(){if(Uw)return Zd;Uw=1;var t=j_();return Zd.createRoot=t.createRoot,Zd.hydrateRoot=t.hydrateRoot,Zd}var K2=q2(),O=Tv();const tt=Sv(O),Q2=B2({__proto__:null,default:tt},[O]);var V_=j_();const Y2=Sv(V_);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}var ws;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ws||(ws={}));const zw="popstate";function X2(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return wg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rh(i)}return Z2(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function F_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J2(){return Math.random().toString(36).substr(2,8)}function $w(t,e){return{usr:t.state,key:t.key,idx:e}}function wg(t,e,n,r){return n===void 0&&(n=null),Yc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pl(e):e,{state:n,key:e&&e.key||r||J2()})}function Rh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c=ws.Pop,d=null,f=m();f==null&&(f=0,l.replaceState(Yc({},l.state,{idx:f}),""));function m(){return(l.state||{idx:null}).idx}function g(){c=ws.Pop;let I=m(),L=I==null?null:I-f;f=I,d&&d({action:c,location:C.location,delta:L})}function y(I,L){c=ws.Push;let P=wg(C.location,I,L);f=m()+1;let M=$w(P,f),z=C.createHref(P);try{l.pushState(M,"",z)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(z)}o&&d&&d({action:c,location:C.location,delta:1})}function E(I,L){c=ws.Replace;let P=wg(C.location,I,L);f=m();let M=$w(P,f),z=C.createHref(P);l.replaceState(M,"",z),o&&d&&d({action:c,location:C.location,delta:0})}function S(I){let L=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof I=="string"?I:Rh(I);return P=P.replace(/ $/,"%20"),Ct(L,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,L)}let C={get action(){return c},get location(){return t(i,l)},listen(I){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(zw,g),d=I,()=>{i.removeEventListener(zw,g),d=null}},createHref(I){return e(i,I)},createURL:S,encodeLocation(I){let L=S(I);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:y,replace:E,go(I){return l.go(I)}};return C}var Hw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hw||(Hw={}));function eR(t,e,n){return n===void 0&&(n="/"),tR(t,e,n)}function tR(t,e,n,r){let i=typeof e=="string"?pl(e):e,o=Iv(i.pathname||"/",n);if(o==null)return null;let l=B_(t);nR(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=pR(o);c=dR(l[d],f)}return c}function B_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Ct(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=Es([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(Ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),B_(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:cR(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of U_(o.path))i(o,l,d)}),e}function U_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=U_(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function nR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rR=/^:[\w-]+$/,iR=3,sR=2,oR=1,aR=10,lR=-2,Ww=t=>t==="*";function cR(t,e){let n=t.split("/"),r=n.length;return n.some(Ww)&&(r+=lR),e&&(r+=sR),n.filter(i=>!Ww(i)).reduce((i,o)=>i+(rR.test(o)?iR:o===""?oR:aR),r)}function uR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dR(t,e,n){let{routesMeta:r}=t,i={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=hR({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),y=d.route;if(!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Es([o,g.pathname]),pathnameBase:yR(Es([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=Es([o,g.pathnameBase]))}return l}function hR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,m,g)=>{let{paramName:y,isOptional:E}=m;if(y==="*"){let C=c[g]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=c[g];return E&&!S?f[y]=void 0:f[y]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function fR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),F_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return F_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Iv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pl(t):t;return{pathname:n?n.startsWith("/")?n:gR(n,e):e,search:xR(r),hash:wR(i)}}function gR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Dm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cv(t,e){let n=vR(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Av(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pl(t):(i=Yc({},t),Ct(!i.pathname||!i.pathname.includes("?"),Dm("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Dm("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Dm("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}c=g>=0?e[g]:"/"}let d=mR(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}const Es=t=>t.join("/").replace(/\/\/+/g,"/"),yR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const z_=["post","put","patch","delete"];new Set(z_);const ER=["get",...z_];new Set(ER);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}const Pv=O.createContext(null),_R=O.createContext(null),Fs=O.createContext(null),vf=O.createContext(null),Vi=O.createContext({outlet:null,matches:[],isDataRoute:!1}),$_=O.createContext(null);function SR(t,e){let{relative:n}=e===void 0?{}:e;ml()||Ct(!1);let{basename:r,navigator:i}=O.useContext(Fs),{hash:o,pathname:l,search:c}=W_(t,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:Es([r,l])),i.createHref({pathname:d,search:c,hash:o})}function ml(){return O.useContext(vf)!=null}function Bs(){return ml()||Ct(!1),O.useContext(vf).location}function H_(t){O.useContext(Fs).static||O.useLayoutEffect(t)}function gl(){let{isDataRoute:t}=O.useContext(Vi);return t?VR():TR()}function TR(){ml()||Ct(!1);let t=O.useContext(Pv),{basename:e,future:n,navigator:r}=O.useContext(Fs),{matches:i}=O.useContext(Vi),{pathname:o}=Bs(),l=JSON.stringify(Cv(i,n.v7_relativeSplatPath)),c=O.useRef(!1);return H_(()=>{c.current=!0}),O.useCallback(function(f,m){if(m===void 0&&(m={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let g=Av(f,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Es([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,l,o,t])}function IR(){let{matches:t}=O.useContext(Vi),e=t[t.length-1];return e?e.params:{}}function W_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Fs),{matches:i}=O.useContext(Vi),{pathname:o}=Bs(),l=JSON.stringify(Cv(i,r.v7_relativeSplatPath));return O.useMemo(()=>Av(t,JSON.parse(l),o,n==="path"),[t,l,o,n])}function CR(t,e){return AR(t,e)}function AR(t,e,n,r){ml()||Ct(!1);let{navigator:i}=O.useContext(Fs),{matches:o}=O.useContext(Vi),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=Bs(),m;if(e){var g;let I=typeof e=="string"?pl(e):e;d==="/"||(g=I.pathname)!=null&&g.startsWith(d)||Ct(!1),m=I}else m=f;let y=m.pathname||"/",E=y;if(d!=="/"){let I=d.replace(/^\//,"").split("/");E="/"+y.replace(/^\//,"").split("/").slice(I.length).join("/")}let S=eR(t,{pathname:E}),C=DR(S&&S.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:Es([d,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?d:Es([d,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,n,r);return e&&C?O.createElement(vf.Provider,{value:{location:Xc({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ws.Pop}},C):C}function PR(){let t=jR(),e=bR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const RR=O.createElement(PR,null);class NR extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Vi.Provider,{value:this.props.routeContext},O.createElement($_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kR(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(Pv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Vi.Provider,{value:e},r)}function DR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);m>=0||Ct(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:y,errors:E}=n,S=g.route.loader&&y[g.route.id]===void 0&&(!E||E[g.route.id]===void 0);if(g.route.lazy||S){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,g,y)=>{let E,S=!1,C=null,I=null;n&&(E=c&&g.route.id?c[g.route.id]:void 0,C=g.route.errorElement||RR,d&&(f<0&&y===0?(FR("route-fallback"),S=!0,I=null):f===y&&(S=!0,I=g.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,y+1)),P=()=>{let M;return E?M=C:S?M=I:g.route.Component?M=O.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=m,O.createElement(kR,{match:g,routeContext:{outlet:m,matches:L,isDataRoute:n!=null},children:M})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?O.createElement(NR,{location:n.location,revalidation:n.revalidation,component:C,error:E,children:P(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):P()},null)}var G_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(G_||{}),q_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(q_||{});function MR(t){let e=O.useContext(Pv);return e||Ct(!1),e}function OR(t){let e=O.useContext(_R);return e||Ct(!1),e}function LR(t){let e=O.useContext(Vi);return e||Ct(!1),e}function K_(t){let e=LR(),n=e.matches[e.matches.length-1];return n.route.id||Ct(!1),n.route.id}function jR(){var t;let e=O.useContext($_),n=OR(),r=K_();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function VR(){let{router:t}=MR(G_.UseNavigateStable),e=K_(q_.UseNavigateStable),n=O.useRef(!1);return H_(()=>{n.current=!0}),O.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xc({fromRouteId:e},o)))},[t,e])}const Gw={};function FR(t,e,n){Gw[t]||(Gw[t]=!0)}function BR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Nh(t){let{to:e,replace:n,state:r,relative:i}=t;ml()||Ct(!1);let{future:o,static:l}=O.useContext(Fs),{matches:c}=O.useContext(Vi),{pathname:d}=Bs(),f=gl(),m=Av(e,Cv(c,o.v7_relativeSplatPath),d,i==="path"),g=JSON.stringify(m);return O.useEffect(()=>f(JSON.parse(g),{replace:n,state:r,relative:i}),[f,g,i,n,r]),null}function _o(t){Ct(!1)}function UR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ws.Pop,navigator:o,static:l=!1,future:c}=t;ml()&&Ct(!1);let d=e.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:d,navigator:o,static:l,future:Xc({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);typeof r=="string"&&(r=pl(r));let{pathname:m="/",search:g="",hash:y="",state:E=null,key:S="default"}=r,C=O.useMemo(()=>{let I=Iv(m,d);return I==null?null:{location:{pathname:I,search:g,hash:y,state:E,key:S},navigationType:i}},[d,m,g,y,E,S,i]);return C==null?null:O.createElement(Fs.Provider,{value:f},O.createElement(vf.Provider,{children:n,value:C}))}function zR(t){let{children:e,location:n}=t;return CR(bg(e),n)}new Promise(()=>{});function bg(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let o=[...e,i];if(r.type===O.Fragment){n.push.apply(n,bg(r.props.children,o));return}r.type!==_o&&Ct(!1),!r.props.index||!r.props.children||Ct(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=bg(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function $R(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function HR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WR(t,e){return t.button===0&&(!e||e==="_self")&&!HR(t)}const GR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qR="6";try{window.__reactRouterVersion=qR}catch{}const KR="startTransition",qw=Q2[KR];function QR(t){let{basename:e,children:n,future:r,window:i}=t,o=O.useRef();o.current==null&&(o.current=X2({window:i,v5Compat:!0}));let l=o.current,[c,d]=O.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},m=O.useCallback(g=>{f&&qw?qw(()=>d(g)):d(g)},[d,f]);return O.useLayoutEffect(()=>l.listen(m),[l,m]),O.useEffect(()=>BR(r),[r]),O.createElement(UR,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const YR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eh=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:g}=e,y=$R(e,GR),{basename:E}=O.useContext(Fs),S,C=!1;if(typeof f=="string"&&XR.test(f)&&(S=f,YR))try{let M=new URL(window.location.href),z=f.startsWith("//")?new URL(M.protocol+f):new URL(f),V=Iv(z.pathname,E);z.origin===M.origin&&V!=null?f=V+z.search+z.hash:C=!0}catch{}let I=SR(f,{relative:i}),L=JR(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:g});function P(M){r&&r(M),M.defaultPrevented||L(M)}return O.createElement("a",Eg({},y,{href:S||I,onClick:C||o?r:P,ref:n,target:d}))});var Kw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Kw||(Kw={}));var Qw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qw||(Qw={}));function JR(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:c}=e===void 0?{}:e,d=gl(),f=Bs(),m=W_(t,{relative:l});return O.useCallback(g=>{if(WR(g,n)){g.preventDefault();let y=r!==void 0?r:Rh(f)===Rh(m);d(t,{replace:y,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[f,d,m,r,i,n,t,o,l,c])}const ZR=()=>{};var Yw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=o>>2,g=(o&3)<<4|c>>4;let y=(c&15)<<2|f>>6,E=f&63;d||(E=64,l||(y=64)),r.push(n[m],n[g],n[y],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Q_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||f==null||g==null)throw new tN;const y=o<<2|c>>4;if(r.push(y),f!==64){const E=c<<4&240|f>>2;if(r.push(E),g!==64){const S=f<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nN=function(t){const e=Q_(t);return Y_.encodeByteArray(e,!0)},kh=function(t){return nN(t).replace(/\./g,"")},X_=function(t){try{return Y_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=()=>rN().__FIREBASE_DEFAULTS__,sN=()=>{if(typeof process>"u"||typeof Yw>"u")return;const t=Yw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X_(t[1]);return e&&JSON.parse(e)},yf=()=>{try{return ZR()||iN()||sN()||oN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J_=t=>{var e,n;return(n=(e=yf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aN=t=>{const e=J_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z_=()=>{var t;return(t=yf())===null||t===void 0?void 0:t.config},eS=t=>{var e;return(e=yf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){return t.endsWith(".cloudworkstations.dev")}async function tS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kh(JSON.stringify(n)),kh(JSON.stringify(l)),""].join(".")}const Oc={};function uN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Oc))Oc[e]?t.emulator.push(e):t.prod.push(e);return t}function dN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xw=!1;function nS(t,e){if(typeof window>"u"||typeof document>"u"||!vl(window.location.host)||Oc[t]===e||Oc[t]||Xw)return;Oc[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=uN().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,E){y.setAttribute("width","24"),y.setAttribute("id",E),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Xw=!0,l()},y}function m(y,E){y.setAttribute("id",E),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=dN(r),E=n("text"),S=document.getElementById(E)||document.createElement("span"),C=n("learnmore"),I=document.getElementById(C)||document.createElement("a"),L=n("preprendIcon"),P=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const M=y.element;c(M),m(I,C);const z=f();d(P,L),M.append(P,S,I,z),document.body.appendChild(M)}o?(S.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function fN(){var t;const e=(t=yf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vN(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yN(){return!fN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xN(){try{return typeof indexedDB=="object"}catch{return!1}}function wN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="FirebaseError";class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bN,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?EN(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Fi(i,c,r)}}function EN(t,e){return t.replace(_N,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _N=/\{\$([^}]+)}/g;function SN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(Jw(o)&&Jw(l)){if(!Mo(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Jw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ac(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TN(t,e){const n=new IN(t,e);return n.subscribe.bind(n)}class IN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Mm),i.error===void 0&&(i.error=Mm),i.complete===void 0&&(i.complete=Mm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){return t&&t._delegate?t._delegate:t}class Oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AN=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RN(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PN(t){return t===So?void 0:t}function RN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const kN={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},DN=We.INFO,MN={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},ON=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rv{constructor(e){this.name=e,this._logLevel=DN,this._logHandler=ON,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const LN=(t,e)=>e.some(n=>t instanceof n);let Zw,e1;function jN(){return Zw||(Zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VN(){return e1||(e1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rS=new WeakMap,_g=new WeakMap,iS=new WeakMap,Om=new WeakMap,Nv=new WeakMap;function FN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(_s(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&rS.set(n,t)}).catch(()=>{}),Nv.set(e,t),e}function BN(t){if(_g.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});_g.set(t,e)}let Sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UN(t){Sg=t(Sg)}function zN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lm(this),e,...n);return iS.set(r,e.sort?e.sort():[e]),_s(r)}:VN().includes(t)?function(...e){return t.apply(Lm(this),e),_s(rS.get(this))}:function(...e){return _s(t.apply(Lm(this),e))}}function $N(t){return typeof t=="function"?zN(t):(t instanceof IDBTransaction&&BN(t),LN(t,jN())?new Proxy(t,Sg):t)}function _s(t){if(t instanceof IDBRequest)return FN(t);if(Om.has(t))return Om.get(t);const e=$N(t);return e!==t&&(Om.set(t,e),Nv.set(e,t)),e}const Lm=t=>Nv.get(t);function HN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=_s(l);return r&&l.addEventListener("upgradeneeded",d=>{r(_s(l.result),d.oldVersion,d.newVersion,_s(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const WN=["get","getKey","getAll","getAllKeys","count"],GN=["put","add","delete","clear"],jm=new Map;function t1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WN.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return jm.set(e,o),o}UN(t=>({...t,get:(e,n,r)=>t1(e,n)||t.get(e,n,r),has:(e,n)=>!!t1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tg="@firebase/app",n1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Rv("@firebase/app"),QN="@firebase/app-compat",YN="@firebase/analytics-compat",XN="@firebase/analytics",JN="@firebase/app-check-compat",ZN="@firebase/app-check",ek="@firebase/auth",tk="@firebase/auth-compat",nk="@firebase/database",rk="@firebase/data-connect",ik="@firebase/database-compat",sk="@firebase/functions",ok="@firebase/functions-compat",ak="@firebase/installations",lk="@firebase/installations-compat",ck="@firebase/messaging",uk="@firebase/messaging-compat",dk="@firebase/performance",hk="@firebase/performance-compat",fk="@firebase/remote-config",pk="@firebase/remote-config-compat",mk="@firebase/storage",gk="@firebase/storage-compat",vk="@firebase/firestore",yk="@firebase/ai",xk="@firebase/firestore-compat",wk="firebase",bk="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="[DEFAULT]",Ek={[Tg]:"fire-core",[QN]:"fire-core-compat",[XN]:"fire-analytics",[YN]:"fire-analytics-compat",[ZN]:"fire-app-check",[JN]:"fire-app-check-compat",[ek]:"fire-auth",[tk]:"fire-auth-compat",[nk]:"fire-rtdb",[rk]:"fire-data-connect",[ik]:"fire-rtdb-compat",[sk]:"fire-fn",[ok]:"fire-fn-compat",[ak]:"fire-iid",[lk]:"fire-iid-compat",[ck]:"fire-fcm",[uk]:"fire-fcm-compat",[dk]:"fire-perf",[hk]:"fire-perf-compat",[fk]:"fire-rc",[pk]:"fire-rc-compat",[mk]:"fire-gcs",[gk]:"fire-gcs-compat",[vk]:"fire-fst",[xk]:"fire-fst-compat",[yk]:"fire-vertex","fire-js":"fire-js",[wk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,_k=new Map,Cg=new Map;function r1(t,e){try{t.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function el(t){const e=t.name;if(Cg.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;Cg.set(e,t);for(const n of Dh.values())r1(n,t);for(const n of _k.values())r1(n,t);return!0}function kv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new vu("app","Firebase",Sk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=bk;function sS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ig,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ss.create("bad-app-name",{appName:String(i)});if(n||(n=Z_()),!n)throw Ss.create("no-options");const o=Dh.get(i);if(o){if(Mo(n,o.options)&&Mo(r,o.config))return o;throw Ss.create("duplicate-app",{appName:i})}const l=new NN(i);for(const d of Cg.values())l.addComponent(d);const c=new Tk(n,r,l);return Dh.set(i,c),c}function oS(t=Ig){const e=Dh.get(t);if(!e&&t===Ig&&Z_())return sS();if(!e)throw Ss.create("no-app",{appName:t});return e}function Ts(t,e,n){var r;let i=(r=Ek[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(c.join(" "));return}el(new Oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="firebase-heartbeat-database",Ck=1,Jc="firebase-heartbeat-store";let Vm=null;function aS(){return Vm||(Vm=HN(Ik,Ck,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ss.create("idb-open",{originalErrorMessage:t.message})})),Vm}async function Ak(t){try{const n=(await aS()).transaction(Jc),r=await n.objectStore(Jc).get(lS(t));return await n.done,r}catch(e){if(e instanceof Fi)ki.warn(e.message);else{const n=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(n.message)}}}async function i1(t,e){try{const r=(await aS()).transaction(Jc,"readwrite");await r.objectStore(Jc).put(e,lS(t)),await r.done}catch(n){if(n instanceof Fi)ki.warn(n.message);else{const r=Ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ki.warn(r.message)}}}function lS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=1024,Rk=30;class Nk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=s1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Rk){const l=Mk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s1(),{heartbeatsToSend:r,unsentEntries:i}=kk(this._heartbeatsCache.heartbeats),o=kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ki.warn(n),""}}}function s1(){return new Date().toISOString().substring(0,10)}function kk(t,e=Pk){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),o1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),o1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Dk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xN()?wN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ak(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function o1(t){return kh(JSON.stringify({version:2,heartbeats:t})).length}function Mk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){el(new Oo("platform-logger",e=>new qN(e),"PRIVATE")),el(new Oo("heartbeat",e=>new Nk(e),"PRIVATE")),Ts(Tg,n1,t),Ts(Tg,n1,"esm2017"),Ts("fire-js","")}Ok("");function Dv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lk=cS,uS=new vu("auth","Firebase",cS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Rv("@firebase/auth");function jk(t,...e){Mh.logLevel<=We.WARN&&Mh.warn(`Auth (${yl}): ${t}`,...e)}function mh(t,...e){Mh.logLevel<=We.ERROR&&Mh.error(`Auth (${yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw Mv(t,...e)}function Xr(t,...e){return Mv(t,...e)}function dS(t,e,n){const r=Object.assign(Object.assign({},Lk()),{[e]:n});return new vu("auth","Firebase",r).create(e,{appName:t.name})}function Ci(t){return dS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uS.create(t,...e)}function De(t,e,...n){if(!t)throw Mv(e,...n)}function Ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mh(e),new Error(e)}function Di(t,e){t||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Vk(){return a1()==="http:"||a1()==="https:"}function a1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vk()||mN()||"connection"in navigator)?navigator.onLine:!0}function Bk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=hN()||gN()}get(){return Fk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e){Di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$k=new xu(3e4,6e4);function Us(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bi(t,e,n,r,i={}){return fS(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=yu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},o);return pN()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&vl(t.emulatorConfig.host)&&(f.credentials="include"),hS.fetch()(await pS(t,t.config.apiHost,n,c),f)})}async function fS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Uk),e);try{const i=new Wk(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw th(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw th(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw th(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw dS(t,m,f);jr(t,m)}}catch(i){if(i instanceof Fi)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function wu(t,e,n,r,i={}){const o=await Bi(t,e,n,r,i);return"mfaPendingCredential"in o&&jr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function pS(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?Ov(t.config,i):`${t.config.apiScheme}://${i}`;return zk.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function Hk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),$k.get())})}}function th(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xr(t,e,r);return i.customData._tokenResponse=n,i}function l1(t){return t!==void 0&&t.enterprise!==void 0}class Gk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Hk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qk(t,e){return Bi(t,"GET","/v2/recaptchaConfig",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(t,e){return Bi(t,"POST","/v1/accounts:delete",e)}async function Oh(t,e){return Bi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qk(t,e=!1){const n=Qt(t),r=await n.getIdToken(e),i=Lv(r);De(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Lc(Fm(i.auth_time)),issuedAtTime:Lc(Fm(i.iat)),expirationTime:Lc(Fm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Fm(t){return Number(t)*1e3}function Lv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const i=X_(n);return i?JSON.parse(i):(mh("Failed to decode base64 JWT payload"),null)}catch(i){return mh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function c1(t){const e=Lv(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fi&&Yk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Yk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await tl(t,Oh(n,{idToken:r}));De(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mS(o.providerUserInfo):[],c=Zk(t.providerData,l),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Pg(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function Jk(t){const e=Qt(t);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mS(t){return t.map(e=>{var{providerId:n}=e,r=Dv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e){const n=await fS(t,{},async()=>{const r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await pS(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&vl(t.emulatorConfig.host)&&(d.credentials="include"),hS.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tD(t,e){return Bi(t,"POST","/v2/accounts:revokeToken",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=c1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await eD(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Ya;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(De(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Dv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await tl(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Qk(this,e)}reload(){return Jk(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await tl(this,Kk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,c,d,f,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,C=(c=n.tenantId)!==null&&c!==void 0?c:void 0,I=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,L=(f=n.createdAt)!==null&&f!==void 0?f:void 0,P=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:z,isAnonymous:V,providerData:G,stsTokenManager:R}=n;De(M&&R,e,"internal-error");const A=Ya.fromJSON(this.name,R);De(typeof M=="string",e,"internal-error"),hs(g,e.name),hs(y,e.name),De(typeof z=="boolean",e,"internal-error"),De(typeof V=="boolean",e,"internal-error"),hs(E,e.name),hs(S,e.name),hs(C,e.name),hs(I,e.name),hs(L,e.name),hs(P,e.name);const k=new Or({uid:M,auth:e,email:y,emailVerified:z,displayName:g,isAnonymous:V,photoURL:S,phoneNumber:E,tenantId:C,stsTokenManager:A,createdAt:L,lastLoginAt:P});return G&&Array.isArray(G)&&(k.providerData=G.map(j=>Object.assign({},j))),I&&(k._redirectEventId=I),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ya;i.updateFromServerResponse(n);const o=new Or({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];De(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?mS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Ya;c.updateFromIdToken(r);const d=new Or({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Pg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Map;function Ii(t){Di(t instanceof Function,"Expected a class definition");let e=u1.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gS.type="NONE";const d1=gS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t,e,n){return`firebase:${t}:${e}:${n}`}class Xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=gh(this.userKey,i.apiKey,o),this.fullPersistenceKey=gh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?Or._fromGetAccountInfoResponse(this.auth,n,e):null}return Or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xa(Ii(d1),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ii(d1);const l=gh(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let g;if(typeof m=="string"){const y=await Oh(e,{idToken:m}).catch(()=>{});if(!y)break;g=await Or._fromGetAccountInfoResponse(e,y,m)}else g=Or._fromJSON(e,m);f!==o&&(c=g),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Xa(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Xa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ES(e))return"Blackberry";if(_S(e))return"Webos";if(yS(e))return"Safari";if((e.includes("chrome/")||xS(e))&&!e.includes("edge/"))return"Chrome";if(bS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vS(t=yn()){return/firefox\//i.test(t)}function yS(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xS(t=yn()){return/crios\//i.test(t)}function wS(t=yn()){return/iemobile/i.test(t)}function bS(t=yn()){return/android/i.test(t)}function ES(t=yn()){return/blackberry/i.test(t)}function _S(t=yn()){return/webos/i.test(t)}function jv(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nD(t=yn()){var e;return jv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rD(){return vN()&&document.documentMode===10}function SS(t=yn()){return jv(t)||bS(t)||_S(t)||ES(t)||/windows phone/i.test(t)||wS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e=[]){let n;switch(t){case"Browser":n=h1(yn());break;case"Worker":n=`${h1(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(t,e={}){return Bi(t,"GET","/v2/passwordPolicy",Us(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=6;class aD{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:oD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f1(this),this.idTokenSubscription=new f1(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),r=await Or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(Ci(this));const n=e?Qt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sD(this),n=new aD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ho(t){return Qt(t)}class f1{constructor(e){this.auth=e,this.observer=null,this.addObserver=TN(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cD(t){xf=t}function IS(t){return xf.loadJS(t)}function uD(){return xf.recaptchaEnterpriseScript}function dD(){return xf.gapiScript}function hD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fD{constructor(){this.enterprise=new pD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mD="recaptcha-enterprise",CS="NO_RECAPTCHA";class gD{constructor(e){this.type=mD,this.auth=Ho(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{qk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new Gk(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;l1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(CS)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fD().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&l1(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=uD();d.length!==0&&(d+=c),IS(d).then(()=>{i(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function p1(t,e,n,r=!1,i=!1){const o=new gD(t);let l;if(i)l=CS;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Rg(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await p1(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await p1(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){const n=kv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Mo(o,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function yD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xD(t,e,n){const r=Ho(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=AS(e),{host:l,port:c}=wD(e),d=c===null?"":`:${c}`,f={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Mo(f,r.config.emulator)&&Mo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,vl(l)?(tS(`${o}//${l}${d}`),nS("Auth",!0)):bD()}function AS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wD(t){const e=AS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:m1(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:m1(l)}}}function m1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function ED(t,e){return Bi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e){return wu(t,"POST","/v1/accounts:signInWithPassword",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e){return wu(t,"POST","/v1/accounts:signInWithEmailLink",Us(t,e))}async function TD(t,e){return wu(t,"POST","/v1/accounts:signInWithEmailLink",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Vv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Zc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,n,"signInWithPassword",_D);case"emailLink":return SD(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,r,"signUpPassword",ED);case"emailLink":return TD(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t,e){return wu(t,"POST","/v1/accounts:signInWithIdp",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="http://localhost";class Lo extends Vv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Dv(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Lo(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:ID,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AD(t){const e=Cc(Ac(t)).link,n=e?Cc(Ac(e)).deep_link_id:null,r=Cc(Ac(t)).deep_link_id;return(r?Cc(Ac(r)).link:null)||r||n||e||t}class Fv{constructor(e){var n,r,i,o,l,c;const d=Cc(Ac(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=CD((i=d.mode)!==null&&i!==void 0?i:null);De(f&&m&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=AD(e);try{return new Fv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(e,n){return Zc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Fv.parseLink(n);return De(r,"argument-error"),Zc._fromEmailAndCode(e,r.code,r.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends PS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends bu{constructor(){super("facebook.com")}static credential(e){return Lo._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends bu{constructor(){super("github.com")}static credential(e){return Lo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends bu{constructor(){super("twitter.com")}static credential(e,n){return Lo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e){return wu(t,"POST","/v1/accounts:signUp",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Or._fromIdTokenResponse(e,r,i),l=g1(r);return new jo({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=g1(r);return new jo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function g1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Fi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jh(e,n,r,i)}}function RS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(t,o,e,r):o})}async function RD(t,e,n=!1){const r=await tl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e,n=!1){const{auth:r}=t;if(pr(r.app))return Promise.reject(Ci(r));const i="reauthenticate";try{const o=await tl(t,RS(r,i,e,t),n);De(o.idToken,r,"internal-error");const l=Lv(o.idToken);De(l,r,"internal-error");const{sub:c}=l;return De(t.uid===c,r,"user-mismatch"),jo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(t,e,n=!1){if(pr(t.app))return Promise.reject(Ci(t));const r="signIn",i=await RS(t,r,e),o=await jo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function kD(t,e){return NS(Ho(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(t){const e=Ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DD(t,e,n){if(pr(t.app))return Promise.reject(Ci(t));const r=Ho(t),l=await Rg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PD).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&kS(t),d}),c=await jo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function MD(t,e,n){return pr(t.app)?Promise.reject(Ci(t)):kD(Qt(t),xl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e){return Bi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Qt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await tl(r,OD(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function LD(t,e,n,r){return Qt(t).onIdTokenChanged(e,n,r)}function jD(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function VD(t,e,n,r){return Qt(t).onAuthStateChanged(e,n,r)}function FD(t){return Qt(t).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=1e3,UD=10;class MS extends DS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);rD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MS.type="LOCAL";const zD=MS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS extends DS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OS.type="SESSION";const LS=OS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,o)),d=await $D(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const f=Bv("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function WD(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function GD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KD(){return jS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firebaseLocalStorageDb",QD=1,Fh="firebaseLocalStorage",FS="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(t,e){return t.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function YD(){const t=indexedDB.deleteDatabase(VS);return new Eu(t).toPromise()}function Ng(){const t=indexedDB.open(VS,QD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fh,{keyPath:FS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await YD(),e(await Ng()))})})}async function y1(t,e,n){const r=bf(t,!0).put({[FS]:e,value:n});return new Eu(r).toPromise()}async function XD(t,e){const n=bf(t,!1).get(e),r=await new Eu(n).toPromise();return r===void 0?null:r.value}function x1(t,e){const n=bf(t,!0).delete(e);return new Eu(n).toPromise()}const JD=800,ZD=3;class BS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(KD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await GD(),!this.activeServiceWorker)return;this.sender=new HD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await y1(e,Vh,"1"),await x1(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>y1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=bf(i,!1).getAll();return new Eu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BS.type="LOCAL";const e4=BS;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t,e){return e?Ii(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv extends Vv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n4(t){return NS(t.auth,new Uv(t),t.bypassAuthState)}function r4(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),ND(n,new Uv(t),t.bypassAuthState)}async function i4(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),RD(n,new Uv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n4;case"linkViaPopup":case"linkViaRedirect":return i4;case"reauthViaPopup":case"reauthViaRedirect":return r4;default:jr(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new xu(2e3,1e4);class za extends US{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s4.get())};e()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="pendingRedirect",vh=new Map;class a4 extends US{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await l4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l4(t,e){const n=d4(e),r=u4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function c4(t,e){vh.set(t._key(),e)}function u4(t){return Ii(t._redirectPersistence)}function d4(t){return gh(o4,t.config.apiKey,t.name)}async function h4(t,e,n=!1){if(pr(t.app))return Promise.reject(Ci(t));const r=Ho(t),i=t4(r,e),l=await new a4(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=10*60*1e3;class p4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f4&&this.cachedEventUids.clear(),this.cachedEventUids.has(w1(e))}saveEventToCache(e){this.cachedEventUids.add(w1(e)),this.lastProcessedEventTime=Date.now()}}function w1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(t,e={}){return Bi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y4=/^https?/;async function x4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g4(t);for(const n of e)try{if(w4(n))return}catch{}jr(t,"unauthorized-domain")}function w4(t){const e=Ag(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!y4.test(n))return!1;if(v4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new xu(3e4,6e4);function b1(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function E4(t){return new Promise((e,n)=>{var r,i,o;function l(){b1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b1(),n(Xr(t,"network-request-failed"))},timeout:b4.get()})}if(!((i=(r=Jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Jr().gapi)===null||o===void 0)&&o.load)l();else{const c=hD("iframefcb");return Jr()[c]=()=>{gapi.load?l():n(Xr(t,"network-request-failed"))},IS(`${dD()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw yh=null,e})}let yh=null;function _4(t){return yh=yh||E4(t),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new xu(5e3,15e3),T4="__/auth/iframe",I4="emulator/auth/iframe",C4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P4(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ov(e,I4):`https://${t.config.authDomain}/${T4}`,r={apiKey:e.apiKey,appName:t.name,v:yl},i=A4.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yu(r).slice(1)}`}async function R4(t){const e=await _4(t),n=Jr().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:P4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Xr(t,"network-request-failed"),c=Jr().setTimeout(()=>{o(l)},S4.get());function d(){Jr().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k4=500,D4=600,M4="_blank",O4="http://localhost";class E1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L4(t,e,n,r=k4,i=D4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},N4),{width:r.toString(),height:i.toString(),top:o,left:l}),f=yn().toLowerCase();n&&(c=xS(f)?M4:n),vS(f)&&(e=e||O4,d.scrollbars="yes");const m=Object.entries(d).reduce((y,[E,S])=>`${y}${E}=${S},`,"");if(nD(f)&&c!=="_self")return j4(e||"",c),new E1(null);const g=window.open(e||"",c,m);De(g,t,"popup-blocked");try{g.focus()}catch{}return new E1(g)}function j4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="__/auth/handler",F4="emulator/auth/handler",B4=encodeURIComponent("fac");async function _1(t,e,n,r,i,o){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yl,eventId:i};if(e instanceof PS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",SN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof bu){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${B4}=${encodeURIComponent(d)}`:"";return`${U4(t)}?${yu(c).slice(1)}${f}`}function U4({config:t}){return t.emulator?Ov(t,F4):`https://${t.authDomain}/${V4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="webStorageSupport";class z4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LS,this._completeRedirectFn=h4,this._overrideRedirectResult=c4}async _openPopup(e,n,r,i){var o;Di((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await _1(e,n,r,Ag(),i);return L4(e,l,Bv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await _1(e,n,r,Ag(),i);return WD(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Di(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await R4(e),r=new p4(e);return n.register("authEvent",i=>(De(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bm,{type:Bm},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Bm];l!==void 0&&n(!!l),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SS()||yS()||jv()}}const $4=z4;var S1="@firebase/auth",T1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G4(t){el(new Oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TS(t)},f=new lD(r,i,o,d);return yD(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),el(new Oo("auth-internal",e=>{const n=Ho(e.getProvider("auth").getImmediate());return(r=>new H4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(S1,T1,W4(t)),Ts(S1,T1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=5*60,K4=eS("authIdTokenMaxAge")||q4;let I1=null;const Q4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K4)return;const i=n==null?void 0:n.token;I1!==i&&(I1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Y4(t=oS()){const e=kv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vD(t,{popupRedirectResolver:$4,persistence:[e4,zD,LS]}),r=eS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=Q4(o.toString());jD(n,l,()=>l(n.currentUser)),LD(n,c=>l(c))}}const i=J_("auth");return i&&xD(n,`http://${i}`),n}function X4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Xr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",X4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G4("Browser");var C1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,$S;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function k(){}k.prototype=A.prototype,R.D=A.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(j,U,F){for(var N=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)N[ae-2]=arguments[ae];return A.prototype[U].apply(j,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,A,k){k||(k=0);var j=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)j[U]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(U=0;16>U;++U)j[U]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=R.g[0],k=R.g[1],U=R.g[2];var F=R.g[3],N=A+(F^k&(U^F))+j[0]+3614090360&4294967295;A=k+(N<<7&4294967295|N>>>25),N=F+(U^A&(k^U))+j[1]+3905402710&4294967295,F=A+(N<<12&4294967295|N>>>20),N=U+(k^F&(A^k))+j[2]+606105819&4294967295,U=F+(N<<17&4294967295|N>>>15),N=k+(A^U&(F^A))+j[3]+3250441966&4294967295,k=U+(N<<22&4294967295|N>>>10),N=A+(F^k&(U^F))+j[4]+4118548399&4294967295,A=k+(N<<7&4294967295|N>>>25),N=F+(U^A&(k^U))+j[5]+1200080426&4294967295,F=A+(N<<12&4294967295|N>>>20),N=U+(k^F&(A^k))+j[6]+2821735955&4294967295,U=F+(N<<17&4294967295|N>>>15),N=k+(A^U&(F^A))+j[7]+4249261313&4294967295,k=U+(N<<22&4294967295|N>>>10),N=A+(F^k&(U^F))+j[8]+1770035416&4294967295,A=k+(N<<7&4294967295|N>>>25),N=F+(U^A&(k^U))+j[9]+2336552879&4294967295,F=A+(N<<12&4294967295|N>>>20),N=U+(k^F&(A^k))+j[10]+4294925233&4294967295,U=F+(N<<17&4294967295|N>>>15),N=k+(A^U&(F^A))+j[11]+2304563134&4294967295,k=U+(N<<22&4294967295|N>>>10),N=A+(F^k&(U^F))+j[12]+1804603682&4294967295,A=k+(N<<7&4294967295|N>>>25),N=F+(U^A&(k^U))+j[13]+4254626195&4294967295,F=A+(N<<12&4294967295|N>>>20),N=U+(k^F&(A^k))+j[14]+2792965006&4294967295,U=F+(N<<17&4294967295|N>>>15),N=k+(A^U&(F^A))+j[15]+1236535329&4294967295,k=U+(N<<22&4294967295|N>>>10),N=A+(U^F&(k^U))+j[1]+4129170786&4294967295,A=k+(N<<5&4294967295|N>>>27),N=F+(k^U&(A^k))+j[6]+3225465664&4294967295,F=A+(N<<9&4294967295|N>>>23),N=U+(A^k&(F^A))+j[11]+643717713&4294967295,U=F+(N<<14&4294967295|N>>>18),N=k+(F^A&(U^F))+j[0]+3921069994&4294967295,k=U+(N<<20&4294967295|N>>>12),N=A+(U^F&(k^U))+j[5]+3593408605&4294967295,A=k+(N<<5&4294967295|N>>>27),N=F+(k^U&(A^k))+j[10]+38016083&4294967295,F=A+(N<<9&4294967295|N>>>23),N=U+(A^k&(F^A))+j[15]+3634488961&4294967295,U=F+(N<<14&4294967295|N>>>18),N=k+(F^A&(U^F))+j[4]+3889429448&4294967295,k=U+(N<<20&4294967295|N>>>12),N=A+(U^F&(k^U))+j[9]+568446438&4294967295,A=k+(N<<5&4294967295|N>>>27),N=F+(k^U&(A^k))+j[14]+3275163606&4294967295,F=A+(N<<9&4294967295|N>>>23),N=U+(A^k&(F^A))+j[3]+4107603335&4294967295,U=F+(N<<14&4294967295|N>>>18),N=k+(F^A&(U^F))+j[8]+1163531501&4294967295,k=U+(N<<20&4294967295|N>>>12),N=A+(U^F&(k^U))+j[13]+2850285829&4294967295,A=k+(N<<5&4294967295|N>>>27),N=F+(k^U&(A^k))+j[2]+4243563512&4294967295,F=A+(N<<9&4294967295|N>>>23),N=U+(A^k&(F^A))+j[7]+1735328473&4294967295,U=F+(N<<14&4294967295|N>>>18),N=k+(F^A&(U^F))+j[12]+2368359562&4294967295,k=U+(N<<20&4294967295|N>>>12),N=A+(k^U^F)+j[5]+4294588738&4294967295,A=k+(N<<4&4294967295|N>>>28),N=F+(A^k^U)+j[8]+2272392833&4294967295,F=A+(N<<11&4294967295|N>>>21),N=U+(F^A^k)+j[11]+1839030562&4294967295,U=F+(N<<16&4294967295|N>>>16),N=k+(U^F^A)+j[14]+4259657740&4294967295,k=U+(N<<23&4294967295|N>>>9),N=A+(k^U^F)+j[1]+2763975236&4294967295,A=k+(N<<4&4294967295|N>>>28),N=F+(A^k^U)+j[4]+1272893353&4294967295,F=A+(N<<11&4294967295|N>>>21),N=U+(F^A^k)+j[7]+4139469664&4294967295,U=F+(N<<16&4294967295|N>>>16),N=k+(U^F^A)+j[10]+3200236656&4294967295,k=U+(N<<23&4294967295|N>>>9),N=A+(k^U^F)+j[13]+681279174&4294967295,A=k+(N<<4&4294967295|N>>>28),N=F+(A^k^U)+j[0]+3936430074&4294967295,F=A+(N<<11&4294967295|N>>>21),N=U+(F^A^k)+j[3]+3572445317&4294967295,U=F+(N<<16&4294967295|N>>>16),N=k+(U^F^A)+j[6]+76029189&4294967295,k=U+(N<<23&4294967295|N>>>9),N=A+(k^U^F)+j[9]+3654602809&4294967295,A=k+(N<<4&4294967295|N>>>28),N=F+(A^k^U)+j[12]+3873151461&4294967295,F=A+(N<<11&4294967295|N>>>21),N=U+(F^A^k)+j[15]+530742520&4294967295,U=F+(N<<16&4294967295|N>>>16),N=k+(U^F^A)+j[2]+3299628645&4294967295,k=U+(N<<23&4294967295|N>>>9),N=A+(U^(k|~F))+j[0]+4096336452&4294967295,A=k+(N<<6&4294967295|N>>>26),N=F+(k^(A|~U))+j[7]+1126891415&4294967295,F=A+(N<<10&4294967295|N>>>22),N=U+(A^(F|~k))+j[14]+2878612391&4294967295,U=F+(N<<15&4294967295|N>>>17),N=k+(F^(U|~A))+j[5]+4237533241&4294967295,k=U+(N<<21&4294967295|N>>>11),N=A+(U^(k|~F))+j[12]+1700485571&4294967295,A=k+(N<<6&4294967295|N>>>26),N=F+(k^(A|~U))+j[3]+2399980690&4294967295,F=A+(N<<10&4294967295|N>>>22),N=U+(A^(F|~k))+j[10]+4293915773&4294967295,U=F+(N<<15&4294967295|N>>>17),N=k+(F^(U|~A))+j[1]+2240044497&4294967295,k=U+(N<<21&4294967295|N>>>11),N=A+(U^(k|~F))+j[8]+1873313359&4294967295,A=k+(N<<6&4294967295|N>>>26),N=F+(k^(A|~U))+j[15]+4264355552&4294967295,F=A+(N<<10&4294967295|N>>>22),N=U+(A^(F|~k))+j[6]+2734768916&4294967295,U=F+(N<<15&4294967295|N>>>17),N=k+(F^(U|~A))+j[13]+1309151649&4294967295,k=U+(N<<21&4294967295|N>>>11),N=A+(U^(k|~F))+j[4]+4149444226&4294967295,A=k+(N<<6&4294967295|N>>>26),N=F+(k^(A|~U))+j[11]+3174756917&4294967295,F=A+(N<<10&4294967295|N>>>22),N=U+(A^(F|~k))+j[2]+718787259&4294967295,U=F+(N<<15&4294967295|N>>>17),N=k+(F^(U|~A))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+U&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var k=A-this.blockSize,j=this.B,U=this.h,F=0;F<A;){if(U==0)for(;F<=k;)i(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<A;)if(j[U++]=R.charCodeAt(F++),U==this.blockSize){i(this,j),U=0;break}}else for(;F<A;)if(j[U++]=R[F++],U==this.blockSize){i(this,j),U=0;break}}this.h=U,this.o+=A},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var k=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=k&255,k/=256;for(this.u(R),R=Array(16),A=k=0;4>A;++A)for(var j=0;32>j;j+=8)R[k++]=this.g[A]>>>j&255;return R};function o(R,A){var k=c;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=A(R)}function l(R,A){this.h=A;for(var k=[],j=!0,U=R.length-1;0<=U;U--){var F=R[U]|0;j&&F==A||(k[U]=F,j=!1)}this.g=k}var c={};function d(R){return-128<=R&&128>R?o(R,function(A){return new l([A|0],0>A?-1:0)}):new l([R|0],0>R?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return g;if(0>R)return I(f(-R));for(var A=[],k=1,j=0;R>=k;j++)A[j]=R/k|0,k*=4294967296;return new l(A,0)}function m(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return I(m(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(A,8)),j=g,U=0;U<R.length;U+=8){var F=Math.min(8,R.length-U),N=parseInt(R.substring(U,U+F),A);8>F?(F=f(Math.pow(A,F)),j=j.j(F).add(f(N))):(j=j.j(k),j=j.add(f(N)))}return j}var g=d(0),y=d(1),E=d(16777216);t=l.prototype,t.m=function(){if(C(this))return-I(this).m();for(var R=0,A=1,k=0;k<this.g.length;k++){var j=this.i(k);R+=(0<=j?j:4294967296+j)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(C(this))return"-"+I(this).toString(R);for(var A=f(Math.pow(R,6)),k=this,j="";;){var U=z(k,A).g;k=L(k,U.j(A));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=U,S(k))return F+j;for(;6>F.length;)F="0"+F;j=F+j}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function C(R){return R.h==-1}t.l=function(R){return R=L(this,R),C(R)?-1:S(R)?0:1};function I(R){for(var A=R.g.length,k=[],j=0;j<A;j++)k[j]=~R.g[j];return new l(k,~R.h).add(y)}t.abs=function(){return C(this)?I(this):this},t.add=function(R){for(var A=Math.max(this.g.length,R.g.length),k=[],j=0,U=0;U<=A;U++){var F=j+(this.i(U)&65535)+(R.i(U)&65535),N=(F>>>16)+(this.i(U)>>>16)+(R.i(U)>>>16);j=N>>>16,F&=65535,N&=65535,k[U]=N<<16|F}return new l(k,k[k.length-1]&-2147483648?-1:0)};function L(R,A){return R.add(I(A))}t.j=function(R){if(S(this)||S(R))return g;if(C(this))return C(R)?I(this).j(I(R)):I(I(this).j(R));if(C(R))return I(this.j(I(R)));if(0>this.l(E)&&0>R.l(E))return f(this.m()*R.m());for(var A=this.g.length+R.g.length,k=[],j=0;j<2*A;j++)k[j]=0;for(j=0;j<this.g.length;j++)for(var U=0;U<R.g.length;U++){var F=this.i(j)>>>16,N=this.i(j)&65535,ae=R.i(U)>>>16,Se=R.i(U)&65535;k[2*j+2*U]+=N*Se,P(k,2*j+2*U),k[2*j+2*U+1]+=F*Se,P(k,2*j+2*U+1),k[2*j+2*U+1]+=N*ae,P(k,2*j+2*U+1),k[2*j+2*U+2]+=F*ae,P(k,2*j+2*U+2)}for(j=0;j<A;j++)k[j]=k[2*j+1]<<16|k[2*j];for(j=A;j<2*A;j++)k[j]=0;return new l(k,0)};function P(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function M(R,A){this.g=R,this.h=A}function z(R,A){if(S(A))throw Error("division by zero");if(S(R))return new M(g,g);if(C(R))return A=z(I(R),A),new M(I(A.g),I(A.h));if(C(A))return A=z(R,I(A)),new M(I(A.g),A.h);if(30<R.g.length){if(C(R)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var k=y,j=A;0>=j.l(R);)k=V(k),j=V(j);var U=G(k,1),F=G(j,1);for(j=G(j,2),k=G(k,2);!S(j);){var N=F.add(j);0>=N.l(R)&&(U=U.add(k),F=N),j=G(j,1),k=G(k,1)}return A=L(R,U.j(A)),new M(U,A)}for(U=g;0<=R.l(A);){for(k=Math.max(1,Math.floor(R.m()/A.m())),j=Math.ceil(Math.log(k)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),F=f(k),N=F.j(A);C(N)||0<N.l(R);)k-=j,F=f(k),N=F.j(A);S(F)&&(F=y),U=U.add(F),R=L(R,N)}return new M(U,R)}t.A=function(R){return z(this,R).h},t.and=function(R){for(var A=Math.max(this.g.length,R.g.length),k=[],j=0;j<A;j++)k[j]=this.i(j)&R.i(j);return new l(k,this.h&R.h)},t.or=function(R){for(var A=Math.max(this.g.length,R.g.length),k=[],j=0;j<A;j++)k[j]=this.i(j)|R.i(j);return new l(k,this.h|R.h)},t.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),k=[],j=0;j<A;j++)k[j]=this.i(j)^R.i(j);return new l(k,this.h^R.h)};function V(R){for(var A=R.g.length+1,k=[],j=0;j<A;j++)k[j]=R.i(j)<<1|R.i(j-1)>>>31;return new l(k,R.h)}function G(R,A){var k=A>>5;A%=32;for(var j=R.g.length-k,U=[],F=0;F<j;F++)U[F]=0<A?R.i(F+k)>>>A|R.i(F+k+1)<<32-A:R.i(F+k);return new l(U,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$S=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Is=l}).apply(typeof C1<"u"?C1:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HS,Pc,WS,xh,kg,GS,qS,KS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,_){return h==Array.prototype||h==Object.prototype||(h[w]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var w=0;w<h.length;++w){var _=h[w];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var _=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var q=h[D];if(!(q in _))break e;_=_[q]}h=h[h.length-1],D=_[h],w=w(D),w!=D&&w!=null&&e(_,h,{configurable:!0,writable:!0,value:w})}}function o(h,w){h instanceof String&&(h+="");var _=0,D=!1,q={next:function(){if(!D&&_<h.length){var J=_++;return{value:w(J,h[J]),done:!1}}return D=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(h){return h||function(){return o(this,function(w,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function f(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function m(h,w,_){return h.call.apply(h.bind,arguments)}function g(h,w,_){if(!h)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,D),h.apply(w,q)}}return function(){return h.apply(w,arguments)}}function y(h,w,_){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,y.apply(null,arguments)}function E(h,w){var _=Array.prototype.slice.call(arguments,1);return function(){var D=_.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function S(h,w){function _(){}_.prototype=w.prototype,h.aa=w.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(D,q,J){for(var ce=Array(arguments.length-2),st=2;st<arguments.length;st++)ce[st-2]=arguments[st];return w.prototype[q].apply(D,ce)}}function C(h){const w=h.length;if(0<w){const _=Array(w);for(let D=0;D<w;D++)_[D]=h[D];return _}return[]}function I(h,w){for(let _=1;_<arguments.length;_++){const D=arguments[_];if(d(D)){const q=h.length||0,J=D.length||0;h.length=q+J;for(let ce=0;ce<J;ce++)h[q+ce]=D[ce]}else h.push(D)}}class L{constructor(w,_){this.i=w,this.j=_,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function P(h){return/^[\s\xa0]*$/.test(h)}function M(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function z(h){return z[" "](h),h}z[" "]=function(){};var V=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function G(h,w,_){for(const D in h)w.call(_,h[D],D,h)}function R(h,w){for(const _ in h)w.call(void 0,h[_],_,h)}function A(h){const w={};for(const _ in h)w[_]=h[_];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(h,w){let _,D;for(let q=1;q<arguments.length;q++){D=arguments[q];for(_ in D)h[_]=D[_];for(let J=0;J<k.length;J++)_=k[J],Object.prototype.hasOwnProperty.call(D,_)&&(h[_]=D[_])}}function U(h){var w=1;h=h.split(":");const _=[];for(;0<w&&h.length;)_.push(h.shift()),w--;return h.length&&_.push(h.join(":")),_}function F(h){c.setTimeout(()=>{throw h},0)}function N(){var h=ue;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class ae{constructor(){this.h=this.g=null}add(w,_){const D=Se.get();D.set(w,_),this.h?this.h.next=D:this.g=D,this.h=D}}var Se=new L(()=>new Ee,h=>h.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(w,_){this.h=w,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Z=!1,ue=new ae,ie=()=>{const h=c.Promise.resolve(void 0);ve=()=>{h.then(H)}};var H=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(_){F(_)}var w=Se;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}Z=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};c.addEventListener("test",_,w),c.removeEventListener("test",_,w)}catch{}return h}();function ke(h,w){if(pe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(V){e:{try{z(w.nodeName);var q=!0;break e}catch{}q=!1}q||(w=null)}}else _=="mouseover"?w=h.fromElement:_=="mouseout"&&(w=h.toElement);this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Fe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ke.aa.h.call(this)}}S(ke,pe);var Fe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Xe(h,w,_,D,q){this.listener=h,this.proxy=null,this.src=w,this.type=_,this.capture=!!D,this.ha=q,this.key=++ze,this.da=this.fa=!1}function it(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,w,_,D,q){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var ce=Ke(h,w,D,q);return-1<ce?(w=h[ce],_||(w.fa=!1)):(w=new Xe(w,this.src,J,!!D,q),w.fa=_,h.push(w)),w};function Ve(h,w){var _=w.type;if(_ in h.g){var D=h.g[_],q=Array.prototype.indexOf.call(D,w,void 0),J;(J=0<=q)&&Array.prototype.splice.call(D,q,1),J&&(it(w),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Ke(h,w,_,D){for(var q=0;q<h.length;++q){var J=h[q];if(!J.da&&J.listener==w&&J.capture==!!_&&J.ha==D)return q}return-1}var He="closure_lm_"+(1e6*Math.random()|0),Ut={};function kt(h,w,_,D,q){if(Array.isArray(w)){for(var J=0;J<w.length;J++)kt(h,w[J],_,D,q);return null}return _=Nl(_),h&&h[Be]?h.K(w,_,f(D)?!!D.capture:!1,q):er(h,w,_,!1,D,q)}function er(h,w,_,D,q,J){if(!w)throw Error("Invalid event type");var ce=f(q)?!!q.capture:!!q,st=Ui(h);if(st||(h[He]=st=new he(h)),_=st.add(w,_,D,ce,J),_.proxy)return _;if(D=ai(),_.proxy=D,D.src=h,D.listener=_,h.addEventListener)Re||(q=ce),q===void 0&&(q=!1),h.addEventListener(w.toString(),D,q);else if(h.attachEvent)h.attachEvent(Dt(w.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ai(){function h(_){return w.call(h.src,h.listener,_)}const w=Vn;return h}function xn(h,w,_,D,q){if(Array.isArray(w))for(var J=0;J<w.length;J++)xn(h,w[J],_,D,q);else D=f(D)?!!D.capture:!!D,_=Nl(_),h&&h[Be]?(h=h.i,w=String(w).toString(),w in h.g&&(J=h.g[w],_=Ke(J,_,D,q),-1<_&&(it(J[_]),Array.prototype.splice.call(J,_,1),J.length==0&&(delete h.g[w],h.h--)))):h&&(h=Ui(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Ke(w,_,D,q)),(_=-1<h?w[h]:null)&&on(_))}function on(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[Be])Ve(w.i,h);else{var _=h.type,D=h.proxy;w.removeEventListener?w.removeEventListener(_,D,h.capture):w.detachEvent?w.detachEvent(Dt(_),D):w.addListener&&w.removeListener&&w.removeListener(D),(_=Ui(w))?(Ve(_,h),_.h==0&&(_.src=null,w[He]=null)):it(h)}}}function Dt(h){return h in Ut?Ut[h]:Ut[h]="on"+h}function Vn(h,w){if(h.da)h=!0;else{w=new ke(w,this);var _=h.listener,D=h.ha||h.src;h.fa&&on(h),h=_.call(D,w)}return h}function Ui(h){return h=h[He],h instanceof he?h:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nl(h){return typeof h=="function"?h:(h[Qo]||(h[Qo]=function(w){return h.handleEvent(w)}),h[Qo])}function Mt(){X.call(this),this.i=new he(this),this.M=this,this.F=null}S(Mt,X),Mt.prototype[Be]=!0,Mt.prototype.removeEventListener=function(h,w,_,D){xn(this,h,w,_,D)};function Ot(h,w){var _,D=h.F;if(D)for(_=[];D;D=D.F)_.push(D);if(h=h.M,D=w.type||w,typeof w=="string")w=new pe(w,h);else if(w instanceof pe)w.target=w.target||h;else{var q=w;w=new pe(D,h),j(w,q)}if(q=!0,_)for(var J=_.length-1;0<=J;J--){var ce=w.g=_[J];q=li(ce,D,!0,w)&&q}if(ce=w.g=h,q=li(ce,D,!0,w)&&q,q=li(ce,D,!1,w)&&q,_)for(J=0;J<_.length;J++)ce=w.g=_[J],q=li(ce,D,!1,w)&&q}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var _=h.g[w],D=0;D<_.length;D++)it(_[D]);delete h.g[w],h.h--}}this.F=null},Mt.prototype.K=function(h,w,_,D){return this.i.add(String(h),w,!1,_,D)},Mt.prototype.L=function(h,w,_,D){return this.i.add(String(h),w,!0,_,D)};function li(h,w,_,D){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var q=!0,J=0;J<w.length;++J){var ce=w[J];if(ce&&!ce.da&&ce.capture==_){var st=ce.listener,Lt=ce.ha||ce.src;ce.fa&&Ve(h.i,ce),q=st.call(Lt,D)!==!1&&q}}return q&&!D.defaultPrevented}function kl(h,w,_){if(typeof h=="function")_&&(h=y(h,_));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(h,w||0)}function zi(h){h.g=kl(()=>{h.g=null,h.i&&(h.i=!1,zi(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class qs extends X{constructor(w,_){super(),this.m=w,this.l=_,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:zi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(h){X.call(this),this.h=h,this.g={}}S(Ks,X);var Dl=[];function Ml(h){G(h.g,function(w,_){this.g.hasOwnProperty(_)&&on(w)},h),h.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),Ml(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ol=c.JSON.stringify,Ll=c.JSON.parse,jl=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Qs(){}Qs.prototype.h=null;function Yo(h){return h.h||(h.h=h.i())}function Xo(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){pe.call(this,"d")}S(Vr,pe);function Jo(){pe.call(this,"c")}S(Jo,pe);var Fr={},Vl=null;function Ys(){return Vl=Vl||new Mt}Fr.La="serverreachability";function Fl(h){pe.call(this,Fr.La,h)}S(Fl,pe);function ci(h){const w=Ys();Ot(w,new Fl(w))}Fr.STAT_EVENT="statevent";function Bl(h,w){pe.call(this,Fr.STAT_EVENT,h),this.stat=w}S(Bl,pe);function _t(h){const w=Ys();Ot(w,new Bl(w,h))}Fr.Ma="timingevent";function Zo(h,w){pe.call(this,Fr.Ma,h),this.size=w}S(Zo,pe);function yr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},w)}function Xs(){this.g=!0}Xs.prototype.xa=function(){this.g=!1};function Js(h,w,_,D,q,J){h.info(function(){if(h.g)if(J)for(var ce="",st=J.split("&"),Lt=0;Lt<st.length;Lt++){var Qe=st[Lt].split("=");if(1<Qe.length){var zt=Qe[0];Qe=Qe[1];var At=zt.split("_");ce=2<=At.length&&At[1]=="type"?ce+(zt+"="+Qe+"&"):ce+(zt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+D+") [attempt "+q+"]: "+w+`
`+_+`
`+ce})}function ea(h,w,_,D,q,J,ce){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+q+"]: "+w+`
`+_+`
`+J+" "+ce})}function xr(h,w,_,D){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+np(h,_)+(D?" "+D:"")})}function Ul(h,w){h.info(function(){return"TIMEOUT: "+w})}Xs.prototype.info=function(){};function np(h,w){if(!h.g)return w;if(!w)return null;try{var _=JSON.parse(w);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var D=_[h];if(!(2>D.length)){var q=D[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return Ol(_)}catch{return w}}var ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wr;function Zs(){}S(Zs,Qs),Zs.prototype.g=function(){return new XMLHttpRequest},Zs.prototype.i=function(){return{}},wr=new Zs;function br(h,w,_,D){this.j=h,this.i=w,this.l=_,this.R=D||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bu}function Bu(){this.i=null,this.g="",this.h=!1}var zl={},na={};function ra(h,w,_){h.L=1,h.v=qi(Bn(w)),h.m=_,h.P=!0,$l(h,null)}function $l(h,w){h.F=Date.now(),ct(h),h.A=Bn(h.v);var _=h.A,D=h.R;Array.isArray(D)||(D=[String(D)]),Qi(_.i,"t",D),h.C=0,_=h.j.J,h.h=new Bu,h.g=id(h.j,_?w:null,!h.m),0<h.O&&(h.M=new qs(y(h.Y,h,h.g),h.O)),w=h.U,_=h.g,D=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(Dl[0]=q.toString()),q=Dl);for(var J=0;J<q.length;J++){var ce=kt(_,q[J],D||w.handleEvent,!1,w.h||w);if(!ce)break;w.g[ce.key]=ce}w=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),ci(),Js(h.i,h.u,h.A,h.l,h.R,h.m)}br.prototype.ca=function(h){h=h.target;const w=this.M;w&&Cn(h)==3?w.j():this.Y(h)},br.prototype.Y=function(h){try{if(h==this.g)e:{const At=Cn(this.g);var w=this.g.Ba();const ir=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Ql(this.g)))){this.J||At!=4||w==7||(w==8||0>=ir?ci(3):ci(2)),eo(this);var _=this.g.Z();this.X=_;t:if(Uu(this)){var D=Ql(this.g);h="";var q=D.length,J=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),$i(this);var ce="";break t}this.h.i=new c.TextDecoder}for(w=0;w<q;w++)this.h.h=!0,h+=this.h.i.decode(D[w],{stream:!(J&&w==q-1)});D.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,ea(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Lt=this.g;if((st=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(st)){var Qe=st;break t}}Qe=null}if(_=Qe)xr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hl(this,_);else{this.o=!1,this.s=3,_t(12),nr(this),$i(this);break e}}if(this.P){_=!0;let zn;for(;!this.J&&this.C<ce.length;)if(zn=rp(this,ce),zn==na){At==4&&(this.s=4,_t(14),_=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==zl){this.s=4,_t(15),xr(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else xr(this.i,this.l,zn,null),Hl(this,zn);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ce.length!=0||this.h.h||(this.s=1,_t(16),_=!1),this.o=this.o&&_,!_)xr(this.i,this.l,ce,"[Invalid Chunked Response]"),nr(this),$i(this);else if(0<ce.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Xl(zt),zt.M=!0,_t(11))}}else xr(this.i,this.l,ce,null),Hl(this,ce);At==4&&nr(this),this.o&&!this.J&&(At==4?pa(this.j,this):(this.o=!1,ct(this)))}else ca(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),nr(this),$i(this)}}}catch{}finally{}};function Uu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function rp(h,w){var _=h.C,D=w.indexOf(`
`,_);return D==-1?na:(_=Number(w.substring(_,D)),isNaN(_)?zl:(D+=1,D+_>w.length?na:(w=w.slice(D,D+_),h.C=D+_,w)))}br.prototype.cancel=function(){this.J=!0,nr(this)};function ct(h){h.S=Date.now()+h.I,zu(h,h.I)}function zu(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=yr(y(h.ba,h),w)}function eo(h){h.B&&(c.clearTimeout(h.B),h.B=null)}br.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ul(this.i,this.A),this.L!=2&&(ci(),_t(17)),nr(this),this.s=2,$i(this)):zu(this,this.S-h)};function $i(h){h.j.G==0||h.J||pa(h.j,h)}function nr(h){eo(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,Ml(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function Hl(h,w){try{var _=h.j;if(_.G!=0&&(_.g==h||wn(_.h,h))){if(!h.K&&wn(_.h,h)&&_.G==3){try{var D=_.Da.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var q=D;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)fa(_),Ir(_);else break e;ha(_),_t(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=yr(y(_.Za,_),6e3));if(1>=Hu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else pi(_,11)}else if((h.K||_.g==h)&&fa(_),!P(w))for(q=_.Da.g.parse(w),w=0;w<q.length;w++){let Qe=q[w];if(_.T=Qe[0],Qe=Qe[1],_.G==2)if(Qe[0]=="c"){_.K=Qe[1],_.ia=Qe[2];const zt=Qe[3];zt!=null&&(_.la=zt,_.j.info("VER="+_.la));const At=Qe[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const ir=Qe[5];ir!=null&&typeof ir=="number"&&0<ir&&(D=1.5*ir,_.L=D,_.j.info("backChannelRequestTimeoutMs_="+D)),D=_;const zn=h.g;if(zn){const ao=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ao){var J=D.h;J.g||ao.indexOf("spdy")==-1&&ao.indexOf("quic")==-1&&ao.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Wl(J,J.h),J.h=null))}if(D.D){const ga=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(D.ya=ga,at(D.I,D.D,ga))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),D=_;var ce=h;if(D.qa=rd(D,D.J?D.ia:null,D.W),ce.K){Wu(D.h,ce);var st=ce,Lt=D.L;Lt&&(st.I=Lt),st.B&&(eo(st),ct(st)),D.g=ce}else oo(D);0<_.i.length&&$r(_)}else Qe[0]!="stop"&&Qe[0]!="close"||pi(_,7);else _.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?pi(_,7):Zt(_):Qe[0]!="noop"&&_.l&&_.l.ta(Qe),_.v=0)}}ci(4)}catch{}}var $u=class{constructor(h,w){this.g=h,this.map=w}};function to(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Hu(h){return h.h?1:h.g?h.g.size:0}function wn(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Wl(h,w){h.g?h.g.add(w):h.h=w}function Wu(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}to.prototype.cancel=function(){if(this.i=Gu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Gu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const _ of h.g.values())w=w.concat(_.D);return w}return C(h.i)}function ia(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var w=[],_=h.length,D=0;D<_;D++)w.push(h[D]);return w}w=[],_=0;for(D in h)w[_++]=h[D];return w}function sa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var w=[];h=h.length;for(var _=0;_<h;_++)w.push(_);return w}w=[],_=0;for(const D in h)w[_++]=D;return w}}}function Hi(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var _=sa(h),D=ia(h),q=D.length,J=0;J<q;J++)w.call(void 0,D[J],_&&_[J],h)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ip(h,w){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var D=h[_].indexOf("="),q=null;if(0<=D){var J=h[_].substring(0,D);q=h[_].substring(D+1)}else J=h[_];w(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ui(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ui){this.h=h.h,ro(this,h.j),this.o=h.o,this.g=h.g,Wi(this,h.s),this.l=h.l;var w=h.i,_=new Br;_.i=w.i,w.g&&(_.g=new Map(w.g),_.h=w.h),Gi(this,_),this.m=h.m}else h&&(w=String(h).match(no))?(this.h=!1,ro(this,w[1]||"",!0),this.o=qe(w[2]||""),this.g=qe(w[3]||"",!0),Wi(this,w[4]),this.l=qe(w[5]||"",!0),Gi(this,w[6]||"",!0),this.m=qe(w[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}ui.prototype.toString=function(){var h=[],w=this.j;w&&h.push(Ki(w,oa,!0),":");var _=this.g;return(_||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Ki(w,oa,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ki(_,_.charAt(0)=="/"?Qu:Ku,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ki(_,Gl)),h.join("")};function Bn(h){return new ui(h)}function ro(h,w,_){h.j=_?qe(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Wi(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function Gi(h,w,_){w instanceof Br?(h.i=w,Ur(h.i,h.h)):(_||(w=Ki(w,Yu)),h.i=new Br(w,h.h))}function at(h,w,_){h.i.set(w,_)}function qi(h){return at(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function qe(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ki(h,w,_){return typeof h=="string"?(h=encodeURI(h).replace(w,qu),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var oa=/[#\/\?@]/g,Ku=/[#\?:]/g,Qu=/[#\?]/g,Yu=/[#\?@]/g,Gl=/#/g;function Br(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Jt(h){h.g||(h.g=new Map,h.h=0,h.i&&ip(h.i,function(w,_){h.add(decodeURIComponent(w.replace(/\+/g," ")),_)}))}t=Br.prototype,t.add=function(h,w){Jt(this),this.i=null,h=rr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(w),this.h+=1,this};function Er(h,w){Jt(h),w=rr(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function _r(h,w){return Jt(h),w=rr(h,w),h.g.has(w)}t.forEach=function(h,w){Jt(this),this.g.forEach(function(_,D){_.forEach(function(q){h.call(w,q,D,this)},this)},this)},t.na=function(){Jt(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),_=[];for(let D=0;D<w.length;D++){const q=h[D];for(let J=0;J<q.length;J++)_.push(w[D])}return _},t.V=function(h){Jt(this);let w=[];if(typeof h=="string")_r(this,h)&&(w=w.concat(this.g.get(rr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)w=w.concat(h[_])}return w},t.set=function(h,w){return Jt(this),this.i=null,h=rr(this,h),_r(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function Qi(h,w,_){Er(h,w),0<_.length&&(h.i=null,h.g.set(rr(h,w),C(_)),h.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var _=0;_<w.length;_++){var D=w[_];const J=encodeURIComponent(String(D)),ce=this.V(D);for(D=0;D<ce.length;D++){var q=J;ce[D]!==""&&(q+="="+encodeURIComponent(String(ce[D]))),h.push(q)}}return this.i=h.join("&")};function rr(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function Ur(h,w){w&&!h.j&&(Jt(h),h.i=null,h.g.forEach(function(_,D){var q=D.toLowerCase();D!=q&&(Er(this,D),Qi(this,q,_))},h)),h.j=w}function sp(h,w){const _=new Xs;if(c.Image){const D=new Image;D.onload=E(In,_,"TestLoadImage: loaded",!0,w,D),D.onerror=E(In,_,"TestLoadImage: error",!1,w,D),D.onabort=E(In,_,"TestLoadImage: abort",!1,w,D),D.ontimeout=E(In,_,"TestLoadImage: timeout",!1,w,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else w(!1)}function Xu(h,w){const _=new Xs,D=new AbortController,q=setTimeout(()=>{D.abort(),In(_,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:D.signal}).then(J=>{clearTimeout(q),J.ok?In(_,"TestPingServer: ok",!0,w):In(_,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(q),In(_,"TestPingServer: error",!1,w)})}function In(h,w,_,D,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),D(_)}catch{}}function op(){this.g=new jl}function Ju(h,w,_){const D=_||"";try{Hi(h,function(q,J){let ce=q;f(q)&&(ce=Ol(q)),w.push(D+J+"="+encodeURIComponent(ce))})}catch(q){throw w.push(D+"type="+encodeURIComponent("_badmap")),q}}function di(h){this.l=h.Ub||null,this.j=h.eb||!1}S(di,Qs),di.prototype.g=function(){return new io(this.l,this.j)},di.prototype.i=function(h){return function(){return h}}({});function io(h,w){Mt.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(io,Mt),t=io.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Tr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Sr(this):Tr(this),this.readyState==3&&Zu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Sr(this))},t.Qa=function(h){this.g&&(this.response=h,Sr(this))},t.ga=function(){this.g&&Sr(this)};function Sr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Tr(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var _=w.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=w.next();return h.join(`\r
`)};function Tr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hi(h){let w="";return G(h,function(_,D){w+=D,w+=":",w+=_,w+=`\r
`}),w}function Yi(h,w,_){e:{for(D in _){var D=!1;break e}D=!0}D||(_=hi(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):at(h,w,_))}function pt(h){Mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(pt,Mt);var ap=/^https?$/i,ql=["POST","PUT"];t=pt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,_,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wr.g(),this.v=this.o?Yo(this.o):Yo(wr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(J){so(this,J);return}if(h=_||"",_=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var q in D)_.set(q,D[q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())_.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ql,w,void 0))||D||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of _)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){so(this,J)}};function so(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,aa(h),Un(h)}function aa(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ot(this,"complete"),Ot(this,"abort"),Un(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Un(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kl(this):this.bb())},t.bb=function(){Kl(this)};function Kl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Cn(h)!=4||h.Z()!=2)){if(h.u&&Cn(h)==4)kl(h.Ea,0,h);else if(Ot(h,"readystatechange"),Cn(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var _;if(!(_=w)){var D;if(D=ce===0){var q=String(h.D).match(no)[1]||null;!q&&c.self&&c.self.location&&(q=c.self.location.protocol.slice(0,-1)),D=!ap.test(q?q.toLowerCase():"")}_=D}if(_)Ot(h,"complete"),Ot(h,"success");else{h.m=6;try{var J=2<Cn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",aa(h)}}finally{Un(h)}}}}function Un(h,w){if(h.g){la(h);const _=h.g,D=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||Ot(h,"ready");try{_.onreadystatechange=D}catch{}}}function la(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Cn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Ll(w)}};function Ql(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ca(h){const w={};h=(h.g&&2<=Cn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(P(h[D]))continue;var _=U(h[D]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=w[q]||[];w[q]=J,J.push(_)}R(w,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(h,w,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||w}function Yl(h){this.Aa=0,this.i=[],this.j=new Xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,h),this.cb=zr("retryDelaySeedMs",1e4,h),this.Wa=zr("forwardChannelMaxRetries",2,h),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new to(h&&h.concurrentRequestLimit),this.Da=new op,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yl.prototype,t.la=8,t.G=1,t.connect=function(h,w,_,D){_t(0),this.W=h,this.H=w||{},_&&D!==void 0&&(this.H.OSID=_,this.H.OAID=D),this.F=this.X,this.I=rd(this,null,this.W),$r(this)};function Zt(h){if(ua(h),h.G==3){var w=h.U++,_=Bn(h.I);if(at(_,"SID",h.K),at(_,"RID",w),at(_,"TYPE","terminate"),fi(h,_),w=new br(h,h.j,w),w.L=2,w.v=qi(Bn(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!_&&c.Image&&(new Image().src=w.v,_=!0),_||(w.g=id(w.j,null),w.g.ea(w.v)),w.F=Date.now(),ct(w)}nd(h)}function Ir(h){h.g&&(Xl(h),h.g.cancel(),h.g=null)}function ua(h){Ir(h),h.u&&(c.clearTimeout(h.u),h.u=null),fa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function $r(h){if(!Fn(h.h)&&!h.s){h.s=!0;var w=h.Ga;ve||ie(),Z||(ve(),Z=!0),ue.add(w,h),h.B=0}}function lp(h,w){return Hu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=yr(y(h.Ga,h,w),td(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new br(this,this.j,h);let J=this.o;if(this.S&&(J?(J=A(J),j(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var w=0,_=0;_<this.i.length;_++){t:{var D=this.i[_];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,4096<w){w=_;break e}if(w===4096||_===this.i.length-1){w=_+1;break e}}w=1e3}else w=1e3;w=Xi(this,q,w),_=Bn(this.I),at(_,"RID",h),at(_,"CVER",22),this.D&&at(_,"X-HTTP-Session-Id",this.D),fi(this,_),J&&(this.O?w="headers="+encodeURIComponent(String(hi(J)))+"&"+w:this.m&&Yi(_,this.m,J)),Wl(this.h,q),this.Ua&&at(_,"TYPE","init"),this.P?(at(_,"$req",w),at(_,"SID","null"),q.T=!0,ra(q,_,null)):ra(q,_,w),this.G=2}}else this.G==3&&(h?da(this,h):this.i.length==0||Fn(this.h)||da(this))};function da(h,w){var _;w?_=w.l:_=h.U++;const D=Bn(h.I);at(D,"SID",h.K),at(D,"RID",_),at(D,"AID",h.T),fi(h,D),h.m&&h.o&&Yi(D,h.m,h.o),_=new br(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),w&&(h.i=w.D.concat(h.i)),w=Xi(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Wl(h.h,_),ra(_,D,w)}function fi(h,w){h.H&&G(h.H,function(_,D){at(w,D,_)}),h.l&&Hi({},function(_,D){at(w,D,_)})}function Xi(h,w,_){_=Math.min(h.i.length,_);var D=h.l?y(h.l.Na,h.l,h):null;e:{var q=h.i;let J=-1;for(;;){const ce=["count="+_];J==-1?0<_?(J=q[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let st=!0;for(let Lt=0;Lt<_;Lt++){let Qe=q[Lt].g;const zt=q[Lt].map;if(Qe-=J,0>Qe)J=Math.max(0,q[Lt].g-100),st=!1;else try{Ju(zt,ce,"req"+Qe+"_")}catch{D&&D(zt)}}if(st){D=ce.join("&");break e}}}return h=h.i.splice(0,_),w.D=h,D}function oo(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;ve||ie(),Z||(ve(),Z=!0),ue.add(w,h),h.v=0}}function ha(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=yr(y(h.Fa,h),td(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,ed(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=yr(y(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Ir(this),ed(this))};function Xl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function ed(h){h.g=new br(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Bn(h.qa);at(w,"RID","rpc"),at(w,"SID",h.K),at(w,"AID",h.T),at(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&at(w,"TO",h.ja),at(w,"TYPE","xmlhttp"),fi(h,w),h.m&&h.o&&Yi(w,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=qi(Bn(w)),_.m=null,_.P=!0,$l(_,h)}t.Za=function(){this.C!=null&&(this.C=null,Ir(this),ha(this),_t(19))};function fa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function pa(h,w){var _=null;if(h.g==w){fa(h),Xl(h),h.g=null;var D=2}else if(wn(h.h,w))_=w.D,Wu(h.h,w),D=1;else return;if(h.G!=0){if(w.o)if(D==1){_=w.m?w.m.length:0,w=Date.now()-w.F;var q=h.B;D=Ys(),Ot(D,new Zo(D,_)),$r(h)}else oo(h);else if(q=w.s,q==3||q==0&&0<w.X||!(D==1&&lp(h,w)||D==2&&ha(h)))switch(_&&0<_.length&&(w=h.h,w.i=w.i.concat(_)),q){case 1:pi(h,5);break;case 4:pi(h,10);break;case 3:pi(h,6);break;default:pi(h,2)}}}function td(h,w){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*w}function pi(h,w){if(h.j.info("Error code "+w),w==2){var _=y(h.fb,h),D=h.Xa;const q=!D;D=new ui(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ro(D,"https"),qi(D),q?sp(D.toString(),_):Xu(D.toString(),_)}else _t(2);h.G=0,h.l&&h.l.sa(w),nd(h),ua(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function nd(h){if(h.G=0,h.ka=[],h.l){const w=Gu(h.h);(w.length!=0||h.i.length!=0)&&(I(h.ka,w),I(h.ka,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.ra()}}function rd(h,w,_){var D=_ instanceof ui?Bn(_):new ui(_);if(D.g!="")w&&(D.g=w+"."+D.g),Wi(D,D.s);else{var q=c.location;D=q.protocol,w=w?w+"."+q.hostname:q.hostname,q=+q.port;var J=new ui(null);D&&ro(J,D),w&&(J.g=w),q&&Wi(J,q),_&&(J.l=_),D=J}return _=h.D,w=h.ya,_&&w&&at(D,_,w),at(D,"VER",h.la),fi(h,D),D}function id(h,w,_){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new pt(new di({eb:_})):new pt(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jl(){}t=Jl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ma(){}ma.prototype.g=function(h,w){return new bn(h,w)};function bn(h,w){Mt.call(this),this.g=new Yl(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!P(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Hr(this)}S(bn,Mt),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Zt(this.g)},bn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Ol(h),h=_);w.i.push(new $u(w.Ya++,h)),w.G==3&&$r(w)},bn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,bn.aa.N.call(this)};function sd(h){Vr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const _ in w){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}S(sd,Vr);function od(){Jo.call(this),this.status=1}S(od,Jo);function Hr(h){this.g=h}S(Hr,Jl),Hr.prototype.ua=function(){Ot(this.g,"a")},Hr.prototype.ta=function(h){Ot(this.g,new sd(h))},Hr.prototype.sa=function(h){Ot(this.g,new od)},Hr.prototype.ra=function(){Ot(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,KS=function(){return new ma},qS=function(){return Ys()},GS=Fr,kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,xh=ta,Fu.COMPLETE="complete",WS=Fu,Xo.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,Pc=Xo,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,HS=pt}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const A1="@firebase/firestore",P1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new Rv("@firebase/firestore");function Va(){return Vo.logLevel}function fe(t,...e){if(Vo.logLevel<=We.DEBUG){const n=e.map(zv);Vo.debug(`Firestore (${wl}): ${t}`,...n)}}function Mi(t,...e){if(Vo.logLevel<=We.ERROR){const n=e.map(zv);Vo.error(`Firestore (${wl}): ${t}`,...n)}}function Fo(t,...e){if(Vo.logLevel<=We.WARN){const n=e.map(zv);Vo.warn(`Firestore (${wl}): ${t}`,...n)}}function zv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QS(t,r,n)}function QS(t,e,n){let r=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mi(r),new Error(r)}function rt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||QS(e,i,r)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class J4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z4{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ai,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ai)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new YS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class eM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new eM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new R1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rM(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Dg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ue(r,i);{const o=JS(),l=iM(o.encode(N1(t,n)),o.encode(N1(e,n)));return l!==0?l:Ue(r,i)}}n+=r>65535?2:1}return Ue(t.length,e.length)}function N1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function iM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ue(t[n],e[n]);return Ue(t.length,e.length)}function nl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=-62135596800,D1=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*D1);return new Nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k1)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D1}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Nt(0,0))}static max(){return new Le(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="__name__";class Yr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Yr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Yr.isNumericId(e),i=Yr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Yr.extractNumericId(e).compare(Yr.extractNumericId(n)):Dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class gt extends Yr{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const sM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Yr{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return sM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M1}static keyField(){return new qt([M1])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(gt.fromString(e))}static fromName(e){return new Ie(gt.fromString(e).popFirst(5))}static empty(){return new Ie(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function oM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new Rs(i,Ie.empty(),e)}function aM(t){return new Rs(t.readTime,t.key,eu)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(Le.min(),Ie.empty(),eu)}static max(){return new Rs(Le.max(),Ie.empty(),eu)}}function lM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==cM)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&n()},d=>r(d))}),l=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next(m=>{l[f]=m,++c,c===o&&r(l)},m=>i(m))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function dM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function El(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ef.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=-1;function _f(t){return t==null}function Bh(t){return t===0&&1/t==-1/0}function hM(t){return typeof t=="number"&&Number.isInteger(t)&&!Bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="";function fM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O1(e)),e=pM(t.get(n),e);return O1(e)}function pM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case ZS:n+="";break;default:n+=o}}return n}function O1(t){return t+ZS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=o??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new rn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j1(this.data.getIterator())}getIteratorFrom(e){return new j1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class j1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new Bt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tT("Invalid base64 string: "+o):o}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const mM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=mM.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ks(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="server_timestamp",rT="__type__",iT="__previous_value__",sT="__local_write_time__";function Wv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[rT])===null||n===void 0?void 0:n.stringValue)===nT}function Sf(t){const e=t.mapValue.fields[iT];return Wv(e)?Sf(e):e}function tu(t){const e=Ns(t.mapValue.fields[sT].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,r,i,o,l,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const Uh="(default)";class rl{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="__type__",vM="__max__",ih={mapValue:{}},aT="__vector__",zh="value";function Ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wv(t)?4:xM(t)?9007199254740991:yM(t)?10:11:Me(28295,{value:t})}function ii(t,e){if(t===e)return!0;const n=Ds(t);if(n!==Ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tu(t).isEqual(tu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ns(i.timestampValue),c=Ns(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ks(i.bytesValue).isEqual(ks(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return It(i.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return It(i.integerValue)===It(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=It(i.doubleValue),c=It(o.doubleValue);return l===c?Bh(l)===Bh(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(L1(l)!==L1(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ii(l[d],c[d])))return!1;return!0}(t,e);default:return Me(52216,{left:t})}}function nu(t,e){return(t.values||[]).find(n=>ii(n,e))!==void 0}function il(t,e){if(t===e)return 0;const n=Ds(t),r=Ds(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=It(o.integerValue||o.doubleValue),d=It(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return V1(t.timestampValue,e.timestampValue);case 4:return V1(tu(t),tu(e));case 5:return Dg(t.stringValue,e.stringValue);case 6:return function(o,l){const c=ks(o),d=ks(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Ue(c[f],d[f]);if(m!==0)return m}return Ue(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Ue(It(o.latitude),It(l.latitude));return c!==0?c:Ue(It(o.longitude),It(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F1(t.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,f,m;const g=o.fields||{},y=l.fields||{},E=(c=g[zh])===null||c===void 0?void 0:c.arrayValue,S=(d=y[zh])===null||d===void 0?void 0:d.arrayValue,C=Ue(((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0,((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:F1(E,S)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===ih.mapValue&&l===ih.mapValue)return 0;if(o===ih.mapValue)return 1;if(l===ih.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const y=Dg(d[g],m[g]);if(y!==0)return y;const E=il(c[d[g]],f[m[g]]);if(E!==0)return E}return Ue(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Me(23264,{Pe:n})}}function V1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Ns(t),r=Ns(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function F1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=il(n[i],r[i]);if(o)return o}return Ue(n.length,r.length)}function sl(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ns(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Mg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Mg(n.fields[l])}`;return i+"}"}(t.mapValue):Me(61005,{value:t})}function wh(t){switch(Ds(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sf(t);return e?16+wh(e):16;case 5:return 2*t.stringValue.length;case 6:return ks(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+wh(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return zs(r.fields,(o,l)=>{i+=o.length+wh(l)}),i}(t.mapValue);default:throw Me(13486,{value:t})}}function Og(t){return!!t&&"integerValue"in t}function Gv(t){return!!t&&"arrayValue"in t}function B1(t){return!!t&&"nullValue"in t}function U1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bh(t){return!!t&&"mapValue"in t}function yM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[oT])===null||n===void 0?void 0:n.stringValue)===aT}function jc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=jc(l):i.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ln(jc(this.value))}}function lT(t){const e=[];return zs(t.fields,(n,r)=>{const i=new qt([n]);if(bh(r)){const o=lT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new mn(e,0,Le.min(),Le.min(),Le.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new mn(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new mn(e,2,n,Le.min(),Le.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Le.min(),Le.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.position=e,this.inclusive=n}}function z1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=il(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ii(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function wM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{}class Ft extends cT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EM(e,n,r):n==="array-contains"?new TM(e,r):n==="in"?new IM(e,r):n==="not-in"?new CM(e,r):n==="array-contains-any"?new AM(e,r):new Ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _M(e,r):new SM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(il(n,this.value)):n!==null&&Ds(this.value)===Ds(n)&&this.matchesComparison(il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends cT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new si(e,n)}matches(e){return uT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function uT(t){return t.op==="and"}function dT(t){return bM(t)&&uT(t)}function bM(t){for(const e of t.filters)if(e instanceof si)return!1;return!0}function Lg(t){if(t instanceof Ft)return t.field.canonicalString()+t.op.toString()+sl(t.value);if(dT(t))return t.filters.map(e=>Lg(e)).join(",");{const e=t.filters.map(n=>Lg(n)).join(",");return`${t.op}(${e})`}}function hT(t,e){return t instanceof Ft?function(r,i){return i instanceof Ft&&r.op===i.op&&r.field.isEqual(i.field)&&ii(r.value,i.value)}(t,e):t instanceof si?function(r,i){return i instanceof si&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&hT(l,i.filters[c]),!0):!1}(t,e):void Me(19439)}function fT(t){return t instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`}(t):t instanceof si?function(n){return n.op.toString()+" {"+n.getFilters().map(fT).join(" ,")+"}"}(t):"Filter"}class EM extends Ft{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class _M extends Ft{constructor(e,n){super(e,"in",n),this.keys=pT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SM extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=pT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class TM extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gv(n)&&nu(n.arrayValue,this.value)}}class IM extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class CM extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class AM extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Ie=null}}function H1(t,e=null,n=[],r=[],i=null,o=null,l=null){return new PM(t,e,n,r,i,o,l)}function qv(t){const e=je(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),_f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sl(r)).join(",")),e.Ie=n}return e.Ie}function Kv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$1(t.startAt,e.startAt)&&$1(t.endAt,e.endAt)}function jg(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function RM(t,e,n,r,i,o,l,c){return new Tf(t,e,n,r,i,o,l,c)}function Qv(t){return new Tf(t)}function W1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NM(t){return t.collectionGroup!==null}function Vc(t){const e=je(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Bt(qt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Hh(o,r))}),n.has(qt.keyField().canonicalString())||e.Ee.push(new Hh(qt.keyField(),r))}return e.Ee}function Zr(t){const e=je(t);return e.de||(e.de=kM(e,Vc(t))),e.de}function kM(t,e){if(t.limitType==="F")return H1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Hh(i.field,o)});const n=t.endAt?new $h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $h(t.startAt.position,t.startAt.inclusive):null;return H1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vg(t,e,n){return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function If(t,e){return Kv(Zr(t),Zr(e))&&t.limitType===e.limitType}function mT(t){return`${qv(Zr(t))}|lt:${t.limitType}`}function Fa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>fT(i)).join(", ")}]`),_f(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>sl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>sl(i)).join(",")),`Target(${r})`}(Zr(t))}; limitType=${t.limitType})`}function Cf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Vc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const f=z1(l,c,d);return l.inclusive?f<=0:f<0}(r.startAt,Vc(r),i)||r.endAt&&!function(l,c,d){const f=z1(l,c,d);return l.inclusive?f>=0:f>0}(r.endAt,Vc(r),i))}(t,e)}function DM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gT(t){return(e,n)=>{let r=!1;for(const i of Vc(t)){const o=MM(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function MM(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(o,l,c){const d=l.data.field(o),f=c.data.field(o);return d!==null&&f!==null?il(d,f):Me(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new wt(Ie.comparator);function Oi(){return OM}const vT=new wt(Ie.comparator);function Rc(...t){let e=vT;for(const n of t)e=e.insert(n.key,n);return e}function yT(t){let e=vT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Po(){return Fc()}function xT(){return Fc()}function Fc(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const LM=new wt(Ie.comparator),jM=new Bt(Ie.comparator);function Ge(...t){let e=jM;for(const n of t)e=e.add(n);return e}const VM=new Bt(Ue);function FM(){return VM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function wT(t){return{integerValue:""+t}}function BM(t,e){return hM(e)?wT(e):Yv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function UM(t,e,n){return t instanceof Wh?function(i,o){const l={fields:{[rT]:{stringValue:nT},[sT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Wv(o)&&(o=Sf(o)),o&&(l.fields[iT]=o),{mapValue:l}}(n,e):t instanceof ru?ET(t,e):t instanceof iu?_T(t,e):function(i,o){const l=bT(i,o),c=G1(l)+G1(i.Re);return Og(l)&&Og(i.Re)?wT(c):Yv(i.serializer,c)}(t,e)}function zM(t,e,n){return t instanceof ru?ET(t,e):t instanceof iu?_T(t,e):n}function bT(t,e){return t instanceof Gh?function(r){return Og(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Wh extends Af{}class ru extends Af{constructor(e){super(),this.elements=e}}function ET(t,e){const n=ST(e);for(const r of t.elements)n.some(i=>ii(i,r))||n.push(r);return{arrayValue:{values:n}}}class iu extends Af{constructor(e){super(),this.elements=e}}function _T(t,e){let n=ST(e);for(const r of t.elements)n=n.filter(i=>!ii(i,r));return{arrayValue:{values:n}}}class Gh extends Af{constructor(e,n){super(),this.serializer=e,this.Re=n}}function G1(t){return It(t.integerValue||t.doubleValue)}function ST(t){return Gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $M(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ru&&i instanceof ru||r instanceof iu&&i instanceof iu?nl(r.elements,i.elements,ii):r instanceof Gh&&i instanceof Gh?ii(r.Re,i.Re):r instanceof Wh&&i instanceof Wh}(t.transform,e.transform)}class HM{constructor(e,n){this.version=e,this.transformResults=n}}class ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pf{}function TT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new CT(t.key,ei.none()):new _u(t.key,t.data,ei.none());{const n=t.data,r=Ln.empty();let i=new Bt(qt.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new $s(t.key,r,new Kn(i.toArray()),ei.none())}}function WM(t,e,n){t instanceof _u?function(i,o,l){const c=i.value.clone(),d=K1(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof $s?function(i,o,l){if(!Eh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=K1(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(IT(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Bc(t,e,n,r){return t instanceof _u?function(o,l,c,d){if(!Eh(o.precondition,l))return c;const f=o.value.clone(),m=Q1(o.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof $s?function(o,l,c,d){if(!Eh(o.precondition,l))return c;const f=Q1(o.fieldTransforms,d,l),m=l.data;return m.setAll(IT(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,l,c){return Eh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function GM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=bT(r.transform,i||null);o!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,o))}return n||null}function q1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nl(r,i,(o,l)=>$M(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends Pf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends Pf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function IT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function K1(t,e,n){const r=new Map;rt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,zM(l,c,n[i]))}return r}function Q1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,UM(o,l,e))}return r}class CT extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qM extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&WM(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xT();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const d=TT(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(n,r)=>q1(n,r))&&nl(this.baseMutations,e.baseMutations,(n,r)=>q1(n,r))}}class Xv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return LM}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Xv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ye;function XM(t){switch(t){case re.OK:return Me(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function AT(t){if(t===void 0)return Mi("GRPC error has no .code"),re.UNKNOWN;switch(t){case Rt.OK:return re.OK;case Rt.CANCELLED:return re.CANCELLED;case Rt.UNKNOWN:return re.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return re.INTERNAL;case Rt.UNAVAILABLE:return re.UNAVAILABLE;case Rt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Rt.NOT_FOUND:return re.NOT_FOUND;case Rt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Rt.ABORTED:return re.ABORTED;case Rt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Rt.DATA_LOSS:return re.DATA_LOSS;default:return Me(39323,{code:t})}}(Ye=Rt||(Rt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new Is([4294967295,4294967295],0);function Y1(t){const e=JS().encode(t),n=new $S;return n.update(e),new Uint8Array(n.digest())}function X1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Is([n,r],0),new Is([i,o],0)]}class Jv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(r<0)throw new Nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Is.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Is.fromNumber(r)));return i.compare(JM)===1&&(i=new Is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Y1(e),[r,i]=X1(n);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);if(!this.be(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Jv(o,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const n=Y1(e),[r,i]=X1(n);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rf(Le.min(),i,new wt(Ue),Oi(),Ge())}}class Su{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Su(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class PT{constructor(e,n){this.targetId=e,this.Ce=n}}class RT{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class J1{constructor(){this.Fe=0,this.Me=Z1(),this.xe=Yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ge(),n=Ge(),r=Ge();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:o})}}),new Su(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Z1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ZM{constructor(e){this.ze=e,this.je=new Map,this.He=Oi(),this.Je=sh(),this.Ye=sh(),this.Ze=new wt(Ue)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(jg(o))if(r===0){const l=new Ie(o.path);this.tt(n,l,mn.newNoDocument(l,Le.min()))}else rt(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const c=this.ct(e),d=c?this.lt(c,e,l):1;if(d!==0){this.st(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=ks(r).toUint8Array()}catch(d){if(d instanceof tT)return Fo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Jv(l,i,o)}catch(d){return Fo(d instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,l)=>{const c=this._t(l);if(c){if(o.current&&jg(c.target)){const d=new Ie(c.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,mn.newNoDocument(d,e))}o.Le&&(n.set(l,o.qe()),o.Qe())}});let r=Ge();this.Ye.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const f=this._t(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const i=new Rf(e,n,this.Ze,this.He,r);return this.He=Oi(),this.Je=sh(),this.Ye=sh(),this.Ze=new wt(Ue),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new J1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Bt(Ue),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Bt(Ue),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new J1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function sh(){return new wt(Ie.comparator)}function Z1(){return new wt(Ie.comparator)}const eO={asc:"ASCENDING",desc:"DESCENDING"},tO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nO={and:"AND",or:"OR"};class rO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fg(t,e){return t.useProto3Json||_f(e)?e:{value:e}}function qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iO(t,e){return qh(t,e.toTimestamp())}function ti(t){return rt(!!t,49232),Le.fromTimestamp(function(n){const r=Ns(n);return new Nt(r.seconds,r.nanos)}(t))}function Zv(t,e){return Bg(t,e).canonicalString()}function Bg(t,e){const n=function(i){return new gt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kT(t){const e=gt.fromString(t);return rt(jT(e),10190,{key:e.toString()}),e}function Ug(t,e){return Zv(t.databaseId,e.path)}function Um(t,e){const n=kT(e);if(n.get(1)!==t.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(MT(n))}function DT(t,e){return Zv(t.databaseId,e)}function sO(t){const e=kT(t);return e.length===4?gt.emptyPath():MT(e)}function zg(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MT(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eb(t,e,n){return{name:Ug(t,e),fields:n.value.mapValue.fields}}function oO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(rt(m===void 0||typeof m=="string",58123),Yt.fromBase64String(m||"")):(rt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Yt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const m=f.code===void 0?re.UNKNOWN:AT(f.code);return new we(m,f.message||"")}(l);n=new RT(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Um(t,r.document.name),o=ti(r.document.updateTime),l=r.document.createTime?ti(r.document.createTime):Le.min(),c=new Ln({mapValue:{fields:r.document.fields}}),d=mn.newFoundDocument(i,o,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new _h(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Um(t,r.document),o=r.readTime?ti(r.readTime):Le.min(),l=mn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new _h([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Um(t,r.document),o=r.removedTargetIds||[];n=new _h([],o,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new YM(i,o),c=r.targetId;n=new PT(c,l)}}return n}function aO(t,e){let n;if(e instanceof _u)n={update:eb(t,e.key,e.value)};else if(e instanceof CT)n={delete:Ug(t,e.key)};else if(e instanceof $s)n={update:eb(t,e.key,e.data),updateMask:gO(e.fieldMask)};else{if(!(e instanceof qM))return Me(16599,{ft:e.type});n={verify:Ug(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof Wh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ru)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof iu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gh)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Me(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:iO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me(27497)}(t,e.precondition)),n}function lO(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map(n=>function(i,o){let l=i.updateTime?ti(i.updateTime):ti(o);return l.isEqual(Le.min())&&(l=ti(o)),new HM(l,i.transformResults||[])}(n,e))):[]}function cO(t,e){return{documents:[DT(t,e.path)]}}function uO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DT(t,i);const o=function(f){if(f.length!==0)return LT(si.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(y){return{field:Ba(y.field),direction:fO(y.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Fg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:n,parent:i}}function dO(t){let e=sO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(g){const y=OT(g);return y instanceof si&&dT(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(y=>function(S){return new Hh(Ua(S.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,_f(y)?null:y}(n.limit));let d=null;n.startAt&&(d=function(g){const y=!!g.before,E=g.values||[];return new $h(E,y)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const y=!g.before,E=g.values||[];return new $h(E,y)}(n.endAt)),RM(e,i,l,o,c,"F",d,f)}function hO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ua(n.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ua(n.unaryFilter.field);return Ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ua(n.unaryFilter.field);return Ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ua(n.unaryFilter.field);return Ft.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ft.create(Ua(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return si.create(n.compositeFilter.filters.map(r=>OT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(n.compositeFilter.op))}(t):Me(30097,{filter:t})}function fO(t){return eO[t]}function pO(t){return tO[t]}function mO(t){return nO[t]}function Ba(t){return{fieldPath:t.canonicalString()}}function Ua(t){return qt.fromServerFormat(t.fieldPath)}function LT(t){return t instanceof Ft?function(n){if(n.op==="=="){if(U1(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(B1(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U1(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(B1(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:pO(n.op),value:n.value}}}(t):t instanceof si?function(n){const r=n.getFilters().map(i=>LT(i));return r.length===1?r[0]:{compositeFilter:{op:mO(n.op),filters:r}}}(t):Me(54877,{filter:t})}function gO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,r,i,o=Le.min(),l=Le.min(),c=Yt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.wt=e}}function yO(t){const e=dO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Cn=new wO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Rs.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class wO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(gt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(VT,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ol(0)}static lr(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="LruGarbageCollector",bO=1048576;function rb([t,e],[n,r]){const i=Ue(t,n);return i===0?Ue(e,r):i}class EO{constructor(e){this.Er=e,this.buffer=new Bt(rb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _O{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(nb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){El(n)?fe(nb,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.mr(3e5)})}}class SO{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Ef.le);const r=new EO(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(tb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tb):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,l,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),Va()<=We.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function TO(t,e){return new SO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bc(r.mutation,i,Kn.empty(),Nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){const i=Po();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=Rc();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let o=Oi();const l=Fc(),c=function(){return Fc()}();return n.forEach((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof $s)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Bc(m.mutation,f,m.mutation.getFieldMask(),Nt.now())):l.set(f.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>{var g;return c.set(f,new CO(m,(g=l.get(f))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Fc();let i=new wt((l,c)=>l-c),o=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||Kn.empty();m=c.applyToLocalView(f,m),r.set(d,m);const g=(i.get(c.batchId)||Ge()).add(d);i=i.insert(c.batchId,g)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,g=xT();m.forEach(y=>{if(!o.has(y)){const E=TT(n.get(y),r.get(y));E!==null&&g.set(y,E),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(Po());let c=eu,d=o;return l.next(f=>ee.forEach(f,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(m)?ee.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{d=d.insert(m,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Ge())).next(m=>({batchId:c,changes:yT(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Rc();return this.indexManager.getCollectionParents(e,o).next(c=>ee.forEach(c,d=>{const f=function(g,y){return new Tf(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((g,y)=>{l=l.insert(g,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,mn.newInvalidDocument(m)))});let c=Rc();return l.forEach((d,f)=>{const m=o.get(d);m!==void 0&&Bc(m.mutation,f,Kn.empty(),Nt.now()),Cf(n,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ti(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:yO(i.bundledQuery),readTime:ti(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.overlays=new wt(Ie.comparator),this.Qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Po();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=Po(),o=n.length+1,l=new Ie(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new wt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=Po(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Po(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=i)););return ee.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new QM(n,r));let o=this.Qr.get(n);o===void 0&&(o=Ge(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.$r=new Bt(Gt.Ur),this.Kr=new Bt(Gt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Gt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ie(new gt([])),r=new Gt(n,e),i=new Gt(n,e+1),o=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),o.push(l.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ie(new gt([])),r=new Gt(n,e),i=new Gt(n,e+1);let o=Ge();return this.Kr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Gt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ie.comparator(e.key,n.key)||Ue(e.Zr,n.Zr)}static Wr(e,n){return Ue(e.Zr,n.Zr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Bt(Gt.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new KM(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Xr=this.Xr.add(new Gt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,n){return ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Hv:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),i=new Gt(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],l=>{const c=this.ei(l.Zr);o.push(c)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Ue);return n.forEach(i=>{const o=new Gt(i,0),l=new Gt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],c=>{r=r.add(c.Zr)})}),ee.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ie.isDocumentKey(o)||(o=o.child(""));const l=new Gt(new Ie(o),0);let c=new Bt(Ue);return this.Xr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Zr)),!0)},l),ee.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ee.forEach(n.mutations,i=>{const o=new Gt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Gt(n,0),i=this.Xr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.ii=e,this.docs=function(){return new wt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=Oi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Oi();const l=n.path,c=new Ie(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||lM(aM(m),r)<=0||(i.has(m.key)||Cf(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Me(9500)}si(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new MO(this)}getSize(e){return ee.resolve(this.size)}}class MO extends IO{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.persistence=e,this.oi=new Wo(n=>qv(n),Kv),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this._i=0,this.ai=new ey,this.targetCount=0,this.ui=ol.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new ol(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Tr(n),ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.ci={},this.overlays={},this.li=new Ef(0),this.hi=!1,this.hi=!0,this.Pi=new NO,this.referenceDelegate=e(this),this.Ti=new OO(this),this.indexManager=new xO,this.remoteDocumentCache=function(i){return new DO(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new vO(n),this.Ei=new PO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new kO(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new LO(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return ee.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class LO extends uM{constructor(e){super(),this.currentSequenceNumber=e}}class ty{constructor(e){this.persistence=e,this.Vi=new ey,this.mi=null}static fi(e){return new ty(e)}get gi(){if(this.mi)return this.mi;throw Me(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,r=>{const i=Ie.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,Le.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ee.or([()=>ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.yi=new Wo(r=>fM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=TO(this,n)}static fi(e,n){return new Kh(e,n)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ee.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?ee.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,n).next(c=>{c||(r++,o.removeEntry(l,Le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wh(e.data.value)),n}Dr(e,n,r){return ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Ge(),i=Ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ny(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return yN()?8:dM(yn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new jO;return this.Ss(e,n,l).next(c=>{if(o.result=c,this.fs)return this.Ds(e,n,l,c.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Va()<=We.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(Va()<=We.DEBUG&&fe("QueryEngine","Query:",Fa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Va()<=We.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):ee.resolve())}ws(e,n){if(W1(n))return ee.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vg(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Ge(...o);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.vs(n,c);return this.Cs(n,f,l,d.readTime)?this.ws(e,Vg(n,null,"F")):this.Fs(e,f,n,d)}))})))}bs(e,n,r,i){return W1(n)||i.isEqual(Le.min())?ee.resolve(null):this.ys.getDocuments(e,r).next(o=>{const l=this.vs(n,o);return this.Cs(n,l,r,i)?ee.resolve(null):(Va()<=We.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fa(n)),this.Fs(e,l,n,oM(i,eu)).next(c=>c))})}vs(e,n){let r=new Bt(gT(e));return n.forEach((i,o)=>{Cf(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Va()<=We.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ys.getDocumentsMatchingQuery(e,n,Rs.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="LocalStore",FO=3e8;class BO{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new wt(Ue),this.Os=new Wo(o=>qv(o),Kv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function UO(t,e,n,r){return new BO(t,e,n,r)}async function BT(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=Ge();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(f=>({ks:f,removedBatchIds:l,addedBatchIds:c}))})})}function zO(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const g=f.batch,y=g.keys();let E=ee.resolve();return y.forEach(S=>{E=E.next(()=>m.getEntry(d,S)).next(C=>{const I=f.docVersions.get(S);rt(I!==null,48541),C.version.compareTo(I)<0&&(g.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),m.addEntry(C)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Ge();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function UT(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function $O(t,e){const n=je(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const c=[];e.targetChanges.forEach((m,g)=>{const y=i.get(g);if(!y)return;c.push(n.Ti.removeMatchingKeys(o,m.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(o,m.addedDocuments,g)));let E=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Yt.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(g,E),function(C,I,L){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=FO?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(y,E,m)&&c.push(n.Ti.updateTargetData(o,E))});let d=Oi(),f=Ge();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(HO(o,l,e.documentUpdates).next(m=>{d=m.qs,f=m.Qs})),!r.isEqual(Le.min())){const m=n.Ti.getLastRemoteSnapshotVersion(o).next(g=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return ee.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(n.xs=i,o))}function HO(t,e,n){let r=Ge(),i=Ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=Oi();return n.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Le.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):fe(ry,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{qs:l,Qs:i}})}function WO(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Hv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GO(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.Ti.allocateTargetId(r).next(l=>(i=new bs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function $g(t,e,n){const r=je(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!El(l))throw l;fe(ry,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function ib(t,e,n){const r=je(t);let i=Le.min(),o=Ge();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const g=je(d),y=g.Os.get(m);return y!==void 0?ee.resolve(g.xs.get(y)):g.Ti.getTargetData(f,m)}(r,l,Zr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,n?i:Le.min(),n?o:Ge())).next(c=>(qO(r,DM(e),c),{documents:c,$s:o})))}function qO(t,e,n){let r=t.Ns.get(e)||Le.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class sb{constructor(){this.activeTargetIds=FM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KO{constructor(){this.xo=new sb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new sb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="ConnectivityMonitor";class ab{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(ob,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(ob,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function Hg(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="RestConnection",YO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Uh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const l=Hg(),c=this.jo(e,n.toUriEncodedString());fe(zm,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,i,o);const{host:f}=new URL(c),m=vl(f);return this.Jo(e,c,d,r,m).then(g=>(fe(zm,`Received RPC '${e}' ${l}: `,g),g),g=>{throw Fo(zm,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g})}Yo(e,n,r,i,o,l){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const r=YO[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class ZO extends XO{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=Hg();return new Promise((c,d)=>{const f=new HS;f.setWithCredentials(!0),f.listenOnce(WS.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case xh.NO_ERROR:const g=f.getResponseJson();fe(dn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case xh.TIMEOUT:fe(dn,`RPC '${e}' ${l} timed out`),d(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const y=f.getStatus();if(fe(dn,`RPC '${e}' ${l} failed with status:`,y,"response text:",f.getResponseText()),y>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const C=function(L){const P=L.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(P)>=0?P:re.UNKNOWN}(S.status);d(new we(C,S.message))}else d(new we(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new we(re.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{h_:e,streamId:l,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{fe(dn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);fe(dn,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)})}I_(e,n,r){const i=Hg(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=KS(),c=qS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=o.join("");fe(dn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);this.E_(g);let y=!1,E=!1;const S=new JO({Zo:I=>{E?fe(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(y||(fe(dn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),fe(dn,`RPC '${e}' stream ${i} sending:`,I),g.send(I))},Xo:()=>g.close()}),C=(I,L,P)=>{I.listen(L,M=>{try{P(M)}catch(z){setTimeout(()=>{throw z},0)}})};return C(g,Pc.EventType.OPEN,()=>{E||(fe(dn,`RPC '${e}' stream ${i} transport opened.`),S.__())}),C(g,Pc.EventType.CLOSE,()=>{E||(E=!0,fe(dn,`RPC '${e}' stream ${i} transport closed`),S.u_(),this.d_(g))}),C(g,Pc.EventType.ERROR,I=>{E||(E=!0,Fo(dn,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),S.u_(new we(re.UNAVAILABLE,"The operation could not be completed")))}),C(g,Pc.EventType.MESSAGE,I=>{var L;if(!E){const P=I.data[0];rt(!!P,16349);const M=P,z=(M==null?void 0:M.error)||((L=M[0])===null||L===void 0?void 0:L.error);if(z){fe(dn,`RPC '${e}' stream ${i} received error:`,z);const V=z.status;let G=function(k){const j=Rt[k];if(j!==void 0)return AT(j)}(V),R=z.message;G===void 0&&(G=re.INTERNAL,R="Unknown error status: "+V+" with message "+z.message),E=!0,S.u_(new we(G,R)),g.close()}else fe(dn,`RPC '${e}' stream ${i} received:`,P),S.c_(P)}}),C(c,GS.STAT_EVENT,I=>{I.stat===kg.PROXY?fe(dn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===kg.NOPROXY&&fe(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){return new rO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="PersistentStream";class $T{constructor(e,n,r,i,o,l,c,d){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new zT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new we(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(lb,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(fe(lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e3 extends $T{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=oO(this.serializer,e),r=function(o){if(!("targetChange"in o))return Le.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?ti(l.readTime):Le.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=zg(this.serializer),n.addTarget=function(o,l){let c;const d=l.target;if(c=jg(d)?{documents:cO(o,d)}:{query:uO(o,d).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=NT(o,l.resumeToken);const f=Fg(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Le.min())>0){c.readTime=qh(o,l.snapshotVersion.toTimestamp());const f=Fg(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=hO(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=zg(this.serializer),n.removeTarget=e,this.Q_(n)}}class t3 extends $T{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=lO(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=zg(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aO(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{}class r3 extends n3{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.zo(e,Bg(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(re.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,Bg(n,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(re.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class i3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Mi(n),this.ua=!1):fe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="RemoteStore";class s3{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(l=>{r.enqueueAndForget(async()=>{Go(this)&&(fe(Bo,"Restarting streams for network reachability change."),await async function(d){const f=je(d);f.da.add(4),await Tu(f),f.Va.set("Unknown"),f.da.delete(4),await kf(f)}(this))})}),this.Va=new i3(r,i)}}async function kf(t){if(Go(t))for(const e of t.Aa)await e(!0)}async function Tu(t){for(const e of t.Aa)await e(!1)}function HT(t,e){const n=je(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),ay(n)?oy(n):_l(n).N_()&&sy(n,e))}function iy(t,e){const n=je(t),r=_l(n);n.Ea.delete(e),r.N_()&&WT(n,e),n.Ea.size===0&&(r.N_()?r.k_():Go(n)&&n.Va.set("Unknown"))}function sy(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).Z_(e)}function WT(t,e){t.ma.Ke(e),_l(t).X_(e)}function oy(t){t.ma=new ZM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Va.ca()}function ay(t){return Go(t)&&!_l(t).O_()&&t.Ea.size>0}function Go(t){return je(t).da.size===0}function GT(t){t.ma=void 0}async function o3(t){t.Va.set("Online")}async function a3(t){t.Ea.forEach((e,n)=>{sy(t,e)})}async function l3(t,e){GT(t),ay(t)?(t.Va.Pa(e),oy(t)):t.Va.set("Unknown")}async function c3(t,e,n){if(t.Va.set("Online"),e instanceof RT&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ea.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ea.delete(c),i.ma.removeTarget(c))}(t,e)}catch(r){fe(Bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qh(t,r)}else if(e instanceof _h?t.ma.Xe(e):e instanceof PT?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Le.min()))try{const r=await UT(t.localStore);n.compareTo(r)>=0&&await function(o,l){const c=o.ma.It(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ea.get(f);m&&o.Ea.set(f,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const m=o.Ea.get(d);if(!m)return;o.Ea.set(d,m.withResumeToken(Yt.EMPTY_BYTE_STRING,m.snapshotVersion)),WT(o,d);const g=new bs(m.target,d,f,m.sequenceNumber);sy(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){fe(Bo,"Failed to raise snapshot:",r),await Qh(t,r)}}async function Qh(t,e,n){if(!El(e))throw e;t.da.add(1),await Tu(t),t.Va.set("Offline"),n||(n=()=>UT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Bo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await kf(t)})}function qT(t,e){return e().catch(n=>Qh(t,n,e))}async function Df(t){const e=je(t),n=Ms(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Hv;for(;u3(e);)try{const i=await WO(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,d3(e,i)}catch(i){await Qh(e,i)}KT(e)&&QT(e)}function u3(t){return Go(t)&&t.Ia.length<10}function d3(t,e){t.Ia.push(e);const n=Ms(t);n.N_()&&n.ea&&n.ta(e.mutations)}function KT(t){return Go(t)&&!Ms(t).O_()&&t.Ia.length>0}function QT(t){Ms(t).start()}async function h3(t){Ms(t).ia()}async function f3(t){const e=Ms(t);for(const n of t.Ia)e.ta(n.mutations)}async function p3(t,e,n){const r=t.Ia.shift(),i=Xv.from(r,e,n);await qT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Df(t)}async function m3(t,e){e&&Ms(t).ea&&await async function(r,i){if(function(l){return XM(l)&&l!==re.ABORTED}(i.code)){const o=r.Ia.shift();Ms(r).L_(),await qT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Df(r)}}(t,e),KT(t)&&QT(t)}async function cb(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),fe(Bo,"RemoteStore received new credentials");const r=Go(n);n.da.add(3),await Tu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await kf(n)}async function g3(t,e){const n=je(t);e?(n.da.delete(2),await kf(n)):e||(n.da.add(2),await Tu(n),n.Va.set("Unknown"))}function _l(t){return t.fa||(t.fa=function(n,r,i){const o=je(n);return o.oa(),new e3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:o3.bind(null,t),n_:a3.bind(null,t),i_:l3.bind(null,t),Y_:c3.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),ay(t)?oy(t):t.Va.set("Unknown")):(await t.fa.stop(),GT(t))})),t.fa}function Ms(t){return t.ga||(t.ga=function(n,r,i){const o=je(n);return o.oa(),new t3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:h3.bind(null,t),i_:m3.bind(null,t),na:f3.bind(null,t),ra:p3.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Df(t)):(await t.ga.stop(),t.Ia.length>0&&(fe(Bo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new ly(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),El(t))return new we(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Rc(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.pa=new wt(Ie.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class al{constructor(e,n,r,i,o,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new al(e,n,Za.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class y3{constructor(){this.queries=db(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=je(n),o=i.queries;i.queries=db(),o.forEach((l,c)=>{for(const d of c.Sa)d.onError(r)})})(this,new we(re.ABORTED,"Firestore shutting down"))}}function db(){return new Wo(t=>mT(t),If)}async function YT(t,e){const n=je(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new v3,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(i,!0);break;case 1:o.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=cy(l,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&uy(n)}async function XT(t,e){const n=je(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function x3(t,e){const n=je(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Ma(i)&&(r=!0);l.ba=i}}r&&uy(n)}function w3(t,e,n){const r=je(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function uy(t){t.Ca.forEach(e=>{e.next()})}var Wg,hb;(hb=Wg||(Wg={})).xa="default",hb.Cache="cache";class JT{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.key=e}}class eI{constructor(e){this.key=e}}class b3{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.Za=gT(e),this.Xa=new Za(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new ub,i=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const y=i.get(m),E=Cf(this.query,g)?g:null,S=!!y&&this.mutatedKeys.has(y.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;y&&E?y.data.isEqual(E.data)?S!==C&&(r.track({type:3,doc:E}),I=!0):this.ru(y,E)||(r.track({type:2,doc:E}),I=!0,(d&&this.Za(E,d)>0||f&&this.Za(E,f)<0)&&(c=!0)):!y&&E?(r.track({type:0,doc:E}),I=!0):y&&!E&&(r.track({type:1,doc:y}),I=!0,(d||f)&&(c=!0)),I&&(E?(l=l.add(E),o=C?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:c,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,g)=>function(E,S){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:I})}};return C(E)-C(S)}(m.type,g.type)||this.Za(m.doc,g.doc)),this.iu(r),i=i!=null&&i;const c=n&&!i?this.su():[],d=this.Ya.size===0&&this.current&&!i?1:0,f=d!==this.Ja;return this.Ja=d,l.length!==0||f?{snapshot:new al(this.query,e.Xa,o,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new ub,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new eI(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new ZT(r))}),n}au(e){this.Ha=e.$s,this.Ya=Ge();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return al.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const dy="SyncEngine";class E3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _3{constructor(e){this.key=e,this.cu=!1}}class S3{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new Wo(c=>mT(c),If),this.Pu=new Map,this.Tu=new Set,this.Iu=new wt(Ie.comparator),this.Eu=new Map,this.du=new ey,this.Au={},this.Ru=new Map,this.Vu=ol.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function T3(t,e,n=!0){const r=oI(t);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await tI(r,e,n,!0),i}async function I3(t,e){const n=oI(t);await tI(n,e,!0,!1)}async function tI(t,e,n,r){const i=await GO(t.localStore,Zr(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await C3(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&HT(t.remoteStore,i),c}async function C3(t,e,n,r,i){t.fu=(g,y,E)=>async function(C,I,L,P){let M=I.view.tu(L);M.Cs&&(M=await ib(C.localStore,I.query,!1).then(({documents:R})=>I.view.tu(R,M)));const z=P&&P.targetChanges.get(I.targetId),V=P&&P.targetMismatches.get(I.targetId)!=null,G=I.view.applyChanges(M,C.isPrimaryClient,z,V);return pb(C,I.targetId,G.ou),G.snapshot}(t,g,y,E);const o=await ib(t.localStore,e,!0),l=new b3(e,o.$s),c=l.tu(o.documents),d=Su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);pb(t,n,f.ou);const m=new E3(e,n,l);return t.hu.set(e,m),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),f.snapshot}async function A3(t,e,n){const r=je(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(l=>!If(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $g(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iy(r.remoteStore,i.targetId),Gg(r,i.targetId)}).catch(bl)):(Gg(r,i.targetId),await $g(r.localStore,i.targetId,!0))}async function P3(t,e){const n=je(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iy(n.remoteStore,r.targetId))}async function R3(t,e,n){const r=j3(t);try{const i=await function(l,c){const d=je(l),f=Nt.now(),m=c.reduce((E,S)=>E.add(S.key),Ge());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=Oi(),C=Ge();return d.Bs.getEntries(E,m).next(I=>{S=I,S.forEach((L,P)=>{P.isValidDocument()||(C=C.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,S)).next(I=>{g=I;const L=[];for(const P of c){const M=GM(P,g.get(P.key).overlayedDocument);M!=null&&L.push(new $s(P.key,M,lT(M.value.mapValue),ei.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,L,c)}).next(I=>{y=I;const L=I.applyToLocalDocumentSet(g,C);return d.documentOverlayCache.saveOverlays(E,I.batchId,L)})}).then(()=>({batchId:y.batchId,changes:yT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let f=l.Au[l.currentUser.toKey()];f||(f=new wt(Ue)),f=f.insert(c,d),l.Au[l.currentUser.toKey()]=f}(r,i.batchId,n),await Iu(r,i.changes),await Df(r.remoteStore)}catch(i){const o=cy(i,"Failed to persist write");n.reject(o)}}async function nI(t,e){const n=je(t);try{const r=await $O(n.localStore,e);e.targetChanges.forEach((i,o)=>{const l=n.Eu.get(o);l&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?rt(l.cu,14607):i.removedDocuments.size>0&&(rt(l.cu,42227),l.cu=!1))}),await Iu(n,r,e)}catch(r){await bl(r)}}function fb(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((o,l)=>{const c=l.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=je(l);d.onlineState=c;let f=!1;d.queries.forEach((m,g)=>{for(const y of g.Sa)y.Fa(c)&&(f=!0)}),f&&uy(d)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N3(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new wt(Ie.comparator);l=l.insert(o,mn.newNoDocument(o,Le.min()));const c=Ge().add(o),d=new Rf(Le.min(),new Map,new wt(Ue),l,c);await nI(r,d),r.Iu=r.Iu.remove(o),r.Eu.delete(e),hy(r)}else await $g(r.localStore,e,!1).then(()=>Gg(r,e,n)).catch(bl)}async function k3(t,e){const n=je(t),r=e.batch.batchId;try{const i=await zO(n.localStore,e);iI(n,r,null),rI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(n,i)}catch(i){await bl(i)}}async function D3(t,e,n){const r=je(t);try{const i=await function(l,c){const d=je(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(g=>(rt(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(f,g))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);iI(r,e,n),rI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Iu(r,i)}catch(i){await bl(i)}}function rI(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function iI(t,e,n){const r=je(t);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Gg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||sI(t,r)})}function sI(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(iy(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),hy(t))}function pb(t,e,n){for(const r of n)r instanceof ZT?(t.du.addReference(r.key,e),M3(t,r)):r instanceof eI?(fe(dy,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||sI(t,r.key)):Me(19791,{pu:r})}function M3(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(fe(dy,"New document in limbo: "+n),t.Tu.add(r),hy(t))}function hy(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ie(gt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new _3(n)),t.Iu=t.Iu.insert(n,r),HT(t.remoteStore,new bs(Zr(Qv(n.path)),r,"TargetPurposeLimboResolution",Ef.le))}}async function Iu(t,e,n){const r=je(t),i=[],o=[],l=[];r.hu.isEmpty()||(r.hu.forEach((c,d)=>{l.push(r.fu(d,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=ny.Rs(d.targetId,f);o.push(g)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(d,f){const m=je(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ee.forEach(f,y=>ee.forEach(y.ds,E=>m.persistence.referenceDelegate.addReference(g,y.targetId,E)).next(()=>ee.forEach(y.As,E=>m.persistence.referenceDelegate.removeReference(g,y.targetId,E)))))}catch(g){if(!El(g))throw g;fe(ry,"Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const E=m.xs.get(y),S=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(S);m.xs=m.xs.insert(y,C)}}}(r.localStore,o))}async function O3(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){fe(dy,"User change. New user:",e.toKey());const r=await BT(n.localStore,e);n.currentUser=e,function(o,l){o.Ru.forEach(c=>{c.forEach(d=>{d.reject(new we(re.CANCELLED,l))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(n,r.ks)}}function L3(t,e){const n=je(t),r=n.Eu.get(e);if(r&&r.cu)return Ge().add(r.key);{let i=Ge();const o=n.Pu.get(e);if(!o)return i;for(const l of o){const c=n.hu.get(l);i=i.unionWith(c.view.eu)}return i}}function oI(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N3.bind(null,e),e.lu.Y_=x3.bind(null,e.eventManager),e.lu.gu=w3.bind(null,e.eventManager),e}function j3(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D3.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return UO(this.persistence,new VO,e.initialUser,this.serializer)}Su(e){return new FT(ty.fi,this.serializer)}bu(e){return new KO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class V3 extends Yh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){rt(this.persistence.referenceDelegate instanceof Kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _O(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new FT(r=>Kh.fi(r,n),this.serializer)}}class qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O3.bind(null,this.syncEngine),await g3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y3}()}createDatastore(e){const n=Nf(e.databaseInfo.databaseId),r=function(o){return new ZO(o)}(e.databaseInfo);return function(o,l,c,d){return new r3(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,c){return new s3(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>fb(this.syncEngine,n,0),function(){return ab.C()?new ab:new QO}())}createSyncEngine(e,n){return function(i,o,l,c,d,f,m){const g=new S3(i,o,l,c,d,f);return m&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=je(i);fe(Bo,"RemoteStore shutting down."),o.da.add(5),await Tu(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qg.provider={build:()=>new qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="FirestoreClient";class F3{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=$v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{fe(Os,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(fe(Os,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hm(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Os,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await B3(t);fe(Os,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cb(e.remoteStore,i)),t._onlineComponents=e}async function B3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Os,"Using user provided OfflineComponentProvider");try{await Hm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await Hm(t,new Yh)}}else fe(Os,"Using default OfflineComponentProvider"),await Hm(t,new V3(void 0));return t._offlineComponents}async function lI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Os,"Using user provided OnlineComponentProvider"),await mb(t,t._uninitializedComponentsProvider._online)):(fe(Os,"Using default OnlineComponentProvider"),await mb(t,new qg))),t._onlineComponents}function U3(t){return lI(t).then(e=>e.syncEngine)}async function cI(t){const e=await lI(t),n=e.eventManager;return n.onListen=T3.bind(null,e.syncEngine),n.onUnlisten=A3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P3.bind(null,e.syncEngine),n}function z3(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const m=new aI({next:y=>{m.xu(),l.enqueueAndForget(()=>XT(o,g));const E=y.docs.has(c);!E&&y.fromCache?f.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&d&&d.source==="server"?f.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new JT(Qv(c.path),m,{includeMetadataChanges:!0,Qa:!0});return YT(o,g)}(await cI(t),t.asyncQueue,e,n,r)),r.promise}function $3(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const m=new aI({next:y=>{m.xu(),l.enqueueAndForget(()=>XT(o,g)),y.fromCache&&d.source==="server"?f.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new JT(c,m,{includeMetadataChanges:!0,Qa:!0});return YT(o,g)}(await cI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e,n){if(!n)throw new we(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hI(t,e,n,r){if(e===!0&&r===!0)throw new we(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vb(t){if(!Ie.isDocumentKey(t))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yb(t){if(Ie.isDocumentKey(t))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fy(t);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firestore.googleapis.com",xb=!0;class wb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fI,this.ssl=xb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:xb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bO)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XS;switch(r.type){case"firstParty":return new tM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gb.get(n);r&&(fe("ComponentProvider","Removing Datastore"),gb.delete(n),r.terminate())}(this),Promise.resolve()}}function pI(t,e,n,r={}){var i;t=oi(t,Mf);const o=vl(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(tS(`https://${d}`),nS("Firestore",!0)),l.host!==fI&&l.host!==d&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!Mo(f,c)&&(t._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=pn.MOCK_USER;else{m=cN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new pn(y)}t._authCredentials=new J4(new YS(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cu(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Pi extends Cu{constructor(e,n,r){super(e,n,Qv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Ie(e))}withConverter(e){return new Pi(this.firestore,e,this._path)}}function mI(t,e,...n){if(t=Qt(t),dI("collection","path",e),t instanceof Mf){const r=gt.fromString(e,...n);return yb(r),new Pi(t,null,r)}{if(!(t instanceof Tn||t instanceof Pi))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return yb(r),new Pi(t.firestore,null,r)}}function Qr(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=$v.newId()),dI("doc","path",e),t instanceof Mf){const r=gt.fromString(e,...n);return vb(r),new Tn(t,null,new Ie(r))}{if(!(t instanceof Tn||t instanceof Pi))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return vb(r),new Tn(t.firestore,t instanceof Pi?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="AsyncQueue";class Eb{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new zT(this,"async_queue_retry"),this.rc=()=>{const r=$m();r&&fe(bb,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ai;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!El(e))throw e;fe(bb,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Mi("INTERNAL UNHANDLED ERROR: ",_b(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=ly.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Me(47125,{cc:_b(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function _b(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Sl extends Mf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Eb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Eb(e),this._firestoreClient=void 0,await e}}}function gI(t,e){const n=typeof t=="object"?t:oS(),r=typeof t=="string"?t:Uh,i=kv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=aN("firestore");o&&pI(i,...o)}return i}function Of(t){if(t._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||H3(t),t._firestoreClient}function H3(t){var e,n,r;const i=t._freezeSettings(),o=function(c,d,f,m){return new gM(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,uI(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new F3(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Yt.fromBase64String(e))}catch(n){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uo(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=/^__.*__$/;class G3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class vI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ic:t})}}class py{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new py(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Xh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(yI(this.Ic)&&W3.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class q3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nf(e)}bc(e,n,r,i=!1){return new py({Ic:e,methodName:n,wc:r,path:qt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xI(t){const e=t._freezeSettings(),n=Nf(t._databaseId);return new q3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function K3(t,e,n,r,i,o={}){const l=t.bc(o.merge||o.mergeFields?2:0,e,n,i);my("Data must be an object, but it was:",l,r);const c=wI(r,l);let d,f;if(o.merge)d=new Kn(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const y=Kg(e,g,n);if(!l.contains(y))throw new we(re.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);EI(m,y)||m.push(y)}d=new Kn(m),f=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,f=l.fieldTransforms;return new G3(new Ln(c),d,f)}class Ff extends Lf{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}function Q3(t,e,n,r){const i=t.bc(1,e,n);my("Data must be an object, but it was:",i,r);const o=[],l=Ln.empty();zs(r,(d,f)=>{const m=gy(e,d,n);f=Qt(f);const g=i.mc(m);if(f instanceof Ff)o.push(m);else{const y=Bf(f,g);y!=null&&(o.push(m),l.set(m,y))}});const c=new Kn(o);return new vI(l,c,i.fieldTransforms)}function Y3(t,e,n,r,i,o){const l=t.bc(1,e,n),c=[Kg(e,r,n)],d=[i];if(o.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(Kg(e,o[y])),d.push(o[y+1]);const f=[],m=Ln.empty();for(let y=c.length-1;y>=0;--y)if(!EI(f,c[y])){const E=c[y];let S=d[y];S=Qt(S);const C=l.mc(E);if(S instanceof Ff)f.push(E);else{const I=Bf(S,C);I!=null&&(f.push(E),m.set(E,I))}}const g=new Kn(f);return new vI(m,g,l.fieldTransforms)}function Bf(t,e){if(bI(t=Qt(t)))return my("Unsupported field value:",e,t),wI(t,e);if(t instanceof Lf)return function(r,i){if(!yI(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let d=Bf(c,i.fc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Nt.fromDate(r);return{timestampValue:qh(i.serializer,o)}}if(r instanceof Nt){const o=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qh(i.serializer,o)}}if(r instanceof jf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uo)return{bytesValue:NT(i.serializer,r._byteString)};if(r instanceof Tn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vf)return function(l,c){return{mapValue:{fields:{[oT]:{stringValue:aT},[zh]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.gc("VectorValues must only contain numeric values.");return Yv(c.serializer,f)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${fy(r)}`)}(t,e)}function wI(t,e){const n={};return eT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(t,(r,i)=>{const o=Bf(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function bI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof jf||t instanceof Uo||t instanceof Tn||t instanceof Lf||t instanceof Vf)}function my(t,e,n){if(!bI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=fy(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Kg(t,e,n){if((e=Qt(e))instanceof Au)return e._internalPath;if(typeof e=="string")return gy(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const X3=new RegExp("[~\\*/\\[\\]]");function gy(t,e,n){if(e.search(X3)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Au(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xh(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new we(re.INVALID_ARGUMENT,c+t+d)}function EI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(SI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J3 extends _I{data(){return super.data()}}function SI(t,e){return typeof e=="string"?gy(t,e):e instanceof Au?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TI{convertValue(e,n="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[zh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>It(l.doubleValue));return new Vf(o)}convertGeoPoint(e){return new jf(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);rt(jT(r),9688,{name:e});const i=new rl(r.get(1),r.get(3)),o=new Ie(r.popFirst(5));return i.isEqual(n)||Mi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vy extends _I{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(SI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uc extends vy{data(e={}){return super.data(e)}}class II{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uc(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Uc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $a(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Uc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $a(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:tL(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){t=oi(t,Tn);const e=oi(t.firestore,Sl);return z3(Of(e),t._key).then(n=>nL(e,t,n))}class CI extends TI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function AI(t){t=oi(t,Cu);const e=oi(t.firestore,Sl),n=Of(e),r=new CI(e);return Z3(t._query),$3(n,t._query).then(i=>new II(e,r,t,i))}function Si(t,e,n){t=oi(t,Tn);const r=oi(t.firestore,Sl),i=eL(t.converter,e,n);return yy(r,[K3(xI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ei.none())])}function PI(t,e,n,...r){t=oi(t,Tn);const i=oi(t.firestore,Sl),o=xI(i);let l;return l=typeof(e=Qt(e))=="string"||e instanceof Au?Y3(o,"updateDoc",t._key,e,n,r):Q3(o,"updateDoc",t._key,e),yy(i,[l.toMutation(t._key,ei.exists(!0))])}function yy(t,e){return function(r,i){const o=new Ai;return r.asyncQueue.enqueueAndForget(async()=>R3(await U3(r),i,o)),o.promise}(Of(t),e)}function nL(t,e,n){const r=n.docs.get(e._key),i=new CI(t);return new vy(t,i,e._key,r,new $a(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){wl=i})(yl),el(new Oo("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Sl(new Z4(r.getProvider("auth-internal")),new nM(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ts(A1,P1,e),Ts(A1,P1,"esm2017")})();const rL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:TI,Bytes:Uo,CollectionReference:Pi,DocumentReference:Tn,DocumentSnapshot:vy,FieldPath:Au,FieldValue:Lf,Firestore:Sl,FirestoreError:we,GeoPoint:jf,Query:Cu,QueryDocumentSnapshot:Uc,QuerySnapshot:II,SnapshotMetadata:$a,Timestamp:Nt,VectorValue:Vf,_AutoId:$v,_ByteString:Yt,_DatabaseId:rl,_DocumentKey:Ie,_EmptyAuthCredentialsProvider:XS,_FieldPath:qt,_cast:oi,_logWarn:Fo,_validateIsNotUsedTogether:hI,collection:mI,connectFirestoreEmulator:pI,doc:Qr,ensureFirestoreConfigured:Of,executeWrite:yy,getDoc:To,getDocs:AI,getFirestore:gI,setDoc:Si,updateDoc:PI},Symbol.toStringTag,{value:"Module"})),iL="modulepreload",sL=function(t){return"/Israel-cyber-academy/"+t},Sb={},oL=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(n.map(f=>{if(f=sL(f),f in Sb)return;Sb[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":iL,m||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),m)return new Promise((E,S)=>{y.addEventListener("load",E),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};var aL="firebase",lL="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(aL,lL,"app");const Mr={apiKey:"AIzaSyC35sH38k9co_R0zBsbDT0S6RE1Cp-ksHE",authDomain:"israel-cyber-academy.firebaseapp.com",projectId:"israel-cyber-academy",storageBucket:"israel-cyber-academy.firebasestorage.app",messagingSenderId:"750693821908",appId:"1:750693821908:web:6518d1facad1d8095cfa41"};console.log(" Firebase Config:",{projectId:Mr.projectId,authDomain:Mr.authDomain,apiKey:Mr.apiKey?"***"+Mr.apiKey.slice(-4):"undefined"});let Qg;try{Qg=sS(Mr),console.log(" Firebase app initialized successfully")}catch(t){throw console.error(" Firebase app initialization failed:",t),t}let Ha,qn;try{Ha=Y4(Qg),qn=gI(Qg),console.log(" Firebase services initialized:",{auth:!!Ha,firestore:!!qn})}catch(t){throw console.error(" Firebase services initialization failed:",t),t}const cL=async()=>{console.log(" Starting Firestore connection diagnosis...");try{console.log(" Test 1: Checking Firestore accessibility...");const{collection:t,getDocs:e}=await oL(async()=>{const{collection:r,getDocs:i}=await Promise.resolve().then(()=>rL);return{collection:r,getDocs:i}},void 0),n=t(qn,"_test_connection");console.log(" Firestore collection reference created successfully"),console.log(" Test 2: Testing document read access...");try{const r=await e(n);console.log(" Firestore read access successful"),console.log(" Documents in test collection:",r.size)}catch(r){console.warn(" Firestore read test failed:",r.message),r.code==="permission-denied"?(console.error(" Firestore Security Rules are blocking access"),console.log(" Solution: Update Firestore security rules to allow read/write"),console.log(" Go to Firebase Console > Firestore Database > Rules"),console.log(" Use these development rules:"),console.log(`
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
        `)):r.code==="not-found"?(console.error(" Firestore database not found"),console.log(" Solution: Create Firestore database in Firebase Console"),console.log(" Go to: https://console.firebase.google.com/project/israel-cyber-academy/firestore"),console.log(' Click "Create Database" > "Start in test mode" > Choose location > "Done"')):(console.error(" Unknown Firestore error:",r.code,r.message),console.log(" This might be a database creation issue"),console.log(" Please create the Firestore database first"))}return console.log(" Test 3: Verifying project configuration..."),console.log(" Project ID:",Mr.projectId),console.log(" Auth Domain:",Mr.authDomain),console.log(" API Key present:",!!Mr.apiKey),{success:!0,projectId:Mr.projectId,authDomain:Mr.authDomain,hasApiKey:!!Mr.apiKey}}catch(t){return console.error(" Firestore diagnosis failed:",t),{success:!1,error:t.message,code:t.code}}},RI=O.createContext(),Pu=()=>{const t=O.useContext(RI);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},uL=({children:t})=>{const[e,n]=O.useState(null),[r,i]=O.useState(null),[o,l]=O.useState(!0),c=async(P,M,z,V="student",G={})=>{try{const R=await DD(Ha,P,M);let A=z;(!A||A===" ")&&(A=(G.sex||"male")==="female"?" ":" "),await v1(R.user,{displayName:A});const k={uid:R.user.uid,email:R.user.email,displayName:A,role:V,firstName:G.firstName||"",lastName:G.lastName||"",age:G.age?parseInt(G.age):null,sex:G.sex||"male",progress:{1:{completed:!1,score:0,completedAt:null,temporary:!1,lastSlide:0,pagesEngaged:[],lastActivity:new Date}},completedLessons:[],currentLesson:1,createdAt:new Date,lastLogin:new Date,totalTimeSpent:0,totalPagesEngaged:0,achievements:[],streak:0,lastActivityDate:new Date};return await Si(Qr(qn,"users",R.user.uid),k),R}catch(R){throw R}},d=async(P,M)=>{try{const z=await MD(Ha,P,M);if(z.user){const V=Qr(qn,"users",z.user.uid),G=await To(V);if(G.exists()){const R=G.data(),A={lastLogin:new Date,lastActivityDate:new Date};(!R.progress||Object.keys(R.progress).length===0)&&(A.progress={1:{completed:!1,score:0,completedAt:null,temporary:!1,lastSlide:0,pagesEngaged:[],lastActivity:new Date}},A.currentLesson=1,A.completedLessons=R.completedLessons||[],A.totalTimeSpent=R.totalTimeSpent||0,A.totalPagesEngaged=R.totalPagesEngaged||0,A.achievements=R.achievements||[],A.streak=R.streak||0),await Si(V,A,{merge:!0})}}return z}catch(z){throw z}},f=async(P,M,z=0,V=!1,G=null,R=null,A=null)=>{var k;if(e)try{const j=Qr(qn,"users",e.uid),U=await To(j);if(U.exists()){const F=U.data(),N=F.progress||{};if(N[P]||(N[P]={completed:!1,score:0,completedAt:null,temporary:!1,lastSlide:0,pagesEngaged:[],lastActivity:new Date}),N[P]={...N[P],completed:M,score:z,completedAt:M?new Date:N[P].completedAt,temporary:!!(V&&!M),lastActivity:new Date,...G!==null?{lastSlide:G}:{}},R&&N[P].pagesEngaged&&(N[P].pagesEngaged.includes(R)||(N[P].pagesEngaged=[...N[P].pagesEngaged,R])),M&&A&&Array.isArray(A)){const X=N[P].pagesEngaged||[],pe=[...new Set([...X,...A])];N[P].pagesEngaged=pe,console.log(` All slides marked as engaged for lesson ${P}: ${pe.length} slides`)}let ae=0,Se=0;Object.values(N).forEach(X=>{X.pagesEngaged&&Array.isArray(X.pagesEngaged)&&(Se+=X.pagesEngaged.length,ae+=X.pagesEngaged.length*3)});const Ee=F.completedLessons||[],ve=F.currentLesson||1;let Z=Ee,ue=ve;M&&(Ee.includes(P)||(Z=[...Ee,P],console.log(` Lesson ${P} completed and added to completedLessons`)),ue=Math.max(ve,P+1),ue>ve&&console.log(` Next lesson unlocked: ${ue} (was ${ve})`)),ue<1&&(ue=1);const ie=F.achievements||[],H=[...ie];M&&P===1&&!ie.includes("first_lesson")&&(H.push("first_lesson"),console.log(" Achievement unlocked: First Lesson Completed!")),M&&Z.length>=3&&!ie.includes("three_lessons")&&(H.push("three_lessons"),console.log(" Achievement unlocked: Three Lessons Completed!")),ae>=60&&!ie.includes("one_hour")&&(H.push("one_hour"),console.log(" Achievement unlocked: One Hour of Learning!")),console.log(" USER SESSION DATA UPDATE:",{userId:e.uid,lessonId:P,action:M?"LESSON_COMPLETED":"PROGRESS_UPDATED",timestamp:new Date().toISOString(),progress:{lessonId:P,completed:M,score:z,lastSlide:G||N[P].lastSlide,pagesEngaged:((k=N[P].pagesEngaged)==null?void 0:k.length)||0,temporary:V},statistics:{totalTimeSpent:ae,totalPagesEngaged:Se,completedLessons:Z.length,currentLesson:ue,achievements:H.length},achievements:{newlyUnlocked:H.filter(X=>!ie.includes(X)),total:H.length}}),await Si(j,{progress:N,completedLessons:Z,currentLesson:ue,lastActivityDate:new Date,totalTimeSpent:ae,totalPagesEngaged:Se,achievements:H},{merge:!0}),i(X=>({...X,progress:N,completedLessons:Z,currentLesson:ue,lastActivityDate:new Date,totalTimeSpent:ae,totalPagesEngaged:Se,achievements:H})),console.log(" PROGRESS SAVED SUCCESSFULLY:",{lessonId:P,completed:M,score:z,totalTimeSpent:ae,totalPagesEngaged:Se,completedLessons:Z.length,achievements:H.length})}}catch(j){console.error(" Error updating progress:",j)}},m=async(P,M)=>{if(e)try{const z=Qr(qn,"users",e.uid),V=await To(z);if(V.exists()){const R=V.data().progress||{};if(R[P]||(R[P]={completed:!1,score:0,completedAt:null,temporary:!1,lastSlide:0,pagesEngaged:[],lastActivity:new Date}),R[P].pagesEngaged||(R[P].pagesEngaged=[]),R[P].pagesEngaged.includes(M))console.log(" DUPLICATE SLIDE ENGAGEMENT:",{userId:e.uid,lessonId:P,slideId:M,timestamp:new Date().toISOString(),message:"Slide already engaged, skipping duplicate tracking"});else{R[P].pagesEngaged=[...R[P].pagesEngaged,M],R[P].lastActivity=new Date;let A=0,k=0;Object.values(R).forEach(j=>{j.pagesEngaged&&Array.isArray(j.pagesEngaged)&&(k+=j.pagesEngaged.length,A+=j.pagesEngaged.length*3)}),console.log(" SLIDE ENGAGEMENT TRACKED:",{userId:e.uid,lessonId:P,slideId:M,timestamp:new Date().toISOString(),engagement:{lessonId:P,slideId:M,totalSlidesInLesson:R[P].pagesEngaged.length,isNewEngagement:!0},statistics:{totalTimeSpent:A,totalPagesEngaged:k,lessonProgress:Math.round(R[P].pagesEngaged.length/10*100)}}),await Si(z,{progress:R,totalTimeSpent:A,totalPagesEngaged:k,lastActivityDate:new Date},{merge:!0}),i(j=>({...j,progress:R,totalTimeSpent:A,totalPagesEngaged:k,lastActivityDate:new Date})),console.log(" ENGAGEMENT SUMMARY:",{lessonId:P,slideId:M,totalPagesEngaged:k,totalTimeSpent:A,lessonProgress:`${R[P].pagesEngaged.length} slides engaged`})}}}catch(z){console.error(" Error tracking slide engagement:",z)}},g=async()=>{if(e)try{const P=Qr(qn,"users",e.uid),M=await To(P);if(M.exists()){const V=M.data().progress||{};let G=!1;Object.keys(V).forEach(R=>{V[R].temporary&&(delete V[R],G=!0)}),G&&(await Si(P,{progress:V},{merge:!0}),i(R=>({...R,progress:V})))}}catch(P){console.error("Error removing temporary progress:",P)}},y=async()=>{try{console.log(" Logging out user..."),await g(),await FD(Ha),n(null),i(null),console.log(" User logged out successfully"),window.location.href="/"}catch(P){console.error(" Error during logout:",P),n(null),i(null),window.location.href="/"}},E=async P=>{if(e)try{await v1(e,{displayName:P});const M=Qr(qn,"users",e.uid);await Si(M,{displayName:P,lastActivityDate:new Date},{merge:!0}),i(z=>({...z,displayName:P,lastActivityDate:new Date})),console.log(" Display name updated successfully:",P)}catch(M){throw console.error(" Error updating display name:",M),M}},S=P=>{var z,V;const M=((V=(z=r==null?void 0:r.progress)==null?void 0:z[P])==null?void 0:V.lastSlide)??0;return console.log(` GET LAST SLIDE: Lesson ${P} -> Slide ${M+1}`),M},C=async(P,M)=>{if(e)try{const z=Qr(qn,"users",e.uid),V=await To(z);if(V.exists()){const R=V.data().progress||{};R[P]||(R[P]={completed:!1,score:0,completedAt:null,temporary:!1,lastSlide:0,pagesEngaged:[],lastActivity:new Date}),R[P].lastSlide=M,R[P].lastActivity=new Date,console.log(" SLIDE POSITION SAVED:",{userId:e.uid,lessonId:P,slideIndex:M+1,timestamp:new Date().toISOString(),action:"RESUME_POSITION_SAVED"}),await Si(z,{progress:R,lastActivityDate:new Date},{merge:!0}),i(A=>({...A,progress:R,lastActivityDate:new Date}))}}catch(z){console.error(" Error saving slide position:",z)}},I=async()=>{try{console.log(" Testing Firestore connectivity...");const P=await cL();return P.success?(console.log(" Firestore connection diagnosis completed successfully"),!0):(console.error(" Firestore connection diagnosis failed:",P.error),!1)}catch(P){return console.error(" Firestore connectivity test failed:",P),console.error(" Error details:",{code:P.code,message:P.message}),!1}};O.useEffect(()=>(console.log(" Setting up authentication listener..."),I().then(M=>{M||(console.error(" Firestore is not accessible - check the following:"),console.error("   1. Firestore database is created in Firebase Console"),console.error("   2. Security rules allow read/write access"),console.error("   3. Project is properly configured"),console.error("   4. API keys are correct"))}),VD(Ha,async M=>{var z;if(console.log(" Auth state changed:",M?`User logged in: ${M.email}`:"User logged out"),n(M),M)try{console.log(" Fetching user profile for:",M.email),console.log(" User UID:",M.uid);const V=Qr(qn,"users",M.uid);console.log(" Firestore document reference created");const G=await To(V);if(console.log(" Firestore document fetch completed"),G.exists()){const R=G.data();console.log(" User profile loaded:",R.displayName),console.log(" User data:",{role:R.role,currentLesson:R.currentLesson,completedLessons:((z=R.completedLessons)==null?void 0:z.length)||0,progress:Object.keys(R.progress||{}).length});const A={...R,firstName:R.firstName||"",lastName:R.lastName||"",age:R.age||null,sex:R.sex||"male",displayName:R.displayName||(R.sex==="female"?" ":" ")};i(A)}else{console.log(" User profile not found in Firestore - creating new profile");const R={uid:M.uid,email:M.email,displayName:M.displayName||" ",role:"student",firstName:"",lastName:"",age:null,sex:"male",progress:{1:{completed:!1,score:0,completedAt:null,temporary:!1,lastSlide:0,pagesEngaged:[],lastActivity:new Date}},completedLessons:[],currentLesson:1,createdAt:new Date,lastLogin:new Date,totalTimeSpent:0,totalPagesEngaged:0,achievements:[],streak:0,lastActivityDate:new Date};try{await Si(V,R),console.log(" New user profile created successfully"),i(R)}catch(A){console.error(" Error creating user profile:",A),console.error(" Create error details:",{code:A.code,message:A.message}),i(null)}}}catch(V){console.error(" Error fetching user profile:",V),console.error(" Error details:",{code:V.code,message:V.message,stack:V.stack}),V.code==="permission-denied"?(console.error(" This is likely a Firestore security rules issue"),console.error(" Check your Firestore security rules in Firebase Console")):V.code==="not-found"&&(console.error(" Firestore database might not exist"),console.error(" Create Firestore database in Firebase Console")),i(null)}else console.log(" User signed out, clearing profile"),i(null);l(!1)})),[]);const L={currentUser:e,userProfile:r,signup:c,login:d,logout:y,updateUserProgress:f,setLastLessonSlide:C,loading:o,removeTemporaryProgress:g,trackSlideEngagement:m,updateDisplayName:E,getLastLessonSlide:S};return v.jsx(RI.Provider,{value:L,children:!o&&t})},Ru=()=>{var e,n,r,i,o,l,c,d,f,m,g;const t=Pu();return{...t,isAuthenticated:!!t.currentUser,displayName:((e=t.userProfile)==null?void 0:e.displayName)||((n=t.currentUser)==null?void 0:n.displayName),email:((r=t.userProfile)==null?void 0:r.email)||((i=t.currentUser)==null?void 0:i.email),role:((o=t.userProfile)==null?void 0:o.role)||"student",progress:((l=t.userProfile)==null?void 0:l.progress)||{},completedLessons:((c=t.userProfile)==null?void 0:c.completedLessons)||[],currentLesson:((d=t.userProfile)==null?void 0:d.currentLesson)||1,totalTimeSpent:((f=t.userProfile)==null?void 0:f.totalTimeSpent)||0,totalPagesEngaged:((m=t.userProfile)==null?void 0:m.totalPagesEngaged)||0,achievements:((g=t.userProfile)==null?void 0:g.achievements)||[]}},Uf=()=>{const{currentUser:t,userProfile:e}=Pu();return{displayName:(e==null?void 0:e.displayName)||(t==null?void 0:t.displayName)||"",email:(e==null?void 0:e.email)||(t==null?void 0:t.email)||"",role:(e==null?void 0:e.role)||"student",progress:(e==null?void 0:e.progress)||{},completedLessons:(e==null?void 0:e.completedLessons)||[],currentLesson:(e==null?void 0:e.currentLesson)||1,totalTimeSpent:(e==null?void 0:e.totalTimeSpent)||0,totalPagesEngaged:(e==null?void 0:e.totalPagesEngaged)||0,achievements:(e==null?void 0:e.achievements)||[]}};let dL={data:""},hL=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||dL,fL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pL=/\/\*[^]*?\*\/|  +/g,Tb=/\n+/g,xs=(t,e)=>{let n="",r="",i="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":r+=o[1]=="f"?xs(l,o):o+"{"+xs(l,o[1]=="k"?"":e)+"}":typeof l=="object"?r+=xs(l,e?e.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=xs.p?xs.p(o,l):o+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},_i={},NI=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+NI(t[n]);return e}return t},mL=(t,e,n,r,i)=>{let o=NI(t),l=_i[o]||(_i[o]=(d=>{let f=0,m=11;for(;f<d.length;)m=101*m+d.charCodeAt(f++)>>>0;return"go"+m})(o));if(!_i[l]){let d=o!==t?t:(f=>{let m,g,y=[{}];for(;m=fL.exec(f.replace(pL,""));)m[4]?y.shift():m[3]?(g=m[3].replace(Tb," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][m[1]]=m[2].replace(Tb," ").trim();return y[0]})(t);_i[l]=xs(i?{["@keyframes "+l]:d}:d,n?"":"."+l)}let c=n&&_i.g?_i.g:null;return n&&(_i.g=_i[l]),((d,f,m,g)=>{g?f.data=f.data.replace(g,d):f.data.indexOf(d)===-1&&(f.data=m?d+f.data:f.data+d)})(_i[l],e,r,c),l},gL=(t,e,n)=>t.reduce((r,i,o)=>{let l=e[o];if(l&&l.call){let c=l(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=d?"."+d:c&&typeof c=="object"?c.props?"":xs(c,""):c===!1?"":c}return r+i+(l??"")},"");function zf(t){let e=this||{},n=t.call?t(e.p):t;return mL(n.unshift?n.raw?gL(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,hL(e.target),e.g,e.o,e.k)}let kI,Yg,Xg;zf.bind({g:1});let Li=zf.bind({k:1});function vL(t,e,n,r){xs.p=e,kI=t,Yg=n,Xg=r}function Hs(t,e){let n=this||{};return function(){let r=arguments;function i(o,l){let c=Object.assign({},o),d=c.className||i.className;n.p=Object.assign({theme:Yg&&Yg()},c),n.o=/ *go\d+/.test(d),c.className=zf.apply(n,r)+(d?" "+d:"");let f=t;return t[0]&&(f=c.as||t,delete c.as),Xg&&f[0]&&Xg(c),kI(f,c)}return i}}var yL=t=>typeof t=="function",Jh=(t,e)=>yL(t)?t(e):t,xL=(()=>{let t=0;return()=>(++t).toString()})(),DI=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),wL=20,MI=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,wL)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return MI(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Sh=[],Ro={toasts:[],pausedAt:void 0},qo=t=>{Ro=MI(Ro,t),Sh.forEach(e=>{e(Ro)})},bL={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},EL=(t={})=>{let[e,n]=O.useState(Ro),r=O.useRef(Ro);O.useEffect(()=>(r.current!==Ro&&n(Ro),Sh.push(n),()=>{let o=Sh.indexOf(n);o>-1&&Sh.splice(o,1)}),[]);let i=e.toasts.map(o=>{var l,c,d;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((c=t[o.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||bL[o.type],style:{...t.style,...(d=t[o.type])==null?void 0:d.style,...o.style}}});return{...e,toasts:i}},_L=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||xL()}),Nu=t=>(e,n)=>{let r=_L(e,t,n);return qo({type:2,toast:r}),r.id},gn=(t,e)=>Nu("blank")(t,e);gn.error=Nu("error");gn.success=Nu("success");gn.loading=Nu("loading");gn.custom=Nu("custom");gn.dismiss=t=>{qo({type:3,toastId:t})};gn.remove=t=>qo({type:4,toastId:t});gn.promise=(t,e,n)=>{let r=gn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let o=e.success?Jh(e.success,i):void 0;return o?gn.success(o,{id:r,...n,...n==null?void 0:n.success}):gn.dismiss(r),i}).catch(i=>{let o=e.error?Jh(e.error,i):void 0;o?gn.error(o,{id:r,...n,...n==null?void 0:n.error}):gn.dismiss(r)}),t};var SL=(t,e)=>{qo({type:1,toast:{id:t,height:e}})},TL=()=>{qo({type:5,time:Date.now()})},zc=new Map,IL=1e3,CL=(t,e=IL)=>{if(zc.has(t))return;let n=setTimeout(()=>{zc.delete(t),qo({type:4,toastId:t})},e);zc.set(t,n)},AL=t=>{let{toasts:e,pausedAt:n}=EL(t);O.useEffect(()=>{if(n)return;let o=Date.now(),l=e.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(o-c.createdAt);if(d<0){c.visible&&gn.dismiss(c.id);return}return setTimeout(()=>gn.dismiss(c.id),d)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[e,n]);let r=O.useCallback(()=>{n&&qo({type:6,time:Date.now()})},[n]),i=O.useCallback((o,l)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:f}=l||{},m=e.filter(E=>(E.position||f)===(o.position||f)&&E.height),g=m.findIndex(E=>E.id===o.id),y=m.filter((E,S)=>S<g&&E.visible).length;return m.filter(E=>E.visible).slice(...c?[y+1]:[0,y]).reduce((E,S)=>E+(S.height||0)+d,0)},[e]);return O.useEffect(()=>{e.forEach(o=>{if(o.dismissed)CL(o.id,o.removeDelay);else{let l=zc.get(o.id);l&&(clearTimeout(l),zc.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:SL,startPause:TL,endPause:r,calculateOffset:i}}},PL=Li`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,RL=Li`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NL=Li`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,kL=Hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${RL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${NL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,DL=Li`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ML=Hs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${DL} 1s linear infinite;
`,OL=Li`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,LL=Li`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jL=Hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${OL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${LL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,VL=Hs("div")`
  position: absolute;
`,FL=Hs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,BL=Li`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UL=Hs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${BL} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zL=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?O.createElement(UL,null,e):e:n==="blank"?null:O.createElement(FL,null,O.createElement(ML,{...r}),n!=="loading"&&O.createElement(VL,null,n==="error"?O.createElement(kL,{...r}):O.createElement(jL,{...r})))},$L=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,HL=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,WL="0%{opacity:0;} 100%{opacity:1;}",GL="0%{opacity:1;} 100%{opacity:0;}",qL=Hs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,KL=Hs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,QL=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=DI()?[WL,GL]:[$L(n),HL(n)];return{animation:e?`${Li(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Li(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},YL=O.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?QL(t.position||e||"top-center",t.visible):{opacity:0},o=O.createElement(zL,{toast:t}),l=O.createElement(KL,{...t.ariaProps},Jh(t.message,t));return O.createElement(qL,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:l}):O.createElement(O.Fragment,null,o,l))});vL(O.createElement);var XL=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=O.useCallback(l=>{if(l){let c=()=>{let d=l.getBoundingClientRect().height;r(t,d)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return O.createElement("div",{ref:o,className:e,style:n},i)},JL=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:DI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},ZL=zf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ah=16,ej=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=AL(n);return O.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ah,left:ah,right:ah,bottom:ah,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(f=>{let m=f.position||e,g=d.calculateOffset(f,{reverseOrder:t,gutter:r,defaultPosition:e}),y=JL(m,g);return O.createElement(XL,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?ZL:"",style:y},f.type==="custom"?Jh(f.message,f):i?i(f):O.createElement(YL,{toast:f,position:m}))}))},jn=gn;/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},d)=>O.createElement("svg",{ref:d,...nj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:OI("lucide",i),...c},[...l.map(([f,m])=>O.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const n=O.forwardRef(({className:r,...i},o)=>O.createElement(rj,{ref:o,iconNode:e,className:OI(`lucide-${tj(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=_e("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=_e("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=_e("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=_e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=_e("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=_e("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=_e("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=_e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=_e("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=_e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=_e("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=_e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=_e("LockKeyholeOpen",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}],["path",{d:"M7 10V7a5 5 0 0 1 9.33-2.5",key:"car5b7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=_e("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=_e("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=_e("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=_e("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=_e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=_e("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=_e("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=_e("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=_e("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=_e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=_e("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=_e("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=_e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);let Rj=class extends tt.Component{constructor(n){super(n);kw(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100 p-4",children:v.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(Aj,{className:"w-8 h-8 text-red-600"})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),v.jsx("p",{className:"text-gray-600 mb-6",children:"   .         ."}),v.jsxs("button",{onClick:this.handleReload,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[v.jsx(Ej,{className:"w-4 h-4 mr-2"})," "]}),!1]})}):this.props.children}};const XI=({size:t="md",text:e="...",variant:n="primary",fullScreen:r=!1})=>{const i={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},o={primary:"text-cyber-blue",secondary:"text-gray-600",white:"text-white",success:"text-green-600",warning:"text-yellow-600",error:"text-red-600"},l=v.jsxs("div",{className:"flex flex-col items-center justify-center",children:[v.jsx(mj,{className:`${i[t]} ${o[n]} animate-spin`}),e&&v.jsx("p",{className:`mt-2 text-sm ${n==="white"?"text-white":"text-gray-600"}`,children:e})]});return r?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-cyber-blue to-cyber-purple",children:l}):l},JI=O.createContext({});function Nj(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const _y=O.createContext(null),ZI=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function kj(t=!0){const e=O.useContext(_y);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=O.useId();O.useEffect(()=>{t&&i(o)},[t]);const l=O.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const Sy=typeof window<"u",Dj=Sy?O.useLayoutEffect:O.useEffect,Yn=t=>t;let eC=Yn;function Ty(t){let e;return()=>(e===void 0&&(e=t()),e)}const ll=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ri=t=>t*1e3,Ni=t=>t/1e3,Mj={useManualTiming:!1};function Oj(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,m=!1,g=!1)=>{const E=g&&r?e:n;return m&&o.add(f),E.has(f)||E.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,d.process(f))}};return d}const lh=["read","resolveKeyframes","update","preRender","render","postRender"],Lj=40;function tC(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=lh.reduce((L,P)=>(L[P]=Oj(o),L),{}),{read:c,resolveKeyframes:d,update:f,preRender:m,render:g,postRender:y}=l,E=()=>{const L=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(L-i.timestamp,Lj),1),i.timestamp=L,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),m.process(i),g.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(E))},S=()=>{n=!0,r=!0,i.isProcessing||t(E)};return{schedule:lh.reduce((L,P)=>{const M=l[P];return L[P]=(z,V=!1,G=!1)=>(n||S(),M.schedule(z,V,G)),L},{}),cancel:L=>{for(let P=0;P<lh.length;P++)l[lh[P]].cancel(L)},state:i,steps:l}}const{schedule:ft,cancel:Ls,state:nn,steps:Wm}=tC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yn,!0),nC=O.createContext({strict:!1}),Pb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cl={};for(const t in Pb)cl[t]={isEnabled:e=>Pb[t].some(n=>!!e[n])};function jj(t){for(const e in t)cl[e]={...cl[e],...t[e]}}const Vj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Vj.has(t)}let rC=t=>!Zh(t);function Fj(t){t&&(rC=e=>e.startsWith("on")?!Zh(e):t(e))}try{Fj(require("@emotion/is-prop-valid").default)}catch{}function Bj(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(rC(i)||n===!0&&Zh(i)||!e&&!Zh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Uj(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Hf=O.createContext({});function su(t){return typeof t=="string"||Array.isArray(t)}function Wf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Iy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cy=["initial",...Iy];function Gf(t){return Wf(t.animate)||Cy.some(e=>su(t[e]))}function iC(t){return!!(Gf(t)||t.variants)}function zj(t,e){if(Gf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||su(n)?n:void 0,animate:su(r)?r:void 0}}return t.inherit!==!1?e:{}}function $j(t){const{initial:e,animate:n}=zj(t,O.useContext(Hf));return O.useMemo(()=>({initial:e,animate:n}),[Rb(e),Rb(n)])}function Rb(t){return Array.isArray(t)?t.join(" "):t}const Hj=Symbol.for("motionComponentSymbol");function Wa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Wj(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Wa(n)&&(n.current=r))},[e])}const Ay=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Gj="framerAppearId",sC="data-"+Ay(Gj),{schedule:Py}=tC(queueMicrotask,!1),oC=O.createContext({});function qj(t,e,n,r,i){var o,l;const{visualElement:c}=O.useContext(Hf),d=O.useContext(nC),f=O.useContext(_y),m=O.useContext(ZI).reducedMotion,g=O.useRef(null);r=r||d.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,E=O.useContext(oC);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&Kj(g.current,n,i,E);const S=O.useRef(!1);O.useInsertionEffect(()=>{y&&S.current&&y.update(n,f)});const C=n[sC],I=O.useRef(!!C&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,C))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,C)));return Dj(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Py.render(y.render),I.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!I.current&&y.animationState&&y.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)===null||L===void 0||L.call(window,C)}),I.current=!1))}),y}function Kj(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aC(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&Wa(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:f})}function aC(t){if(t)return t.options.allowProjection!==!1?t.projection:aC(t.parent)}function Qj({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,l;t&&jj(t);function c(f,m){let g;const y={...O.useContext(ZI),...f,layoutId:Yj(f)},{isStatic:E}=y,S=$j(f),C=r(f,E);if(!E&&Sy){Xj();const I=Jj(y);g=I.MeasureLayout,S.visualElement=qj(i,C,y,e,I.ProjectionNode)}return v.jsxs(Hf.Provider,{value:S,children:[g&&S.visualElement?v.jsx(g,{visualElement:S.visualElement,...y}):null,n(i,f,Wj(C,S.visualElement,m),C,E,S.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&l!==void 0?l:""})`}`;const d=O.forwardRef(c);return d[Hj]=i,d}function Yj({layoutId:t}){const e=O.useContext(JI).id;return e&&t!==void 0?e+"-"+t:t}function Xj(t,e){O.useContext(nC).strict}function Jj(t){const{drag:e,layout:n}=cl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Zj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ry(t){return typeof t!="string"||t.includes("-")?!1:!!(Zj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Nb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ny(t,e,n,r){if(typeof e=="function"){const[i,o]=Nb(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=Nb(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const ev=t=>Array.isArray(t),e5=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),t5=t=>ev(t)?t[t.length-1]||0:t,vn=t=>!!(t&&t.getVelocity);function Th(t){const e=vn(t)?t.get():t;return e5(e)?e.toValue():e}function n5({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const l={latestValues:r5(r,i,o,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const lC=t=>(e,n)=>{const r=O.useContext(Hf),i=O.useContext(_y),o=()=>n5(t,e,r,i);return n?o():Nj(o)};function r5(t,e,n,r){const i={},o=r(t,{});for(const y in o)i[y]=Th(o[y]);let{initial:l,animate:c}=t;const d=Gf(t),f=iC(t);e&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?c:l;if(g&&typeof g!="boolean"&&!Wf(g)){const y=Array.isArray(g)?g:[g];for(let E=0;E<y.length;E++){const S=Ny(t,y[E]);if(S){const{transitionEnd:C,transition:I,...L}=S;for(const P in L){let M=L[P];if(Array.isArray(M)){const z=m?M.length-1:0;M=M[z]}M!==null&&(i[P]=M)}for(const P in C)i[P]=C[P]}}}return i}const Tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set(Tl),cC=t=>e=>typeof e=="string"&&e.startsWith(t),uC=cC("--"),i5=cC("var(--"),ky=t=>i5(t)?s5.test(t.split("/*")[0].trim()):!1,s5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ji=(t,e,n)=>n>e?e:n<t?t:n,Il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ou={...Il,transform:t=>ji(0,1,t)},ch={...Il,default:1},Du=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fs=Du("deg"),ni=Du("%"),Ne=Du("px"),o5=Du("vh"),a5=Du("vw"),kb={...ni,parse:t=>ni.parse(t)/100,transform:t=>ni.transform(t*100)},l5={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne},c5={rotate:fs,rotateX:fs,rotateY:fs,rotateZ:fs,scale:ch,scaleX:ch,scaleY:ch,scaleZ:ch,skew:fs,skewX:fs,skewY:fs,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:ou,originX:kb,originY:kb,originZ:Ne},Db={...Il,transform:Math.round},Dy={...l5,...c5,zIndex:Db,size:Ne,fillOpacity:ou,strokeOpacity:ou,numOctaves:Db},u5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d5=Tl.length;function h5(t,e,n){let r="",i=!0;for(let o=0;o<d5;o++){const l=Tl[o],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=dC(c,Dy[l]);if(!d){i=!1;const m=u5[l]||l;r+=`${m}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function My(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,c=!1;for(const d in e){const f=e[d];if(Ko.has(d)){l=!0;continue}else if(uC(d)){i[d]=f;continue}else{const m=dC(f,Dy[d]);d.startsWith("origin")?(c=!0,o[d]=m):r[d]=m}}if(e.transform||(l||n?r.transform=h5(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${d} ${f} ${m}`}}const f5={offset:"stroke-dashoffset",array:"stroke-dasharray"},p5={offset:"strokeDashoffset",array:"strokeDasharray"};function m5(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?f5:p5;t[o.offset]=Ne.transform(-r);const l=Ne.transform(e),c=Ne.transform(n);t[o.array]=`${l} ${c}`}function Mb(t,e,n){return typeof t=="string"?t:Ne.transform(e+n*t)}function g5(t,e,n){const r=Mb(e,t.x,t.width),i=Mb(n,t.y,t.height);return`${r} ${i}`}function Oy(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...f},m,g){if(My(t,f,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:E,dimensions:S}=t;y.transform&&(S&&(E.transform=y.transform),delete y.transform),S&&(i!==void 0||o!==void 0||E.transform)&&(E.transformOrigin=g5(S,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),l!==void 0&&m5(y,l,c,d,!1)}const Ly=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),hC=()=>({...Ly(),attrs:{}}),jy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const pC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mC(t,e,n,r){fC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(pC.has(i)?i:Ay(i),e.attrs[i])}const ef={};function v5(t){Object.assign(ef,t)}function gC(t,{layout:e,layoutId:n}){return Ko.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ef[t]||t==="opacity")}function Vy(t,e,n){var r;const{style:i}=t,o={};for(const l in i)(vn(i[l])||e.style&&vn(e.style[l])||gC(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=i[l]);return o}function vC(t,e,n){const r=Vy(t,e,n);for(const i in t)if(vn(t[i])||vn(e[i])){const o=Tl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function y5(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Ob=["x","y","width","height","cx","cy","r"],x5={useVisualState:lC({scrapeMotionValuesFromProps:vC,createRenderState:hC,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const c in i)if(Ko.has(c)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let c=0;c<Ob.length;c++){const d=Ob[c];t[d]!==e[d]&&(l=!0)}l&&ft.read(()=>{y5(n,r),ft.render(()=>{Oy(r,i,jy(n.tagName),t.transformTemplate),mC(n,r)})})}})},w5={useVisualState:lC({scrapeMotionValuesFromProps:Vy,createRenderState:Ly})};function yC(t,e,n){for(const r in e)!vn(e[r])&&!gC(r,n)&&(t[r]=e[r])}function b5({transformTemplate:t},e){return O.useMemo(()=>{const n=Ly();return My(n,e,t),Object.assign({},n.vars,n.style)},[e])}function E5(t,e){const n=t.style||{},r={};return yC(r,n,t),Object.assign(r,b5(t,e)),r}function _5(t,e){const n={},r=E5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function S5(t,e,n,r){const i=O.useMemo(()=>{const o=hC();return Oy(o,e,jy(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};yC(o,t.style,t),i.style={...o,...i.style}}return i}function T5(t=!1){return(n,r,i,{latestValues:o},l)=>{const d=(Ry(n)?S5:_5)(r,o,l,n),f=Bj(r,typeof n=="string",t),m=n!==O.Fragment?{...f,...d,ref:i}:{},{children:g}=r,y=O.useMemo(()=>vn(g)?g.get():g,[g]);return O.createElement(n,{...m,children:y})}}function I5(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Ry(r)?x5:w5,preloadedFeatures:t,useRender:T5(i),createVisualElement:e,Component:r};return Qj(l)}}function xC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function qf(t,e,n){const r=t.getProps();return Ny(r,e,n!==void 0?n:r.custom,t)}const C5=Ty(()=>window.ScrollTimeline!==void 0);class A5{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(C5()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class P5 extends A5{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Fy(t,e){return t?t[e]||t.default||t:void 0}const tv=2e4;function wC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<tv;)e+=n,r=t.next(e);return e>=tv?1/0:e}function By(t){return typeof t=="function"}function Lb(t,e){t.timeline=e,t.onfinish=null}const Uy=t=>Array.isArray(t)&&typeof t[0]=="number",R5={linearEasing:void 0};function N5(t,e){const n=Ty(t);return()=>{var r;return(r=R5[e])!==null&&r!==void 0?r:n()}}const tf=N5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bC=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(ll(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function EC(t){return!!(typeof t=="function"&&tf()||!t||typeof t=="string"&&(t in nv||tf())||Uy(t)||Array.isArray(t)&&t.every(EC))}const kc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,nv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kc([0,.65,.55,1]),circOut:kc([.55,0,1,.45]),backIn:kc([.31,.01,.66,-.59]),backOut:kc([.33,1.53,.69,.99])};function _C(t,e){if(t)return typeof t=="function"&&tf()?bC(t,e):Uy(t)?kc(t):Array.isArray(t)?t.map(n=>_C(n,e)||nv.easeOut):nv[t]}const Dr={x:!1,y:!1};function SC(){return Dr.x||Dr.y}function k5(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function TC(t,e){const n=k5(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function jb(t){return e=>{e.pointerType==="touch"||SC()||t(e)}}function D5(t,e,n={}){const[r,i,o]=TC(t,n),l=jb(c=>{const{target:d}=c,f=e(c);if(typeof f!="function"||!d)return;const m=jb(g=>{f(g),d.removeEventListener("pointerleave",m)});d.addEventListener("pointerleave",m,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const IC=(t,e)=>e?t===e?!0:IC(t,e.parentElement):!1,zy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,M5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function O5(t){return M5.has(t.tagName)||t.tabIndex!==-1}const Dc=new WeakSet;function Vb(t){return e=>{e.key==="Enter"&&t(e)}}function Gm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const L5=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Vb(()=>{if(Dc.has(n))return;Gm(n,"down");const i=Vb(()=>{Gm(n,"up")}),o=()=>Gm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Fb(t){return zy(t)&&!SC()}function j5(t,e,n={}){const[r,i,o]=TC(t,n),l=c=>{const d=c.currentTarget;if(!Fb(c)||Dc.has(d))return;Dc.add(d);const f=e(c),m=(E,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),!(!Fb(E)||!Dc.has(d))&&(Dc.delete(d),typeof f=="function"&&f(E,{success:S}))},g=E=>{m(E,n.useGlobalTarget||IC(d,E.target))},y=E=>{m(E,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return r.forEach(c=>{!O5(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",f=>L5(f,i),i)}),o}function V5(t){return t==="x"||t==="y"?Dr[t]?null:(Dr[t]=!0,()=>{Dr[t]=!1}):Dr.x||Dr.y?null:(Dr.x=Dr.y=!0,()=>{Dr.x=Dr.y=!1})}const CC=new Set(["width","height","top","left","right","bottom",...Tl]);let Ih;function F5(){Ih=void 0}const ri={now:()=>(Ih===void 0&&ri.set(nn.isProcessing||Mj.useManualTiming?nn.timestamp:performance.now()),Ih),set:t=>{Ih=t,queueMicrotask(F5)}};function $y(t,e){t.indexOf(e)===-1&&t.push(e)}function Hy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Wy{constructor(){this.subscriptions=[]}add(e){return $y(this.subscriptions,e),()=>Hy(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function AC(t,e){return e?t*(1e3/e):0}const Bb=30,B5=t=>!isNaN(parseFloat(t));class U5{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=ri.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ri.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=B5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Wy);const r=this.events[e].add(n);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ri.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Bb);return AC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function au(t,e){return new U5(t,e)}function z5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,au(n))}function $5(t,e){const n=qf(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const c=t5(o[l]);z5(t,l,c)}}function H5(t){return!!(vn(t)&&t.add)}function rv(t,e){const n=t.getValue("willChange");if(H5(n))return n.add(e)}function PC(t){return t.props[sC]}const RC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,W5=1e-7,G5=12;function q5(t,e,n,r,i){let o,l,c=0;do l=e+(n-e)/2,o=RC(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>W5&&++c<G5);return l}function Mu(t,e,n,r){if(t===e&&n===r)return Yn;const i=o=>q5(o,0,1,t,n);return o=>o===0||o===1?o:RC(i(o),e,r)}const NC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kC=t=>e=>1-t(1-e),DC=Mu(.33,1.53,.69,.99),Gy=kC(DC),MC=NC(Gy),OC=t=>(t*=2)<1?.5*Gy(t):.5*(2-Math.pow(2,-10*(t-1))),qy=t=>1-Math.sin(Math.acos(t)),LC=kC(qy),jC=NC(qy),VC=t=>/^0[^.\s]+$/u.test(t);function K5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VC(t):!0}const $c=t=>Math.round(t*1e5)/1e5,Ky=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Q5(t){return t==null}const Y5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qy=(t,e)=>n=>!!(typeof n=="string"&&Y5.test(n)&&n.startsWith(t)||e&&!Q5(n)&&Object.prototype.hasOwnProperty.call(n,e)),FC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,c]=r.match(Ky);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},X5=t=>ji(0,255,t),qm={...Il,transform:t=>Math.round(X5(t))},No={test:Qy("rgb","red"),parse:FC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qm.transform(t)+", "+qm.transform(e)+", "+qm.transform(n)+", "+$c(ou.transform(r))+")"};function J5(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const iv={test:Qy("#"),parse:J5,transform:No.transform},Ga={test:Qy("hsl","hue"),parse:FC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ni.transform($c(e))+", "+ni.transform($c(n))+", "+$c(ou.transform(r))+")"},fn={test:t=>No.test(t)||iv.test(t)||Ga.test(t),parse:t=>No.test(t)?No.parse(t):Ga.test(t)?Ga.parse(t):iv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?No.transform(t):Ga.transform(t)},Z5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ky))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Z5))===null||n===void 0?void 0:n.length)||0)>0}const BC="number",UC="color",tV="var",nV="var(",Ub="${}",rV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const c=e.replace(rV,d=>(fn.test(d)?(r.color.push(o),i.push(UC),n.push(fn.parse(d))):d.startsWith(nV)?(r.var.push(o),i.push(tV),n.push(d)):(r.number.push(o),i.push(BC),n.push(parseFloat(d))),++o,Ub)).split(Ub);return{values:n,split:c,indexes:r,types:i}}function zC(t){return lu(t).values}function $C(t){const{split:e,types:n}=lu(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const c=n[l];c===BC?o+=$c(i[l]):c===UC?o+=fn.transform(i[l]):o+=i[l]}return o}}const iV=t=>typeof t=="number"?0:t;function sV(t){const e=zC(t);return $C(t)(e.map(iV))}const js={test:eV,parse:zC,createTransformer:$C,getAnimatableNone:sV},oV=new Set(["brightness","contrast","saturate","opacity"]);function aV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ky)||[];if(!r)return t;const i=n.replace(r,"");let o=oV.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const lV=/\b([a-z-]*)\(.*?\)/gu,sv={...js,getAnimatableNone:t=>{const e=t.match(lV);return e?e.map(aV).join(" "):t}},cV={...Dy,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:sv,WebkitFilter:sv},Yy=t=>cV[t];function HC(t,e){let n=Yy(t);return n!==sv&&(n=js),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uV=new Set(["auto","none","0"]);function dV(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!uV.has(o)&&lu(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=HC(n,i)}const zb=t=>t===Il||t===Ne,$b=(t,e)=>parseFloat(t.split(", ")[e]),Hb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return $b(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?$b(o[1],t):0}},hV=new Set(["x","y","z"]),fV=Tl.filter(t=>!hV.has(t));function pV(t){const e=[];return fV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ul={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Hb(4,13),y:Hb(5,14)};ul.translateX=ul.x;ul.translateY=ul.y;const Do=new Set;let ov=!1,av=!1;function WC(){if(av){const t=Array.from(Do).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=pV(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{var c;(c=r.getValue(o))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}av=!1,ov=!1,Do.forEach(t=>t.complete()),Do.clear()}function GC(){Do.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(av=!0)})}function mV(){GC(),WC()}class Xy{constructor(e,n,r,i,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Do.add(this),ov||(ov=!0,ft.read(GC),ft.resolveKeyframes(WC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const d=r.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Do.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Do.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const qC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),gV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vV(t){const e=gV.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function KC(t,e,n=1){const[r,i]=vV(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return qC(l)?parseFloat(l):l}return ky(i)?KC(i,e,n+1):i}const QC=t=>e=>e.test(t),yV={test:t=>t==="auto",parse:t=>t},YC=[Il,Ne,ni,fs,a5,o5,yV],Wb=t=>YC.find(QC(t));class XC extends Xy{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),ky(f))){const m=KC(f,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!CC.has(r)||e.length!==2)return;const[i,o]=e,l=Wb(i),c=Wb(o);if(l!==c)if(zb(l)&&zb(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)K5(e[i])&&r.push(i);r.length&&dV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ul[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=ul[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,f])=>{n.getValue(d).set(f)}),this.resolveNoneKeyframes()}}const Gb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(js.test(t)||t==="0")&&!t.startsWith("url("));function xV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function wV(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=Gb(i,e),c=Gb(o,e);return!l||!c?!1:xV(t)||(n==="spring"||By(n))&&r}const bV=t=>t!==null;function Kf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(bV),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const EV=40;class JC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ri.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>EV?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&mV(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ri.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:l,onComplete:c,onUpdate:d,isGenerator:f}=this.options;if(!f&&!wV(e,r,i,o))if(l)this.options.duration=0;else{d&&d(Kf(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const xt=(t,e,n)=>t+(e-t)*n;function Km(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _V({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=Km(d,c,t+1/3),o=Km(d,c,t),l=Km(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function nf(t,e){return n=>n>0?e:t}const Qm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},SV=[iv,No,Ga],TV=t=>SV.find(e=>e.test(t));function qb(t){const e=TV(t);if(!e)return!1;let n=e.parse(t);return e===Ga&&(n=_V(n)),n}const Kb=(t,e)=>{const n=qb(t),r=qb(e);if(!n||!r)return nf(t,e);const i={...n};return o=>(i.red=Qm(n.red,r.red,o),i.green=Qm(n.green,r.green,o),i.blue=Qm(n.blue,r.blue,o),i.alpha=xt(n.alpha,r.alpha,o),No.transform(i))},IV=(t,e)=>n=>e(t(n)),Ou=(...t)=>t.reduce(IV),lv=new Set(["none","hidden"]);function CV(t,e){return lv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function AV(t,e){return n=>xt(t,e,n)}function Jy(t){return typeof t=="number"?AV:typeof t=="string"?ky(t)?nf:fn.test(t)?Kb:NV:Array.isArray(t)?ZC:typeof t=="object"?fn.test(t)?Kb:PV:nf}function ZC(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>Jy(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function PV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Jy(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function RV(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=t.indexes[l][i[l]],d=(n=t.values[c])!==null&&n!==void 0?n:0;r[o]=d,i[l]++}return r}const NV=(t,e)=>{const n=js.createTransformer(e),r=lu(t),i=lu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?lv.has(t)&&!i.values.length||lv.has(e)&&!r.values.length?CV(t,e):Ou(ZC(RV(r,i),i.values),n):nf(t,e)};function eA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):Jy(t)(t,e)}const kV=5;function tA(t,e,n){const r=Math.max(e-kV,0);return AC(n-t(r),e-r)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ym=.001;function DV({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:r=Et.mass}){let i,o,l=1-e;l=ji(Et.minDamping,Et.maxDamping,l),t=ji(Et.minDuration,Et.maxDuration,Ni(t)),l<1?(i=f=>{const m=f*l,g=m*t,y=m-n,E=cv(f,l),S=Math.exp(-g);return Ym-y/E*S},o=f=>{const g=f*l*t,y=g*n+n,E=Math.pow(l,2)*Math.pow(f,2)*t,S=Math.exp(-g),C=cv(Math.pow(f,2),l);return(-i(f)+Ym>0?-1:1)*((y-E)*S)/C}):(i=f=>{const m=Math.exp(-f*t),g=(f-n)*t+1;return-Ym+m*g},o=f=>{const m=Math.exp(-f*t),g=(n-f)*(t*t);return m*g});const c=5/t,d=OV(i,o,c);if(t=Ri(t),isNaN(d))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const MV=12;function OV(t,e,n){let r=n;for(let i=1;i<MV;i++)r=r-t(r)/e(r);return r}function cv(t,e){return t*Math.sqrt(1-e*e)}const LV=["duration","bounce"],jV=["stiffness","damping","mass"];function Qb(t,e){return e.some(n=>t[n]!==void 0)}function VV(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!Qb(t,jV)&&Qb(t,LV))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*ji(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Et.mass,stiffness:i,damping:o}}else{const n=DV(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function nA(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:f,mass:m,duration:g,velocity:y,isResolvedFromDuration:E}=VV({...n,velocity:-Ni(n.velocity||0)}),S=y||0,C=f/(2*Math.sqrt(d*m)),I=l-o,L=Ni(Math.sqrt(d/m)),P=Math.abs(I)<5;r||(r=P?Et.restSpeed.granular:Et.restSpeed.default),i||(i=P?Et.restDelta.granular:Et.restDelta.default);let M;if(C<1){const V=cv(L,C);M=G=>{const R=Math.exp(-C*L*G);return l-R*((S+C*L*I)/V*Math.sin(V*G)+I*Math.cos(V*G))}}else if(C===1)M=V=>l-Math.exp(-L*V)*(I+(S+L*I)*V);else{const V=L*Math.sqrt(C*C-1);M=G=>{const R=Math.exp(-C*L*G),A=Math.min(V*G,300);return l-R*((S+C*L*I)*Math.sinh(A)+V*I*Math.cosh(A))/V}}const z={calculatedDuration:E&&g||null,next:V=>{const G=M(V);if(E)c.done=V>=g;else{let R=0;C<1&&(R=V===0?Ri(S):tA(M,V,G));const A=Math.abs(R)<=r,k=Math.abs(l-G)<=i;c.done=A&&k}return c.value=c.done?l:G,c},toString:()=>{const V=Math.min(wC(z),tv),G=bC(R=>z.next(V*R).value,V,30);return V+"ms "+G}};return z}function Yb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:f=.5,restSpeed:m}){const g=t[0],y={done:!1,value:g},E=A=>c!==void 0&&A<c||d!==void 0&&A>d,S=A=>c===void 0?d:d===void 0||Math.abs(c-A)<Math.abs(d-A)?c:d;let C=n*e;const I=g+C,L=l===void 0?I:l(I);L!==I&&(C=L-g);const P=A=>-C*Math.exp(-A/r),M=A=>L+P(A),z=A=>{const k=P(A),j=M(A);y.done=Math.abs(k)<=f,y.value=y.done?L:j};let V,G;const R=A=>{E(y.value)&&(V=A,G=nA({keyframes:[y.value,S(y.value)],velocity:tA(M,A,y.value),damping:i,stiffness:o,restDelta:f,restSpeed:m}))};return R(0),{calculatedDuration:null,next:A=>{let k=!1;return!G&&V===void 0&&(k=!0,z(A),R(A)),V!==void 0&&A>=V?G.next(A-V):(!k&&z(A),y)}}}const FV=Mu(.42,0,1,1),BV=Mu(0,0,.58,1),rA=Mu(.42,0,.58,1),UV=t=>Array.isArray(t)&&typeof t[0]!="number",zV={linear:Yn,easeIn:FV,easeInOut:rA,easeOut:BV,circIn:qy,circInOut:jC,circOut:LC,backIn:Gy,backInOut:MC,backOut:DC,anticipate:OC},Xb=t=>{if(Uy(t)){eC(t.length===4);const[e,n,r,i]=t;return Mu(e,n,r,i)}else if(typeof t=="string")return zV[t];return t};function $V(t,e,n){const r=[],i=n||eA,o=t.length-1;for(let l=0;l<o;l++){let c=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Yn:e;c=Ou(d,c)}r.push(c)}return r}function HV(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(eC(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=$V(e,r,i),d=c.length,f=m=>{if(l&&m<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const y=ll(t[g],t[g+1],m);return c[g](y)};return n?m=>f(ji(t[0],t[o-1],m)):f}function WV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ll(0,e,r);t.push(xt(n,1,i))}}function GV(t){const e=[0];return WV(e,t.length-1),e}function qV(t,e){return t.map(n=>n*e)}function KV(t,e){return t.map(()=>e||rA).splice(0,t.length-1)}function rf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=UV(r)?r.map(Xb):Xb(r),o={done:!1,value:e[0]},l=qV(n&&n.length===e.length?n:GV(e),t),c=HV(l,e,{ease:Array.isArray(i)?i:KV(e,i)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const QV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ft.update(e,!0),stop:()=>Ls(e),now:()=>nn.isProcessing?nn.timestamp:ri.now()}},YV={decay:Yb,inertia:Yb,tween:rf,keyframes:rf,spring:nA},XV=t=>t/100;class Zy extends JC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,l=(i==null?void 0:i.KeyframeResolver)||Xy,c=(d,f)=>this.onKeyframesResolved(d,f);this.resolver=new l(o,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=this.options,c=By(n)?n:YV[n]||rf;let d,f;c!==rf&&typeof e[0]!="number"&&(d=Ou(XV,eA(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});o==="mirror"&&(f=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=wC(m));const{calculatedDuration:g}=m,y=g+i,E=y*(r+1)-i;return{generator:m,mirroredGenerator:f,mapPercentToKeyframes:d,calculatedDuration:g,resolvedDuration:y,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:f,totalDuration:m,resolvedDuration:g}=r;if(this.startTime===null)return o.next(0);const{delay:y,repeat:E,repeatType:S,repeatDelay:C,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const L=this.currentTime-y*(this.speed>=0?1:-1),P=this.speed>=0?L<0:L>m;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let M=this.currentTime,z=o;if(E){const A=Math.min(this.currentTime,m)/g;let k=Math.floor(A),j=A%1;!j&&A>=1&&(j=1),j===1&&k--,k=Math.min(k,E+1),!!(k%2)&&(S==="reverse"?(j=1-j,C&&(j-=C/g)):S==="mirror"&&(z=l)),M=ji(0,1,j)*g}const V=P?{done:!1,value:d[0]}:z.next(M);c&&(V.value=c(V.value));let{done:G}=V;!P&&f!==null&&(G=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return R&&i!==void 0&&(V.value=Kf(d,this.options,i)),I&&I(V.value),R&&this.finish(),V}get duration(){const{resolved:e}=this;return e?Ni(e.calculatedDuration):0}get time(){return Ni(this.currentTime)}set time(e){e=Ri(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ni(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=QV,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const JV=new Set(["opacity","clipPath","filter","transform"]);function ZV(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const f={[e]:n};d&&(f.offset=d);const m=_C(c,i);return Array.isArray(m)&&(f.easing=m),t.animate(f,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const e6=Ty(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sf=10,t6=2e4;function n6(t){return By(t.type)||t.type==="spring"||!EC(t.ease)}function r6(t,e){const n=new Zy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<t6;)r=n.sample(o),i.push(r.value),o+=sf;return{times:void 0,keyframes:i,duration:o-sf,ease:"linear"}}const iA={anticipate:OC,backInOut:MC,circInOut:jC};function i6(t){return t in iA}class Jb extends JC{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new XC(o,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:l,motionValue:c,name:d,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&tf()&&i6(o)&&(o=iA[o]),n6(this.options)){const{onComplete:g,onUpdate:y,motionValue:E,element:S,...C}=this.options,I=r6(e,C);e=I.keyframes,e.length===1&&(e[1]=e[0]),r=I.duration,i=I.times,o=I.ease,l="keyframes"}const m=ZV(c.owner.current,d,e,{...this.options,duration:r,times:i,ease:o});return m.startTime=f??this.calcStartTime(),this.pendingTimeline?(Lb(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;c.set(Kf(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ni(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ni(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ri(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Yn;const{animation:r}=n;Lb(r,e)}return Yn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:m,onComplete:g,element:y,...E}=this.options,S=new Zy({...E,keyframes:r,duration:i,type:o,ease:l,times:c,isGenerator:!0}),C=Ri(this.time);f.setWithVelocity(S.sample(C-sf).value,S.sample(C).value,sf)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=n.owner.getProps();return e6()&&r&&JV.has(r)&&!d&&!f&&!i&&o!=="mirror"&&l!==0&&c!=="inertia"}}const s6={type:"spring",stiffness:500,damping:25,restSpeed:10},o6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),a6={type:"keyframes",duration:.8},l6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},c6=(t,{keyframes:e})=>e.length>2?a6:Ko.has(t)?t.startsWith("scale")?o6(e[1]):s6:l6;function u6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const e0=(t,e,n,r={},i,o)=>l=>{const c=Fy(r,t)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ri(d);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:i};u6(c)||(m={...m,...c6(t,m)}),m.duration&&(m.duration=Ri(m.duration)),m.repeatDelay&&(m.repeatDelay=Ri(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!o&&e.get()!==void 0){const y=Kf(m.keyframes,c);if(y!==void 0)return ft.update(()=>{m.onUpdate(y),m.onComplete()}),new P5([])}return!o&&Jb.supports(m)?new Jb(m):new Zy(m)};function d6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(l=r);const f=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const g in d){const y=t.getValue(g,(o=t.latestValues[g])!==null&&o!==void 0?o:null),E=d[g];if(E===void 0||m&&d6(m,g))continue;const S={delay:n,...Fy(l||{},g)};let C=!1;if(window.MotionHandoffAnimation){const L=PC(t);if(L){const P=window.MotionHandoffAnimation(L,g,ft);P!==null&&(S.startTime=P,C=!0)}}rv(t,g),y.start(e0(g,y,E,t.shouldReduceMotion&&CC.has(g)?{type:!1}:S,t,C));const I=y.animation;I&&f.push(I)}return c&&Promise.all(f).then(()=>{ft.update(()=>{c&&$5(t,c)})}),f}function uv(t,e,n={}){var r;const i=qf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>Promise.all(sA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=o;return h6(t,e,m+f,g,y,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,m]=d==="beforeChildren"?[l,c]:[c,l];return f().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function h6(t,e,n=0,r=0,i=1,o){const l=[],c=(t.variantChildren.size-1)*r,d=i===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(t.variantChildren).sort(f6).forEach((f,m)=>{f.notify("AnimationStart",e),l.push(uv(f,e,{...o,delay:n+d(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function f6(t,e){return t.sortNodePosition(e)}function p6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>uv(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=uv(t,e,n);else{const i=typeof e=="function"?qf(t,e,n.custom):e;r=Promise.all(sA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const m6=Cy.length;function oA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?oA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<m6;n++){const r=Cy[n],i=t.props[r];(su(i)||i===!1)&&(e[r]=i)}return e}const g6=[...Iy].reverse(),v6=Iy.length;function y6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>p6(t,n,r)))}function x6(t){let e=y6(t),n=Zb(),r=!0;const i=d=>(f,m)=>{var g;const y=qf(t,m,d==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(y){const{transition:E,transitionEnd:S,...C}=y;f={...f,...C,...S}}return f};function o(d){e=d(t)}function l(d){const{props:f}=t,m=oA(t.parent)||{},g=[],y=new Set;let E={},S=1/0;for(let I=0;I<v6;I++){const L=g6[I],P=n[L],M=f[L]!==void 0?f[L]:m[L],z=su(M),V=L===d?P.isActive:null;V===!1&&(S=I);let G=M===m[L]&&M!==f[L]&&z;if(G&&r&&t.manuallyAnimateOnMount&&(G=!1),P.protectedKeys={...E},!P.isActive&&V===null||!M&&!P.prevProp||Wf(M)||typeof M=="boolean")continue;const R=w6(P.prevProp,M);let A=R||L===d&&P.isActive&&!G&&z||I>S&&z,k=!1;const j=Array.isArray(M)?M:[M];let U=j.reduce(i(L),{});V===!1&&(U={});const{prevResolvedValues:F={}}=P,N={...F,...U},ae=ve=>{A=!0,y.has(ve)&&(k=!0,y.delete(ve)),P.needsAnimating[ve]=!0;const Z=t.getValue(ve);Z&&(Z.liveStyle=!1)};for(const ve in N){const Z=U[ve],ue=F[ve];if(E.hasOwnProperty(ve))continue;let ie=!1;ev(Z)&&ev(ue)?ie=!xC(Z,ue):ie=Z!==ue,ie?Z!=null?ae(ve):y.add(ve):Z!==void 0&&y.has(ve)?ae(ve):P.protectedKeys[ve]=!0}P.prevProp=M,P.prevResolvedValues=U,P.isActive&&(E={...E,...U}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(G&&R)||k)&&g.push(...j.map(ve=>({animation:ve,options:{type:L}})))}if(y.size){const I={};y.forEach(L=>{const P=t.getBaseTarget(L),M=t.getValue(L);M&&(M.liveStyle=!0),I[L]=P??null}),g.push({animation:I})}let C=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(g):Promise.resolve()}function c(d,f){var m;if(n[d].isActive===f)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(y=>{var E;return(E=y.animationState)===null||E===void 0?void 0:E.setActive(d,f)}),n[d].isActive=f;const g=l(d);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Zb(),r=!0}}}function w6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xC(e,t):!1}function bo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zb(){return{animate:bo(!0),whileInView:bo(),whileHover:bo(),whileTap:bo(),whileDrag:bo(),whileFocus:bo(),exit:bo()}}class Ws{constructor(e){this.isMounted=!1,this.node=e}update(){}}class b6 extends Ws{constructor(e){super(e),e.animationState||(e.animationState=x6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let E6=0;class _6 extends Ws{constructor(){super(...arguments),this.id=E6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const S6={animation:{Feature:b6},exit:{Feature:_6}};function cu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lu(t){return{point:{x:t.pageX,y:t.pageY}}}const T6=t=>e=>zy(e)&&t(e,Lu(e));function Hc(t,e,n,r){return cu(t,e,T6(n),r)}const eE=(t,e)=>Math.abs(t-e);function I6(t,e){const n=eE(t.x,e.x),r=eE(t.y,e.y);return Math.sqrt(n**2+r**2)}class aA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Jm(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,E=I6(g.offset,{x:0,y:0})>=3;if(!y&&!E)return;const{point:S}=g,{timestamp:C}=nn;this.history.push({...S,timestamp:C});const{onStart:I,onMove:L}=this.handlers;y||(I&&I(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Xm(y,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:E,onSessionEnd:S,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Jm(g.type==="pointercancel"?this.lastMoveEventInfo:Xm(y,this.transformPagePoint),this.history);this.startEvent&&E&&E(g,I),S&&S(g,I)},!zy(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Lu(e),c=Xm(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=nn;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Jm(c,this.history)),this.removeListeners=Ou(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ls(this.updatePoint)}}function Xm(t,e){return e?{point:e(t.point)}:t}function tE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jm({point:t},e){return{point:t,delta:tE(t,lA(e)),offset:tE(t,C6(e)),velocity:A6(e,.1)}}function C6(t){return t[0]}function lA(t){return t[t.length-1]}function A6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=lA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ri(e)));)n--;if(!r)return{x:0,y:0};const o=Ni(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const cA=1e-4,P6=1-cA,R6=1+cA,uA=.01,N6=0-uA,k6=0+uA;function Zn(t){return t.max-t.min}function D6(t,e,n){return Math.abs(t-e)<=n}function nE(t,e,n,r=.5){t.origin=r,t.originPoint=xt(e.min,e.max,t.origin),t.scale=Zn(n)/Zn(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=P6&&t.scale<=R6||isNaN(t.scale))&&(t.scale=1),(t.translate>=N6&&t.translate<=k6||isNaN(t.translate))&&(t.translate=0)}function Wc(t,e,n,r){nE(t.x,e.x,n.x,r?r.originX:void 0),nE(t.y,e.y,n.y,r?r.originY:void 0)}function rE(t,e,n){t.min=n.min+e.min,t.max=t.min+Zn(e)}function M6(t,e,n){rE(t.x,e.x,n.x),rE(t.y,e.y,n.y)}function iE(t,e,n){t.min=e.min-n.min,t.max=t.min+Zn(e)}function Gc(t,e,n){iE(t.x,e.x,n.x),iE(t.y,e.y,n.y)}function O6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xt(n,t,r.max):Math.min(t,n)),t}function sE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function L6(t,{top:e,left:n,bottom:r,right:i}){return{x:sE(t.x,n,i),y:sE(t.y,e,r)}}function oE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function j6(t,e){return{x:oE(t.x,e.x),y:oE(t.y,e.y)}}function V6(t,e){let n=.5;const r=Zn(t),i=Zn(e);return i>r?n=ll(e.min,e.max-r,t.min):r>i&&(n=ll(t.min,t.max-i,e.min)),ji(0,1,n)}function F6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dv=.35;function B6(t=dv){return t===!1?t=0:t===!0&&(t=dv),{x:aE(t,"left","right"),y:aE(t,"top","bottom")}}function aE(t,e,n){return{min:lE(t,e),max:lE(t,n)}}function lE(t,e){return typeof t=="number"?t:t[e]||0}const cE=()=>({translate:0,scale:1,origin:0,originPoint:0}),qa=()=>({x:cE(),y:cE()}),uE=()=>({min:0,max:0}),Tt=()=>({x:uE(),y:uE()});function fr(t){return[t("x"),t("y")]}function dA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function U6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function z6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zm(t){return t===void 0||t===1}function hv({scale:t,scaleX:e,scaleY:n}){return!Zm(t)||!Zm(e)||!Zm(n)}function Io(t){return hv(t)||hA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hA(t){return dE(t.x)||dE(t.y)}function dE(t){return t&&t!=="0%"}function of(t,e,n){const r=t-n,i=e*r;return n+i}function hE(t,e,n,r,i){return i!==void 0&&(t=of(t,i,r)),of(t,n,r)+e}function fv(t,e=0,n=1,r,i){t.min=hE(t.min,e,n,r,i),t.max=hE(t.max,e,n,r,i)}function fA(t,{x:e,y:n}){fv(t.x,e.translate,e.scale,e.originPoint),fv(t.y,n.translate,n.scale,n.originPoint)}const fE=.999999999999,pE=1.0000000000001;function $6(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qa(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,fA(t,l)),r&&Io(o.latestValues)&&Qa(t,o.latestValues))}e.x<pE&&e.x>fE&&(e.x=1),e.y<pE&&e.y>fE&&(e.y=1)}function Ka(t,e){t.min=t.min+e,t.max=t.max+e}function mE(t,e,n,r,i=.5){const o=xt(t.min,t.max,i);fv(t,e,n,o,r)}function Qa(t,e){mE(t.x,e.x,e.scaleX,e.scale,e.originX),mE(t.y,e.y,e.scaleY,e.scale,e.originY)}function pA(t,e){return dA(z6(t.getBoundingClientRect(),e))}function H6(t,e,n){const r=pA(t,n),{scroll:i}=e;return i&&(Ka(r.x,i.offset.x),Ka(r.y,i.offset.y)),r}const mA=({current:t})=>t?t.ownerDocument.defaultView:null,W6=new WeakMap;class G6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lu(m).point)},o=(m,g)=>{const{drag:y,dragPropagation:E,onDragStart:S}=this.getProps();if(y&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=V5(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fr(I=>{let L=this.getAxisMotionValue(I).get()||0;if(ni.test(L)){const{projection:P}=this.visualElement;if(P&&P.layout){const M=P.layout.layoutBox[I];M&&(L=Zn(M)*(parseFloat(L)/100))}}this.originPoint[I]=L}),S&&ft.postRender(()=>S(m,g)),rv(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(m,g)=>{const{dragPropagation:y,dragDirectionLock:E,onDirectionLock:S,onDrag:C}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:I}=g;if(E&&this.currentDirection===null){this.currentDirection=q6(I),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,I),this.updateAxis("y",g.point,I),this.visualElement.render(),C&&C(m,g)},c=(m,g)=>this.stop(m,g),d=()=>fr(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new aA(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:mA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ft.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!uh(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=O6(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Wa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=L6(i.layoutBox,n):this.constraints=!1,this.elastic=B6(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&fr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=F6(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=H6(r,i.root,this.visualElement.getTransformPagePoint());let l=j6(i.layout.layoutBox,o);if(n){const c=n(U6(l));this.hasMutatedConstraints=!!c,c&&(l=dA(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=fr(m=>{if(!uh(m,n,this.currentDirection))return;let g=d&&d[m]||{};l&&(g={min:0,max:0});const y=i?200:1e6,E=i?40:1e7,S={type:"inertia",velocity:r?e[m]:0,bounceStiffness:y,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return rv(this.visualElement,e),r.start(e0(e,r,0,n,this.visualElement,!1))}stopAnimation(){fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fr(n=>{const{drag:r}=this.getProps();if(!uh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(e[n]-xt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=V6({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fr(l=>{if(!uh(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];c.set(xt(d,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;W6.set(this.visualElement,this);const e=this.visualElement.current,n=Hc(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Wa(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ft.read(r);const l=cu(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(fr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=dv,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function uh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function q6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class K6 extends Ws{constructor(e){super(e),this.removeGroupControls=Yn,this.removeListeners=Yn,this.controls=new G6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const gE=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class Q6 extends Ws{constructor(){super(...arguments),this.removePointerDownListener=Yn}onPointerDown(e){this.session=new aA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:gE(e),onStart:gE(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&ft.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ch={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _c={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=vE(t,e.target.x),r=vE(t,e.target.y);return`${n}% ${r}%`}},Y6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=js.parse(t);if(i.length>5)return r;const o=js.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const f=xt(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}};class X6 extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;v5(J6),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ch.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||ft.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Py.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gA(t){const[e,n]=kj(),r=O.useContext(JI);return v.jsx(X6,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(oC),isPresent:e,safeToRemove:n})}const J6={borderRadius:{..._c,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_c,borderTopRightRadius:_c,borderBottomLeftRadius:_c,borderBottomRightRadius:_c,boxShadow:Y6};function Z6(t,e,n){const r=vn(t)?t:au(t);return r.start(e0("",r,e,n)),r.animation}function eF(t){return t instanceof SVGElement&&t.tagName!=="svg"}const tF=(t,e)=>t.depth-e.depth;class nF{constructor(){this.children=[],this.isDirty=!1}add(e){$y(this.children,e),this.isDirty=!0}remove(e){Hy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tF),this.isDirty=!1,this.children.forEach(e)}}function rF(t,e){const n=ri.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Ls(r),t(o-e))};return ft.read(r,!0),()=>Ls(r)}const vA=["TopLeft","TopRight","BottomLeft","BottomRight"],iF=vA.length,yE=t=>typeof t=="string"?parseFloat(t):t,xE=t=>typeof t=="number"||Ne.test(t);function sF(t,e,n,r,i,o){i?(t.opacity=xt(0,n.opacity!==void 0?n.opacity:1,oF(r)),t.opacityExit=xt(e.opacity!==void 0?e.opacity:1,0,aF(r))):o&&(t.opacity=xt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<iF;l++){const c=`border${vA[l]}Radius`;let d=wE(e,c),f=wE(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||xE(d)===xE(f)?(t[c]=Math.max(xt(yE(d),yE(f),r),0),(ni.test(f)||ni.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,r))}function wE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oF=yA(0,.5,LC),aF=yA(.5,.95,Yn);function yA(t,e,n){return r=>r<t?0:r>e?1:n(ll(t,e,r))}function bE(t,e){t.min=e.min,t.max=e.max}function dr(t,e){bE(t.x,e.x),bE(t.y,e.y)}function EE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _E(t,e,n,r,i){return t-=e,t=of(t,1/n,r),i!==void 0&&(t=of(t,1/i,r)),t}function lF(t,e=0,n=1,r=.5,i,o=t,l=t){if(ni.test(e)&&(e=parseFloat(e),e=xt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=xt(o.min,o.max,r);t===o&&(c-=e),t.min=_E(t.min,e,n,c,i),t.max=_E(t.max,e,n,c,i)}function SE(t,e,[n,r,i],o,l){lF(t,e[n],e[r],e[i],e.scale,o,l)}const cF=["x","scaleX","originX"],uF=["y","scaleY","originY"];function TE(t,e,n,r){SE(t.x,e,cF,n?n.x:void 0,r?r.x:void 0),SE(t.y,e,uF,n?n.y:void 0,r?r.y:void 0)}function IE(t){return t.translate===0&&t.scale===1}function xA(t){return IE(t.x)&&IE(t.y)}function CE(t,e){return t.min===e.min&&t.max===e.max}function dF(t,e){return CE(t.x,e.x)&&CE(t.y,e.y)}function AE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function wA(t,e){return AE(t.x,e.x)&&AE(t.y,e.y)}function PE(t){return Zn(t.x)/Zn(t.y)}function RE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hF{constructor(){this.members=[]}add(e){$y(this.members,e),e.scheduleRender()}remove(e){if(Hy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fF(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:g,rotateY:y,skewX:E,skewY:S}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),E&&(r+=`skewX(${E}deg) `),S&&(r+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Co={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Mc=typeof window<"u"&&window.MotionDebug!==void 0,eg=["","X","Y","Z"],pF={visibility:"hidden"},NE=1e3;let mF=0;function tg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=PC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bA(r)}function EA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=mF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mc&&(Co.totalNodes=Co.resolvedTargetDeltas=Co.recalculatedProjection=0),this.nodes.forEach(yF),this.nodes.forEach(_F),this.nodes.forEach(SF),this.nodes.forEach(xF),Mc&&window.MotionDebug.record(Co)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new nF)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Wy),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=eF(l),this.instance=l;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||d)&&(this.isLayoutDirty=!0),t){let g;const y=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=rF(y,250),Ch.hasAnimatedSinceResize&&(Ch.hasAnimatedSinceResize=!1,this.nodes.forEach(DE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeTargetChanged:E,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||PF,{onLayoutAnimationStart:I,onLayoutAnimationComplete:L}=m.getProps(),P=!this.targetLayout||!wA(this.targetLayout,S)||E,M=!y&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||y&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,M);const z={...Fy(C,"layout"),onPlay:I,onComplete:L};(m.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z)}else y||DE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kE);return}this.isUpdating||this.nodes.forEach(bF),this.isUpdating=!1,this.nodes.forEach(EF),this.nodes.forEach(gF),this.nodes.forEach(vF),this.clearAllSnapshots();const c=ri.now();nn.delta=ji(0,1e3/60,c-nn.timestamp),nn.timestamp=c,nn.isProcessing=!0,Wm.update.process(nn),Wm.preRender.process(nn),Wm.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Py.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wF),this.sharedNodes.forEach(IF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!xA(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&(c||Io(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),RF(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Tt();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(NF))){const{scroll:m}=this.root;m&&(Ka(d.x,m.offset.x),Ka(d.y,m.offset.y))}return d}removeElementScroll(l){var c;const d=Tt();if(dr(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:y}=m;m!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&dr(d,l),Ka(d.x,g.offset.x),Ka(d.y,g.offset.y))}return d}applyTransform(l,c=!1){const d=Tt();dr(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Qa(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Io(m.latestValues)&&Qa(d,m.latestValues)}return Io(this.latestValues)&&Qa(d,this.latestValues),d}removeTransform(l){const c=Tt();dr(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Io(f.latestValues))continue;hv(f.latestValues)&&f.updateSnapshot();const m=Tt(),g=f.measurePageBox();dr(m,g),TE(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Io(this.latestValues)&&TE(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Gc(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dr(this.target,this.layout.layoutBox),fA(this.target,this.targetDelta)):dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Gc(this.relativeTargetOrigin,this.target,E.target),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mc&&Co.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hv(this.parent.latestValues)||hA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;dr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,E=this.treeScale.y;$6(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Tt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EE(this.prevProjectionDelta.x,this.projectionDelta.x),EE(this.prevProjectionDelta.y,this.projectionDelta.y)),Wc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==E||!RE(this.projectionDelta.x,this.prevProjectionDelta.x)||!RE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Mc&&Co.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qa(),this.projectionDelta=qa(),this.projectionDeltaWithTransform=qa()}setAnimationOrigin(l,c=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},g=qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Tt(),E=d?d.source:void 0,S=this.layout?this.layout.source:void 0,C=E!==S,I=this.getStack(),L=!I||I.members.length<=1,P=!!(C&&!L&&this.options.crossfade===!0&&!this.path.some(AF));this.animationProgress=0;let M;this.mixTargetDelta=z=>{const V=z/1e3;ME(g.x,l.x,V),ME(g.y,l.y,V),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gc(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CF(this.relativeTarget,this.relativeTargetOrigin,y,V),M&&dF(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Tt()),dr(M,this.relativeTarget)),C&&(this.animationValues=m,sF(m,f,this.latestValues,V,P,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Ch.hasAnimatedSinceResize=!0,this.currentAnimation=Z6(0,NE,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:m}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&_A(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Tt();const g=Zn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const y=Zn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+y}dr(c,d),Qa(c,m),Wc(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new hF),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&tg("z",l,f,this.animationValues);for(let m=0;m<eg.length;m++)tg(`rotate${eg[m]}`,l,f,this.animationValues),tg(`skew${eg[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pF;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Th(l==null?void 0:l.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Th(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Io(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),f.transform=fF(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:E,y:S}=this.projectionDelta;f.transformOrigin=`${E.origin*100}% ${S.origin*100}% 0`,g.animationValues?f.opacity=g===this?(d=(c=y.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in ef){if(y[C]===void 0)continue;const{correct:I,applyTo:L}=ef[C],P=f.transform==="none"?y[C]:I(y[C],g);if(L){const M=L.length;for(let z=0;z<M;z++)f[L[z]]=P}else f[C]=P}return this.options.layoutId&&(f.pointerEvents=g===this?Th(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(kE),this.root.sharedNodes.clear()}}}function gF(t){t.updateLayout()}function vF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?fr(g=>{const y=l?n.measuredBox[g]:n.layoutBox[g],E=Zn(y);y.min=r[g].min,y.max=y.min+E}):_A(o,n.layoutBox,r)&&fr(g=>{const y=l?n.measuredBox[g]:n.layoutBox[g],E=Zn(r[g]);y.max=y.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+E)});const c=qa();Wc(c,r,n.layoutBox);const d=qa();l?Wc(d,t.applyTransform(i,!0),n.measuredBox):Wc(d,r,n.layoutBox);const f=!xA(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:E}=g;if(y&&E){const S=Tt();Gc(S,n.layoutBox,y.layoutBox);const C=Tt();Gc(C,r,E.layoutBox),wA(S,C)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function yF(t){Mc&&Co.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function wF(t){t.clearSnapshot()}function kE(t){t.clearMeasurements()}function bF(t){t.isLayoutDirty=!1}function EF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _F(t){t.resolveTargetDelta()}function SF(t){t.calcProjection()}function TF(t){t.resetSkewAndRotation()}function IF(t){t.removeLeadSnapshot()}function ME(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function OE(t,e,n,r){t.min=xt(e.min,n.min,r),t.max=xt(e.max,n.max,r)}function CF(t,e,n,r){OE(t.x,e.x,n.x,r),OE(t.y,e.y,n.y,r)}function AF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const PF={duration:.45,ease:[.4,0,.1,1]},LE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jE=LE("applewebkit/")&&!LE("chrome/")?Math.round:Yn;function VE(t){t.min=jE(t.min),t.max=jE(t.max)}function RF(t){VE(t.x),VE(t.y)}function _A(t,e,n){return t==="position"||t==="preserve-aspect"&&!D6(PE(e),PE(n),.2)}function NF(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const kF=EA({attachResizeListener:(t,e)=>cu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ng={current:void 0},SA=EA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ng.current){const t=new kF({});t.mount(window),t.setOptions({layoutScroll:!0}),ng.current=t}return ng.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),DF={pan:{Feature:Q6},drag:{Feature:K6,ProjectionNode:SA,MeasureLayout:gA}};function FE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&ft.postRender(()=>o(e,Lu(e)))}class MF extends Ws{mount(){const{current:e}=this.node;e&&(this.unmount=D5(e,n=>(FE(this.node,n,"Start"),r=>FE(this.node,r,"End"))))}unmount(){}}class OF extends Ws{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ou(cu(this.node.current,"focus",()=>this.onFocus()),cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BE(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&ft.postRender(()=>o(e,Lu(e)))}class LF extends Ws{mount(){const{current:e}=this.node;e&&(this.unmount=j5(e,n=>(BE(this.node,n,"Start"),(r,{success:i})=>BE(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pv=new WeakMap,rg=new WeakMap,jF=t=>{const e=pv.get(t.target);e&&e(t)},VF=t=>{t.forEach(jF)};function FF({root:t,...e}){const n=t||document;rg.has(n)||rg.set(n,{});const r=rg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(VF,{root:t,...e})),r[i]}function BF(t,e,n){const r=FF(e);return pv.set(t,n),r.observe(t),()=>{pv.delete(t),r.unobserve(t)}}const UF={some:0,all:1};class zF extends Ws{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:UF[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=f?m:g;y&&y(d)};return BF(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($F(e,n))&&this.startObserver()}unmount(){}}function $F({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const HF={inView:{Feature:zF},tap:{Feature:LF},focus:{Feature:OF},hover:{Feature:MF}},WF={layout:{ProjectionNode:SA,MeasureLayout:gA}},mv={current:null},TA={current:!1};function GF(){if(TA.current=!0,!!Sy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mv.current=t.matches;t.addListener(e),e()}else mv.current=!1}const qF=[...YC,fn,js],KF=t=>qF.find(QC(t)),UE=new WeakMap;function QF(t,e,n){for(const r in e){const i=e[r],o=n[r];if(vn(i))t.addValue(r,i);else if(vn(o))t.addValue(r,au(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,au(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=ri.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ft.render(this.render,!1,!0))};const{latestValues:d,renderState:f,onUpdate:m}=l;this.onUpdate=m,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Gf(n),this.isVariantNode=iC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in y){const S=y[E];d[E]!==void 0&&vn(S)&&S.set(d[E],!1)}}mount(e){this.current=e,UE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),TA.current||GF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){UE.delete(this.current),this.projection&&this.projection.unmount(),Ls(this.notifyUpdate),Ls(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ko.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cl){const n=cl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zE.length;r++){const i=zE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=QF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=au(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(qC(i)||VC(i))?i=parseFloat(i):!KF(i)&&js.test(n)&&(i=HC(e,n)),this.setBaseTarget(e,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=Ny(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!vn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Wy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class IA extends YF{constructor(){super(...arguments),this.KeyframeResolver=XC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function XF(t){return window.getComputedStyle(t)}class JF extends IA{constructor(){super(...arguments),this.type="html",this.renderInstance=fC}readValueFromInstance(e,n){if(Ko.has(n)){const r=Yy(n);return r&&r.default||0}else{const r=XF(e),i=(uC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pA(e,n)}build(e,n,r){My(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Vy(e,n,r)}}class ZF extends IA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ko.has(n)){const r=Yy(n);return r&&r.default||0}return n=pC.has(n)?n:Ay(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return vC(e,n,r)}build(e,n,r){Oy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){mC(e,n,r,i)}mount(e){this.isSVGTag=jy(e.tagName),super.mount(e)}}const eB=(t,e)=>Ry(t)?new ZF(e):new JF(e,{allowProjection:t!==O.Fragment}),tB=I5({...S6,...HF,...DF,...WF},eB),Te=Uj(tB),nB=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,rB={minLength:6,requireUppercase:!1,requireLowercase:!0,requireNumbers:!0,requireSpecialChars:!1},iB=t=>!t||typeof t!="string"?!1:nB.test(t.trim()),sB=(t,e=rB)=>{const n=[];return!t||typeof t!="string"?(n.push("Password is required"),{isValid:!1,errors:n}):(t.length<e.minLength&&n.push(`Password must be at least ${e.minLength} characters long`),e.requireUppercase&&!/[A-Z]/.test(t)&&n.push("Password must contain at least one uppercase letter"),e.requireLowercase&&!/[a-z]/.test(t)&&n.push("Password must contain at least one lowercase letter"),e.requireNumbers&&!/\d/.test(t)&&n.push("Password must contain at least one number"),e.requireSpecialChars&&!/[!@#$%^&*(),.?":{}|<>]/.test(t)&&n.push("Password must contain at least one special character"),{isValid:n.length===0,errors:n})},oB=t=>{if(!t||typeof t!="string")return!1;try{return new URL(t),!0}catch{return!1}},aB=t=>{if(!t||typeof t!="string")return!1;const e=t.replace(/\D/g,"");return/^(05|02|03|04|08|09)\d{8}$/.test(e)},lB=(t,e)=>{const n={};let r=!0;return Object.keys(e).forEach(i=>{const o=t[i],l=e[i],c=[];if(l.required&&(!o||typeof o=="string"&&o.trim()==="")&&c.push(`${i.charAt(0).toUpperCase()+i.slice(1)} is required`),o&&l.type)switch(l.type){case"email":iB(o)||c.push("Invalid email format");break;case"password":const d=sB(o,l.passwordRequirements);c.push(...d.errors);break;case"url":oB(o)||c.push("Invalid URL format");break;case"phone":aB(o)||c.push("Invalid phone number format");break}if(o&&typeof o=="string"&&(l.minLength&&o.length<l.minLength&&c.push(`Minimum length is ${l.minLength} characters`),l.maxLength&&o.length>l.maxLength&&c.push(`Maximum length is ${l.maxLength} characters`)),o&&l.custom){const d=l.custom(o,t);d&&!d.isValid&&c.push(d.message)}c.length>0&&(n[i]=c,r=!1)}),{isValid:r,fieldErrors:n}},uu="/Israel-cyber-academy/assets/cyber-logo-sfA0eDTq.png",cB=()=>{const{login:t,signup:e}=Ru(),[n,r]=O.useState(!1),[i,o]=O.useState(null),[l,c]=O.useState(!0),[d,f]=O.useState(!1),[m,g]=O.useState(!1),[y,E]=O.useState({email:"",password:"",displayName:"",firstName:"",lastName:"",age:"",sex:"male",role:"student"}),[S,C]=O.useState({}),I={email:{required:!0,type:"email"},password:{required:!0,type:"password"},displayName:{required:!l,minLength:2,maxLength:50},firstName:{required:!l,minLength:2,maxLength:30},lastName:{required:!l,minLength:2,maxLength:30},age:{required:!l,type:"number",min:1,max:120}},L=A=>{const{name:k,value:j}=A.target;E(U=>({...U,[k]:j,role:i})),S[k]&&C(U=>({...U,[k]:null}))},P=async A=>{A.preventDefault();const k=lB(y,I);if(!k.isValid){C(k.fieldErrors);return}g(!0),C({});try{if(l)await t(y.email,y.password),jn.success(" !");else{const j={firstName:y.firstName,lastName:y.lastName,age:y.age,sex:y.sex};await e(y.email,y.password,y.displayName,i,j),jn.success(" !")}}catch(j){console.error("Authentication error:",j);const U=j.code==="auth/user-not-found"?"  ":j.code==="auth/wrong-password"?" ":j.code==="auth/email-already-in-use"?"   ":"  ";jn.error(U)}finally{g(!1)}},M=A=>{o(A),r(!0)},z={hidden:{opacity:0},visible:{opacity:1,transition:{duration:1,staggerChildren:.2}}},V={hidden:{scale:0,rotate:-180},visible:{scale:1,rotate:0,transition:{type:"spring",stiffness:260,damping:20,duration:1.2}}},G={hidden:{y:40,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8,ease:"easeOut"}}},R={hidden:{scale:.8,opacity:0,y:30},visible:{scale:1,opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}},hover:{scale:1.05,y:-10,transition:{duration:.3}}};return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900/20 to-purple-900/20 relative overflow-x-hidden",children:[v.jsx("div",{className:"fixed inset-0 flex items-center justify-center opacity-25 pointer-events-none z-0",children:v.jsx("img",{src:uu,alt:"Israel Cyber Campus Background Logo",className:"w-[1500px] h-[1500px] object-contain"})}),v.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[v.jsx(Te.div,{className:"absolute top-20 left-20 w-40 h-40 bg-blue-500/10 rounded-full blur-xl",animate:{x:[0,100,0],y:[0,-60,0]},transition:{duration:25,repeat:1/0,ease:"linear"}}),v.jsx(Te.div,{className:"absolute bottom-20 right-20 w-60 h-60 bg-purple-500/10 rounded-full blur-xl",animate:{x:[0,-120,0],y:[0,80,0]},transition:{duration:30,repeat:1/0,ease:"linear"}}),v.jsx(Te.div,{className:"absolute top-1/3 right-1/4 w-32 h-32 bg-cyan-500/10 rounded-full blur-xl",animate:{scale:[1,1.8,1],opacity:[.2,.5,.2]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),v.jsx(Te.div,{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-emerald-500/10 rounded-full blur-xl",animate:{scale:[1,1.5,1],opacity:[.1,.3,.1]},transition:{duration:18,repeat:1/0,ease:"easeInOut"}})]}),v.jsxs(Te.div,{className:"relative z-10 min-h-screen flex flex-col pt-8",variants:z,initial:"hidden",animate:"visible",children:[v.jsxs("section",{className:"flex-1 flex flex-col justify-center items-center px-6 py-20 mt-8",children:[v.jsxs(Te.div,{className:"text-center mb-16",variants:V,children:[v.jsx(Te.div,{className:"w-40 h-40 bg-gradient-to-br from-blue-500 via-purple-600 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-blue-500/30",whileHover:{scale:1.1,boxShadow:"0 35px 60px -12px rgba(59, 130, 246, 0.5)"},transition:{duration:.4},children:v.jsx("img",{src:uu,alt:"Israel Cyber Campus Logo",className:"w-24 h-24 object-contain"})}),v.jsx(Te.h1,{className:"text-7xl font-bold text-white mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",variants:G,children:"Israel Cyber Campus"}),v.jsxs(Te.p,{className:"text-2xl text-gray-300 max-w-4xl mx-auto leading-relaxed mb-8",variants:G,children:["     ",v.jsx("br",{}),v.jsx("span",{className:"text-blue-400 font-semibold",children:"        "})]}),v.jsxs(Te.div,{className:"text-lg text-gray-400 max-w-3xl mx-auto leading-relaxed",variants:G,children:[v.jsx("p",{className:"mb-4",children:"           .    ,         ."}),v.jsx("p",{children:"    ,            ."})]})]}),v.jsxs(Te.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-16 max-w-4xl mx-auto",variants:G,children:[v.jsxs(Te.div,{className:"text-center text-gray-300 bg-gray-800/30 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30",whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[v.jsx(QI,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),v.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"5,000+"}),v.jsx("div",{className:"text-sm",children:" "})]}),v.jsxs(Te.div,{className:"text-center text-gray-300 bg-gray-800/30 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30",whileHover:{scale:1.05,backgroundColor:"rgba(168, 85, 247, 0.1)"},children:[v.jsx(ij,{className:"w-8 h-8 text-purple-400 mx-auto mb-3"}),v.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"50+"}),v.jsx("div",{className:"text-sm",children:" "})]}),v.jsxs(Te.div,{className:"text-center text-gray-300 bg-gray-800/30 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30",whileHover:{scale:1.05,backgroundColor:"rgba(6, 182, 212, 0.1)"},children:[v.jsx(Jg,{className:"w-8 h-8 text-cyan-400 mx-auto mb-3"}),v.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"100%"}),v.jsx("div",{className:"text-sm",children:" "})]}),v.jsxs(Te.div,{className:"text-center text-gray-300 bg-gray-800/30 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/30",whileHover:{scale:1.05,backgroundColor:"rgba(34, 197, 94, 0.1)"},children:[v.jsx(vj,{className:"w-8 h-8 text-green-400 mx-auto mb-3"}),v.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"24/7"}),v.jsx("div",{className:"text-sm",children:" "})]})]}),v.jsxs(Te.div,{className:"flex flex-wrap justify-center gap-6 mb-20",variants:G,children:[v.jsxs(Te.div,{className:"flex items-center space-x-3 text-gray-300 bg-gray-800/40 backdrop-blur-sm px-6 py-3 rounded-full border border-gray-700/50",whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[v.jsx(YI,{className:"w-5 h-5 text-yellow-400"}),v.jsx("span",{className:"font-medium",children:" "})]}),v.jsxs(Te.div,{className:"flex items-center space-x-3 text-gray-300 bg-gray-800/40 backdrop-blur-sm px-6 py-3 rounded-full border border-gray-700/50",whileHover:{scale:1.05,backgroundColor:"rgba(239, 68, 68, 0.1)"},children:[v.jsx(Ey,{className:"w-5 h-5 text-red-400"}),v.jsx("span",{className:"font-medium",children:" "})]}),v.jsxs(Te.div,{className:"flex items-center space-x-3 text-gray-300 bg-gray-800/40 backdrop-blur-sm px-6 py-3 rounded-full border border-gray-700/50",whileHover:{scale:1.05,backgroundColor:"rgba(34, 197, 94, 0.1)"},children:[v.jsx(FI,{className:"w-5 h-5 text-green-400"}),v.jsx("span",{className:"font-medium",children:" "})]})]}),!n&&v.jsxs(Te.div,{className:"flex flex-col lg:flex-row gap-12 max-w-6xl mx-auto",variants:G,children:[v.jsx(Te.div,{className:"bg-gray-800/60 backdrop-blur-xl rounded-3xl p-8 border border-gray-700/50 hover:border-blue-500/50 transition-all duration-300 cursor-pointer flex-1",variants:R,whileHover:"hover",onClick:()=>M("student"),children:v.jsxs("div",{className:"text-center",children:[v.jsx(Te.div,{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",whileHover:{rotate:360},transition:{duration:.8},children:v.jsx(BI,{className:"w-10 h-10 text-white"})}),v.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:""}),v.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed text-lg",children:"     !          ,      ."}),v.jsx("div",{className:"space-y-4",children:v.jsxs("button",{className:"w-full py-4 px-8 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-semibold text-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg",children:[v.jsx(xy,{className:"w-6 h-6 inline ml-3"})," "]})})]})}),v.jsx(Te.div,{className:"bg-gray-800/60 backdrop-blur-xl rounded-3xl p-8 border border-gray-700/50 hover:border-emerald-500/50 transition-all duration-300 cursor-pointer flex-1",variants:R,whileHover:"hover",onClick:()=>M("teacher"),children:v.jsxs("div",{className:"text-center",children:[v.jsx(Te.div,{className:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",whileHover:{rotate:360},transition:{duration:.8},children:v.jsx(ko,{className:"w-10 h-10 text-white"})}),v.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:""}),v.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed text-lg",children:"    !    ,    ,         ."}),v.jsx("div",{className:"space-y-4",children:v.jsxs("button",{className:"w-full py-4 px-8 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl font-semibold text-lg hover:from-emerald-700 hover:to-teal-700 transition-all duration-300 shadow-lg",children:[v.jsx(ko,{className:"w-6 h-6 inline ml-3"})," "]})})]})})]}),n&&v.jsxs(Te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"bg-gray-800/95 backdrop-blur-xl rounded-3xl p-10 shadow-2xl border border-gray-700 max-w-md w-full",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-white transition-colors mb-6 text-lg",children:"   "}),v.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:l?"":""}),v.jsx("p",{className:"text-gray-400 text-lg",children:l?"    !":"    "})]}),v.jsxs("form",{onSubmit:P,className:"space-y-6",children:[!l&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:" "}),v.jsx("input",{type:"text",name:"displayName",value:y.displayName,onChange:L,className:`w-full px-5 py-4 bg-gray-700/50 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 text-lg ${S.displayName?"border-red-500 focus:ring-red-500":"border-gray-600 focus:ring-blue-500"}`,placeholder:"   "}),S.displayName&&v.jsx("p",{className:"text-red-400 text-sm mt-2",children:S.displayName[0]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:" "}),v.jsx("input",{type:"text",name:"firstName",value:y.firstName,onChange:L,className:`w-full px-5 py-4 bg-gray-700/50 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 text-lg ${S.firstName?"border-red-500 focus:ring-red-500":"border-gray-600 focus:ring-blue-500"}`,placeholder:" "}),S.firstName&&v.jsx("p",{className:"text-red-400 text-sm mt-2",children:S.firstName[0]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:" "}),v.jsx("input",{type:"text",name:"lastName",value:y.lastName,onChange:L,className:`w-full px-5 py-4 bg-gray-700/50 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 text-lg ${S.lastName?"border-red-500 focus:ring-red-500":"border-gray-600 focus:ring-blue-500"}`,placeholder:" "}),S.lastName&&v.jsx("p",{className:"text-red-400 text-sm mt-2",children:S.lastName[0]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:""}),v.jsx("input",{type:"number",name:"age",value:y.age,onChange:L,min:"1",max:"120",className:`w-full px-5 py-4 bg-gray-700/50 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 text-lg ${S.age?"border-red-500 focus:ring-red-500":"border-gray-600 focus:ring-blue-500"}`,placeholder:""}),S.age&&v.jsx("p",{className:"text-red-400 text-sm mt-2",children:S.age[0]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:""}),v.jsxs("select",{name:"sex",value:y.sex,onChange:L,className:"w-full px-5 py-4 bg-gray-700/50 border border-gray-600 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 text-lg",children:[v.jsx("option",{value:"male",children:""}),v.jsx("option",{value:"female",children:""})]})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:""}),v.jsx("input",{type:"email",name:"email",value:y.email,onChange:L,className:`w-full px-5 py-4 bg-gray-700/50 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 text-lg ${S.email?"border-red-500 focus:ring-red-500":"border-gray-600 focus:ring-blue-500"}`,placeholder:"   "}),S.email&&v.jsx("p",{className:"text-red-400 text-sm mt-2",children:S.email[0]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:""}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:d?"text":"password",name:"password",value:y.password,onChange:L,className:`w-full px-5 py-4 pr-14 bg-gray-700/50 border rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 text-lg ${S.password?"border-red-500 focus:ring-red-500":"border-gray-600 focus:ring-blue-500"}`,placeholder:"   "}),v.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:d?v.jsx(dj,{className:"w-6 h-6"}):v.jsx($f,{className:"w-6 h-6"})})]}),S.password&&v.jsx("p",{className:"text-red-400 text-sm mt-2",children:S.password[0]})]}),v.jsx("button",{type:"submit",disabled:m,className:"w-full py-4 px-8 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-semibold text-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:m?v.jsxs("div",{className:"flex items-center justify-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),l?"...":"..."]}):v.jsxs("div",{className:"flex items-center justify-center",children:[l?"":"",v.jsx(ku,{className:"w-5 h-5 mr-3"})]})})]}),v.jsx("div",{className:"mt-8 text-center",children:v.jsx("button",{onClick:()=>c(!l),className:"text-gray-400 hover:text-white transition-colors text-lg",children:l?"  ?  ":"  ?  "})})]})]}),v.jsx("footer",{className:"bg-gray-900/50 backdrop-blur-sm border-t border-gray-700/50 py-8",children:v.jsxs("div",{className:"max-w-6xl mx-auto px-6 text-center",children:[v.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 mb-6",children:[v.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[v.jsx(HI,{className:"w-5 h-5 text-yellow-400"}),v.jsx("span",{children:" 4.9/5"})]}),v.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[v.jsx(GI,{className:"w-5 h-5 text-green-400"}),v.jsx("span",{children:"95% "})]}),v.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[v.jsx(VI,{className:"w-5 h-5 text-blue-400"}),v.jsx("span",{children:" 24/7"})]})]}),v.jsx("p",{className:"text-gray-500 text-sm",children:" 2024 Israel Cyber Campus.   ."})]})})]})]})},uB={id:"slide-1",type:"presentation",title:"   ! ",content:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",elements:[{type:"title",text:" 1:   ",style:{fontSize:"3rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:"   ,      ",style:{fontSize:"1.5rem",color:"white",textAlign:"center",opacity:.9}},{type:"image",src:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=400",alt:"Cybersecurity",style:{width:"300px",borderRadius:"15px",margin:"2rem auto"}},{type:"timer",duration:45,text:" "}]}},dB={id:"slide-2",type:"poll",title:"   ? ",content:{question:"    '',   ?",options:[{id:1,text:"   ",emoji:""},{id:2,text:" ",emoji:""},{id:3,text:"   ",emoji:""},{id:4,text:" ",emoji:""}],allowMultiple:!1,showResults:!0,duration:120}},hB={id:"slide-3",type:"presentation",title:"  ? ",content:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",elements:[{type:"title",text:"  ?",style:{fontSize:"2.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"list",items:["   ''     "," ' ' =    "," ' ' =  "," '' =    "],style:{fontSize:"1.3rem",color:"white",textAlign:"right",lineHeight:"2"}},{type:"animation",type:"bounce",element:"",style:{fontSize:"4rem",textAlign:"center",margin:"2rem"}}],duration:180}},fB={id:"slide-4",type:"video",title:"  -   ",content:{description:"       ",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:180}},pB={id:"slide-5",type:"interactive",title:"  -   ",content:{type:"drag-drop",instructions:"       ",categories:[{id:"white",name:" ",color:"#4CAF50",description:"  "},{id:"gray",name:" ",color:"#9E9E9E",description:"      "},{id:"black",name:" ",color:"#f44336",description:"   "}],items:[{id:1,text:"     ",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",correctCategory:"white"},{id:2,text:"    ",image:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=150",correctCategory:"black"},{id:3,text:"       ",image:"https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=150",correctCategory:"gray"},{id:4,text:"   ",image:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=150",correctCategory:"white"},{id:5,text:"    ",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150",correctCategory:"black"},{id:6,text:"       ",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150",correctCategory:"gray"}],duration:300}},mB={id:"slide-6",type:"presentation",title:"   ? ",content:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",elements:[{type:"title",text:"   ?",style:{fontSize:"2.5rem",color:"#333",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:"   ",style:{fontSize:"1.5rem",color:"#666",textAlign:"center",marginBottom:"1rem"}},{type:"list",items:[" , , ","  ","   (IoT)","  "],style:{fontSize:"1.3rem",color:"#333",textAlign:"right",lineHeight:"2"}},{type:"subtitle",text:" :",style:{fontSize:"1.2rem",color:"#666",textAlign:"center",marginTop:"2rem"}},{type:"list",items:["  ","  ","   ","  "],style:{fontSize:"1.1rem",color:"#333",textAlign:"right",lineHeight:"2"}}],duration:240}},gB={id:"slide-7",type:"interactive",title:"   ",content:{type:"matching",instructions:"       ",pairs:[{tool:" ",description:"   ",icon:""},{tool:"",description:"   ",icon:""},{tool:" ",description:"   ",icon:""},{tool:"",description:"   ",icon:""},{tool:"",description:"  ",icon:""},{tool:" -",description:"   ",icon:""}],duration:300}},vB={id:"slide-8",type:"presentation",title:"   ",content:{background:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)",elements:[{type:"title",text:"  ",style:{fontSize:"2.5rem",color:"#333",textAlign:"center",marginBottom:"2rem"}},{type:"list",items:["  (Confidentiality) -      ","  (Integrity) -     ","  (Availability) -    "],style:{fontSize:"1.3rem",color:"#333",textAlign:"right",lineHeight:"2.5"}},{type:"image",src:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=400",alt:"Security Triangle",style:{width:"250px",borderRadius:"15px",margin:"2rem auto"}}],duration:200}},yB={id:"slide-9",type:"interactive",title:"  -   ",content:{type:"multiple-choice",question:"         ?",options:[{id:"a",text:"",icon:""},{id:"b",text:"",icon:""},{id:"c",text:"",icon:""},{id:"d",text:"",icon:""}],correctAnswer:"b",explanation:" (Integrity)     ,     .",hint:"   '' -   ?"}},xB={id:"slide-10",type:"break",title:" ",content:{background:"linear-gradient(135deg, #f7971e 0%, #ffd200 100%)",elements:[{type:"title",text:"! ",style:{fontSize:"2.5rem",color:"#333",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:" 15  ,  .   !",style:{fontSize:"1.3rem",color:"#666",textAlign:"center",marginBottom:"1rem"}},{type:"timer",duration:900,text:""}]}},wB={id:"slide-11",type:"presentation",title:"   ",content:{background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",elements:[{type:"title",text:"  ",style:{fontSize:"2.5rem",color:"#333",textAlign:"center",marginBottom:"2rem"}},{type:"list",items:["  -   ","  -     ","   -    ","  -    ","   -  ","  DDoS -  "],style:{fontSize:"1.2rem",color:"#333",textAlign:"right",lineHeight:"2"}}],duration:300}},bB={id:"slide-12",type:"interactive",title:"   ",content:{type:"multiple-choice",question:"           :",content:{image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400",text:"   "},options:[{id:"a",text:"",icon:""},{id:"b",text:"",icon:""},{id:"c",text:" ",icon:""},{id:"d",text:"",icon:""}],correctAnswer:"b",explanation:"  -         .",hint:"   -    ?"}},EB={id:"slide-13",type:"presentation",title:"   ? ",content:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",elements:[{type:"title",text:"  ",style:{fontSize:"2.5rem",color:"#333",textAlign:"center",marginBottom:"2rem"}},{type:"list",items:["    ","   -","    ","     ","   ","      ","      ","   WiFi "],style:{fontSize:"1.1rem",color:"#333",textAlign:"right",lineHeight:"2"}}],duration:240}},_B={id:"slide-14",type:"interactive",title:"   ",content:{type:"drag-drop",instructions:"       ",categories:[{id:"strong",name:" ",color:"#4CAF50",description:"    "},{id:"weak",name:" ",color:"#f44336",description:"  "}],items:[{id:1,text:"123456",correctCategory:"weak"},{id:2,text:"password",correctCategory:"weak"},{id:3,text:"MyP@ssw0rd2024!",correctCategory:"strong"},{id:4,text:"abc123",correctCategory:"weak"},{id:5,text:"Tr0ub4dor&3",correctCategory:"strong"},{id:6,text:"qwerty",correctCategory:"weak"}],duration:300}},SB={id:"slide-15",type:"video",title:"    ",content:{description:"       ",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:180}},TB={id:"slide-16",type:"interactive",title:"  -  ? ",content:{type:"multiple-choice",question:"     ?",options:[{id:"a",text:"    ",icon:""},{id:"b",text:"    ",icon:""},{id:"c",text:"    ",icon:""},{id:"d",text:"    ",icon:""}],correctAnswer:"b",explanation:"            .",hint:"    -   ?"}},IB={id:"slide-17",type:"reflection",title:"    ",content:{questions:["     ?","       ?","       ?"],duration:300}},CB={id:"slide-18",type:"presentation",title:"  ",content:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",elements:[{type:"title",text:" !    ",style:{fontSize:"2.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"list",items:["      ","    ","    ","     ","    "],style:{fontSize:"1.3rem",color:"white",textAlign:"right",lineHeight:"2"}},{type:"subtitle",text:"      !",style:{fontSize:"1.5rem",color:"white",textAlign:"center",marginTop:"2rem",opacity:.9}}],duration:120}},AB={id:1,title:"  ",description:"   2.15  -   , ,    ",icon:"",duration:"2.15 ",difficulty:"",targetAge:"10-13",breakDuration:15,content:{slides:[uB,dB,hB,fB,pB,mB,gB,vB,yB,xB,wB,bB,EB,_B,SB,TB,IB,CB]}},PB={id:"slide-1",type:"presentation",title:"   ! ",content:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",elements:[{type:"title",text:" 2:   ",style:{fontSize:"3rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:"    ,     !",style:{fontSize:"1.5rem",color:"white",textAlign:"center",opacity:.9}},{type:"image",src:"https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400",alt:"Computer Components",style:{width:"300px",borderRadius:"15px",margin:"2rem auto"}},{type:"timer",duration:30,text:" "}]}},RB={id:"slide-2",type:"poll",title:"    ? ",content:{question:"    ?",options:[{id:1,text:" (CPU)",emoji:""},{id:2,text:" (RAM)",emoji:""},{id:3,text:" ",emoji:""},{id:4,text:" ",emoji:""},{id:5,text:" ",emoji:""}],allowMultiple:!0,showResults:!0,duration:120}},NB={id:"slide-3",type:"presentation",title:"    ",content:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",elements:[{type:"title",text:" :   ",style:{fontSize:"2.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"timeline",events:[{year:"1642",title:"  ",description:"     ",icon:""},{year:"1946",title:"ENIAC",description:"   -   !",icon:""},{year:"1975",title:"Apple II",description:"   - !",icon:""},{year:"2024",title:"IoT -   ",description:", , ,  ",icon:""}],style:{color:"white",fontSize:"1.2rem"}}],duration:240}},kB={id:"slide-4",type:"interactive",title:" :  ",content:{type:"matching",instructions:"     ",pairs:[{tool:"ENIAC",description:"1946 -   ",icon:""},{tool:"Apple II",description:"1975 -   ",icon:""},{tool:" ",description:"1642 -   ",icon:""},{tool:"iPhone",description:"2007 -   ",icon:""}],duration:300}},DB={id:"slide-5",type:"presentation",title:"  ? ",content:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",elements:[{type:"title",text:"  ?",style:{fontSize:"2.5rem",color:"#333",textAlign:"center",marginBottom:"2rem"}},{type:"definition",text:"     ()   ()",style:{fontSize:"1.5rem",color:"#333",textAlign:"center",padding:"2rem",backgroundColor:"rgba(255,255,255,0.8)",borderRadius:"15px"}},{type:"comparison",title:"   ",items:[{title:" (Data)",description:"  - , , ",icon:""},{title:" (Information)",description:"   ",icon:""}],style:{fontSize:"1.2rem",color:"#333"}}],duration:180}},MB={id:"slide-6",type:"interactive",title:":   ? ",content:{type:"matching",instructions:"      (     )",pairs:[{tool:": 25 ",description:"    (Data)",icon:""},{tool:"   - 25 ",description:"      (Information)",icon:""},{tool:":  ",description:"    (Data)",icon:""},{tool:"      ",description:"     (Information)",icon:""},{tool:": ",description:"    (Data)",icon:""},{tool:"  ",description:"     (Information)",icon:""}],duration:300}},OB={id:"slide-7",type:"presentation",title:"  -  ",content:{background:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)",elements:[{type:"title",text:" vs ",style:{fontSize:"2.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"analogy",title:": ",description:" =  ,  =   ",style:{fontSize:"1.3rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"comparison",title:"",items:[{title:"",description:"   -  , Word, ",icon:"",color:"#4CAF50"},{title:"",description:"   -   ",icon:"",color:"#2196F3"}],style:{fontSize:"1.2rem",color:"white"}}],duration:240}},LB={id:"slide-8",type:"interactive",title:":   ? ",content:{type:"drag-drop",instructions:"    ",categories:[{id:"hardware",name:"",color:"#2196F3",description:" "},{id:"software",name:"",color:"#4CAF50",description:" "}],items:[{id:1,text:" (CPU)",correctCategory:"hardware"},{id:2,text:"Windows 11",correctCategory:"software"},{id:3,text:" ",correctCategory:"hardware"},{id:4,text:"Minecraft",correctCategory:"software"},{id:5,text:" RAM",correctCategory:"hardware"},{id:6,text:"Google Chrome",correctCategory:"software"}],duration:300}},jB={id:"slide-9",type:"presentation",title:"   ",content:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",elements:[{type:"title",text:"  ",style:{fontSize:"2.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:"  6    ",style:{fontSize:"1.3rem",color:"white",textAlign:"center",opacity:.9}},{type:"image",src:"https://images.unsplash.com/photo-1587831990711-23ca6441447b?w=400",alt:"Computer Components",style:{width:"300px",borderRadius:"15px",margin:"2rem auto"}}],duration:120}},VB={id:"slide-10",type:"presentation",title:"1.  (CPU) -    ",content:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",elements:[{type:"title",text:" -   ",style:{fontSize:"2.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:"    ",style:{fontSize:"1.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"list",items:["   -   ","  -   ","  -  '' ","  (Clock) -   "],style:{fontSize:"1.3rem",color:"white",textAlign:"right",lineHeight:"2"}},{type:"animation",type:"pulse",element:"",style:{fontSize:"4rem",textAlign:"center",margin:"2rem"}}],duration:180}},FB={id:"slide-11",type:"presentation",title:"2.    ",content:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",elements:[{type:"title",text:"  ",style:{fontSize:"2.5rem",color:"#333",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:"Hard Disk / SSD -  ",style:{fontSize:"1.5rem",color:"#666",textAlign:"center",marginBottom:"2rem"}},{type:"comparison",title:" ",items:[{title:"SSD",description:"  -   ",icon:"",color:"#4CAF50"},{title:" ",description:"   -  ",icon:"",color:"#2196F3"}],style:{fontSize:"1.2rem",color:"#333"}},{type:"list",items:[" , , ","  ","  ","  "],style:{fontSize:"1.2rem",color:"#333",textAlign:"right",lineHeight:"2"}}],duration:180}},BB={id:"slide-12",type:"presentation",title:"3.    (RAM) ",content:{background:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)",elements:[{type:"title",text:"   - RAM",style:{fontSize:"2.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:"    ",style:{fontSize:"1.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"list",items:["   -   ","  -    ","    ","     "],style:{fontSize:"1.3rem",color:"white",textAlign:"right",lineHeight:"2"}},{type:"analogy",title:":  ",description:"RAM     -    ",style:{fontSize:"1.2rem",color:"white",textAlign:"center",marginTop:"2rem"}}],duration:180}},UB={id:"slide-13",type:"presentation",title:"4.   (Motherboard) ",content:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",elements:[{type:"title",text:"  -   ",style:{fontSize:"2.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:"   ",style:{fontSize:"1.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"list",items:["     ","   ","    ","    "],style:{fontSize:"1.3rem",color:"white",textAlign:"right",lineHeight:"2"}},{type:"image",src:"https://images.unsplash.com/photo-1593642632823-8f785ba67e45?w=300",alt:"Motherboard",style:{width:"250px",borderRadius:"15px",margin:"2rem auto"}}],duration:180}},zB={id:"slide-14",type:"presentation",title:"5.   (PSU) ",content:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",elements:[{type:"title",text:"  - PSU",style:{fontSize:"2.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:"    ",style:{fontSize:"1.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"list",items:["    ","     ","     -    ","      "],style:{fontSize:"1.3rem",color:"white",textAlign:"right",lineHeight:"2"}},{type:"animation",type:"flash",element:"",style:{fontSize:"4rem",textAlign:"center",margin:"2rem"}}],duration:180}},$B={id:"slide-15",type:"presentation",title:"6.   (GPU) ",content:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",elements:[{type:"title",text:"  - GPU",style:{fontSize:"2.5rem",color:"#333",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:"   ",style:{fontSize:"1.5rem",color:"#666",textAlign:"center",marginBottom:"2rem"}},{type:"comparison",title:"  ",items:[{title:"",description:"   -  ",icon:"",color:"#4CAF50"},{title:"",description:" -   ",icon:"",color:"#2196F3"}],style:{fontSize:"1.2rem",color:"#333"}},{type:"list",items:["   ","   ","   ","   "],style:{fontSize:"1.2rem",color:"#333",textAlign:"right",lineHeight:"2"}}],duration:180}},HB={id:"slide-16",type:"interactive",title:":   ",content:{type:"matching",instructions:"    ",pairs:[{tool:" (CPU)",description:"   -  ",icon:""},{tool:" RAM",description:"   ",icon:""},{tool:" ",description:"  ",icon:""},{tool:" ",description:"   ",icon:""},{tool:" ",description:"   ",icon:""},{tool:" ",description:"   ",icon:""}],duration:360}},WB={id:"slide-17",type:"interactive",title:":   ",content:{type:"computer-build",instructions:"      ",components:[{id:"cpu",name:"",options:[{name:"Intel i3",price:500,performance:3,description:" "},{name:"Intel i5",price:800,performance:4,description:" "},{name:"Intel i9",price:1500,performance:5,description:" "}]},{id:"ram",name:" RAM",options:[{name:"8GB",price:200,performance:3,description:" "},{name:"16GB",price:400,performance:4,description:" "},{name:"32GB",price:800,performance:5,description:" "}]},{id:"storage",name:"",options:[{name:"500GB  ",price:100,performance:2,description:" "},{name:"1TB SSD",price:300,performance:4,description:" "},{name:"2TB SSD",price:600,performance:5,description:"  "}]},{id:"gpu",name:" ",options:[{name:"",price:0,performance:2,description:" "},{name:"GTX 1660",price:800,performance:4,description:" "},{name:"RTX 4080",price:2e3,performance:5,description:" "}]}],budget:5e3,duration:600}},GB={id:"slide-18",type:"presentation",title:"   ",content:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",elements:[{type:"title",text:"   ",style:{fontSize:"2.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"specs",items:[{component:"",spec:"Intel i9  AMD Ryzen 9",icon:""},{component:" RAM",spec:" 16GB DDR5",icon:""},{component:"",spec:"500GB SSD + 2TB  ",icon:""},{component:" ",spec:"RTX 4070  ",icon:""},{component:" ",spec:"750W  ",icon:""},{component:" ",spec:"  ",icon:""}],style:{fontSize:"1.3rem",color:"white",textAlign:"right",lineHeight:"2"}}],duration:180}},qB={id:"slide-19",type:"interactive",title:"  -  2 ",content:{type:"lab-simulation",instructions:"     ",scenarios:[{name:"  ",description:"   ?",result:"    -    ",icon:""},{name:"   RAM",description:"    ?",result:"     ",icon:""},{name:"   ",description:"   ?",result:"      ",icon:""},{name:"   ",description:"    ?",result:"    ",icon:""}],duration:300}},KB={id:"slide-20",type:"quiz",title:":   ",content:{questions:[{question:"   '  '?",options:[" (CPU)"," RAM"," "," "],correct:0,explanation:"   -     "},{question:"   RAM  ?",options:[" ","RAM    ","   ","RAM  "],correct:1,explanation:"RAM       "},{question:"   ?",options:[" ","  "," "," "],correct:1,explanation:"     "},{question:"     ?",options:[""," "," "," "],correct:1,explanation:"     "}],duration:480}},QB={id:"slide-21",type:"presentation",title:"  -    ",content:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",elements:[{type:"title",text:"  -   ",style:{fontSize:"2.5rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"flow",steps:[{step:"",description:", , ",icon:""},{step:"",description:"   ",icon:""},{step:"",description:"RAM  ",icon:""},{step:"",description:", , ",icon:""}],style:{fontSize:"1.3rem",color:"white"}},{type:"example",title:":  ",description:"      ",style:{fontSize:"1.2rem",color:"white",textAlign:"center",marginTop:"2rem"}}],duration:240}},YB={id:"slide-22",type:"interactive",title:":    ",content:{type:"drag-drop",instructions:"    ",categories:[{id:"input",name:"",color:"#4CAF50",description:"  "},{id:"output",name:"",color:"#2196F3",description:"  "},{id:"both",name:" ",color:"#FF9800",description:"   "}],items:[{id:1,text:"",correctCategory:"input"},{id:2,text:"",correctCategory:"output"},{id:3,text:"",correctCategory:"input"},{id:4,text:"",correctCategory:"output"},{id:5,text:" ",correctCategory:"both"},{id:6,text:"",correctCategory:"input"}],duration:300}},XB={id:"slide-23",type:"poll",title:"  ? ",content:{question:"    ?",options:[{id:1,text:"  ",emoji:""},{id:2,text:" ",emoji:""},{id:3,text:"  ",emoji:""},{id:4,text:" ",emoji:""},{id:5,text:" !",emoji:""}],allowMultiple:!1,showResults:!0,duration:120}},JB={id:"slide-24",type:"presentation",title:"  ",content:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",elements:[{type:"title",text:"  ?",style:{fontSize:"2.5rem",color:"#333",textAlign:"center",marginBottom:"2rem"}},{type:"list",items:["    ","      "," 6   ","   ","   ","   "],style:{fontSize:"1.3rem",color:"#333",textAlign:"right",lineHeight:"2"}},{type:"subtitle",text:"   ! ",style:{fontSize:"1.5rem",color:"#666",textAlign:"center",marginTop:"2rem"}}],duration:180}},ZB={id:"slide-25",type:"reflection",title:"  ",content:{questions:["    ?","      ? ?","      ?","     ?"],duration:300}},e9={id:2,title:"  ",description:"   2  -   , ,   ",icon:"",duration:"2 ",difficulty:"",targetAge:"10-13",breakDuration:10,content:{slides:[PB,RB,NB,kB,DB,MB,OB,LB,jB,VB,FB,BB,UB,zB,$B,HB,WB,GB,qB,KB,QB,YB,XB,JB,ZB]}},hn=(t,e,n,r,i,o,l,c)=>({id:t,title:e,description:n,icon:r,duration:i,difficulty:o,targetAge:l,breakDuration:c,content:{slides:[{id:"slide-1",type:"presentation",title:`${e} - `,content:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",elements:[{type:"title",text:e,style:{fontSize:"3rem",color:"white",textAlign:"center",marginBottom:"2rem"}},{type:"subtitle",text:"    ",style:{fontSize:"1.5rem",color:"white",textAlign:"center",opacity:.9}},{type:"image",src:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=400",alt:"Coming Soon",style:{width:"300px",borderRadius:"15px",margin:"2rem auto"}},{type:"timer",duration:30,text:" "}]}}]}}),af=[AB,e9,hn(3," Windows","    Windows.    45-55 .","","3 ","","10-13",15),hn(4," Linux","    Linux.    45-55 .","","3 ","","10-13",15),hn(5,"","   .    45-55 .","","3 ","","10-13",15),hn(6,"","  .    45-55 .","","3 ","","10-13",15),hn(7,"  ","   .    45-55 .","","3 ","","10-13",15),hn(8," ","    .    45-55 .","","3 ","","10-13",15),hn(9,"","   ","","75 ","","10-13",10),hn(10,"","  ","","90 ","","10-13",10),hn(11,"","    ","","60 ","","10-13",10),hn(12," ","   ","","75 ","","10-13",10),hn(13," ","    ","","60 ","","10-13",10),hn(14,"","   ","","90 ","","10-13",10),hn(15,"","    ","","75 ","","10-13",10),hn(16," ","AI  -  ","","90 ","","10-13",10),hn(17," ","    , HTML, CSS, JavaScript -    ","","2.5 ","","10-13",15),hn(18,"   ","   60  - , ,    ","","60 ","","10-13",0)],t9=t=>af.find(e=>e.id===t),n9=t=>{const e=af.findIndex(n=>n.id===t);return af[e+1]||null},lt=af,r9=t9,$E=n9;var ig,HE;function i9(){if(HE)return ig;HE=1;var t={linear:function(e,n,r,i){var o=r-n;return o*e/i+n},easeInQuad:function(e,n,r,i){var o=r-n;return o*(e/=i)*e+n},easeOutQuad:function(e,n,r,i){var o=r-n;return-o*(e/=i)*(e-2)+n},easeInOutQuad:function(e,n,r,i){var o=r-n;return(e/=i/2)<1?o/2*e*e+n:-o/2*(--e*(e-2)-1)+n},easeInCubic:function(e,n,r,i){var o=r-n;return o*(e/=i)*e*e+n},easeOutCubic:function(e,n,r,i){var o=r-n;return o*((e=e/i-1)*e*e+1)+n},easeInOutCubic:function(e,n,r,i){var o=r-n;return(e/=i/2)<1?o/2*e*e*e+n:o/2*((e-=2)*e*e+2)+n},easeInQuart:function(e,n,r,i){var o=r-n;return o*(e/=i)*e*e*e+n},easeOutQuart:function(e,n,r,i){var o=r-n;return-o*((e=e/i-1)*e*e*e-1)+n},easeInOutQuart:function(e,n,r,i){var o=r-n;return(e/=i/2)<1?o/2*e*e*e*e+n:-o/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(e,n,r,i){var o=r-n;return o*(e/=i)*e*e*e*e+n},easeOutQuint:function(e,n,r,i){var o=r-n;return o*((e=e/i-1)*e*e*e*e+1)+n},easeInOutQuint:function(e,n,r,i){var o=r-n;return(e/=i/2)<1?o/2*e*e*e*e*e+n:o/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(e,n,r,i){var o=r-n;return-o*Math.cos(e/i*(Math.PI/2))+o+n},easeOutSine:function(e,n,r,i){var o=r-n;return o*Math.sin(e/i*(Math.PI/2))+n},easeInOutSine:function(e,n,r,i){var o=r-n;return-o/2*(Math.cos(Math.PI*e/i)-1)+n},easeInExpo:function(e,n,r,i){var o=r-n;return e==0?n:o*Math.pow(2,10*(e/i-1))+n},easeOutExpo:function(e,n,r,i){var o=r-n;return e==i?n+o:o*(-Math.pow(2,-10*e/i)+1)+n},easeInOutExpo:function(e,n,r,i){var o=r-n;return e===0?n:e===i?n+o:(e/=i/2)<1?o/2*Math.pow(2,10*(e-1))+n:o/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(e,n,r,i){var o=r-n;return-o*(Math.sqrt(1-(e/=i)*e)-1)+n},easeOutCirc:function(e,n,r,i){var o=r-n;return o*Math.sqrt(1-(e=e/i-1)*e)+n},easeInOutCirc:function(e,n,r,i){var o=r-n;return(e/=i/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+n:o/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(e,n,r,i){var o=r-n,l,c,d;return d=1.70158,c=0,l=o,e===0?n:(e/=i)===1?n+o:(c||(c=i*.3),l<Math.abs(o)?(l=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(e-=1))*Math.sin((e*i-d)*(2*Math.PI)/c))+n)},easeOutElastic:function(e,n,r,i){var o=r-n,l,c,d;return d=1.70158,c=0,l=o,e===0?n:(e/=i)===1?n+o:(c||(c=i*.3),l<Math.abs(o)?(l=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*e)*Math.sin((e*i-d)*(2*Math.PI)/c)+o+n)},easeInOutElastic:function(e,n,r,i){var o=r-n,l,c,d;return d=1.70158,c=0,l=o,e===0?n:(e/=i/2)===2?n+o:(c||(c=i*(.3*1.5)),l<Math.abs(o)?(l=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/l),e<1?-.5*(l*Math.pow(2,10*(e-=1))*Math.sin((e*i-d)*(2*Math.PI)/c))+n:l*Math.pow(2,-10*(e-=1))*Math.sin((e*i-d)*(2*Math.PI)/c)*.5+o+n)},easeInBack:function(e,n,r,i,o){var l=r-n;return o===void 0&&(o=1.70158),l*(e/=i)*e*((o+1)*e-o)+n},easeOutBack:function(e,n,r,i,o){var l=r-n;return o===void 0&&(o=1.70158),l*((e=e/i-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(e,n,r,i,o){var l=r-n;return o===void 0&&(o=1.70158),(e/=i/2)<1?l/2*(e*e*(((o*=1.525)+1)*e-o))+n:l/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+n},easeInBounce:function(e,n,r,i){var o=r-n,l;return l=t.easeOutBounce(i-e,0,o,i),o-l+n},easeOutBounce:function(e,n,r,i){var o=r-n;return(e/=i)<1/2.75?o*(7.5625*e*e)+n:e<2/2.75?o*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?o*(7.5625*(e-=2.25/2.75)*e+.9375)+n:o*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(e,n,r,i){var o=r-n,l;return e<i/2?(l=t.easeInBounce(e*2,0,o,i),l*.5+n):(l=t.easeOutBounce(e*2-i,0,o,i),l*.5+o*.5+n)}};return ig=t,ig}var s9=i9();function o9(t){return t*Math.PI/180}function Gn(t,e){return t+Math.random()*(e-t)}function a9(t,e){return Math.floor(t+Math.random()*(e-t+1))}var qc;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(qc||(qc={}));var ps;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(ps||(ps={}));const l9=1e3/60;class c9{constructor(e,n,r,i){this.getOptions=n;const{colors:o,initialVelocityX:l,initialVelocityY:c}=this.getOptions();this.context=e,this.x=r,this.y=i,this.w=Gn(5,20),this.h=Gn(5,20),this.radius=Gn(5,10),this.vx=typeof l=="number"?Gn(-l,l):Gn(l.min,l.max),this.vy=typeof c=="number"?Gn(-c,0):Gn(c.min,c.max),this.shape=a9(0,2),this.angle=o9(Gn(0,360)),this.angularSpin=Gn(-.2,.2),this.color=o[Math.floor(Math.random()*o.length)],this.rotateY=Gn(0,1),this.rotationDirection=Gn(0,1)?ps.Positive:ps.Negative}update(e){const{gravity:n,wind:r,friction:i,opacity:o,drawShape:l}=this.getOptions(),c=e/l9;this.x+=this.vx*c,this.y+=this.vy*c,this.vy+=n*c,this.vx+=r*c,this.vx*=i**c,this.vy*=i**c,this.rotateY>=1&&this.rotationDirection===ps.Positive?this.rotationDirection=ps.Negative:this.rotateY<=-1&&this.rotationDirection===ps.Negative&&(this.rotationDirection=ps.Positive);const d=.1*this.rotationDirection*c;if(this.rotateY+=d,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,l&&typeof l=="function")l.call(this,this.context);else switch(this.shape){case qc.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case qc.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case qc.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class u9{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=Gn(this.x,this.w+this.x),o=Gn(this.y,this.h+this.y);return new c9(this.context,this.getOptions,i,o)},this.animate=i=>{const{canvas:o,context:l,particlesGenerated:c,lastNumberOfPieces:d}=this,{run:f,recycle:m,numberOfPieces:g,debug:y,tweenFunction:E,tweenDuration:S}=this.getOptions();if(!f)return!1;const C=this.particles.length,I=m?C:c;if(I<g){d!==g&&(this.tweenProgress=0,this.tweenFrom=I,this.lastNumberOfPieces=g),this.tweenProgress=Math.min(S,Math.max(0,this.tweenProgress+i));const L=E(this.tweenProgress,this.tweenFrom,g,S),P=Math.round(L-I);for(let M=0;M<P;M++)this.particles.push(this.getParticle());this.particlesGenerated+=P}y&&(l.font="12px sans-serif",l.fillStyle="#333",l.textAlign="right",l.fillText(`Particles: ${C}`,o.width-10,o.height-20));for(let L=this.particles.length-1;L>=0;L--){const P=this.particles[L];P.update(i),(P.y>o.height||P.y<-100||P.x>o.width+100||P.x<-100)&&(m&&I<=g?this.particles[L]=this.getParticle():this.removeParticleAt(L))}return C>0||I<g},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const t0={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:s9.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class d9{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const o={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...o,...t0,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:o,onConfettiComplete:l,frameRate:c},canvas:d,context:f}=this,m=Math.min(i-this.lastFrameTime,50);if(c&&m<1e3/c){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(c?m%c:0),o&&(f.fillStyle="white",f.clearRect(0,0,d.width,d.height)),this.generator.animate(m)?this.rafId=requestAnimationFrame(this.update):(l&&typeof l=="function"&&this.generator.particlesGenerated>0&&l.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new u9(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var i,o;const n=(i=this._options)==null?void 0:i.run,r=(o=this._options)==null?void 0:o.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const h9=tt.createRef();class n0 extends tt.Component{constructor(e){super(e),this.canvas=tt.createRef(),this.canvas=e.canvasRef||h9}componentDidMount(){if(this.canvas.current){const e=sg(this.props)[0];this.confetti=new d9(this.canvas.current,e)}}componentDidUpdate(){const e=sg(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=sg(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return v.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}n0.defaultProps={...t0};n0.displayName="ReactConfetti";function sg(t){const e={},n={},r={},i=[...Object.keys(t0),"confettiSource","drawShape","onConfettiComplete","frameRate"],o=["canvasRef"];for(const l in t){const c=t[l];i.includes(l)?e[l]=c:o.includes(l)?o[l]=c:r[l]=c}return[e,r,n]}const CA=tt.forwardRef((t,e)=>v.jsx(n0,{canvasRef:e,...t})),f9=()=>{const[t,e]=O.useState([]);return O.useEffect(()=>{const n=()=>{const i="01",o=Math.floor(Math.random()*20)+10;let l="";for(let c=0;c<o;c++)l+=i[Math.floor(Math.random()*i.length)];return l},r=setInterval(()=>{e(i=>{const o=[...i,n()];return o.length>15?o.slice(1):o})},100);return()=>clearInterval(r)},[]),v.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-green-500/5 to-transparent"}),t.map((n,r)=>v.jsx(Te.div,{initial:{opacity:0,x:-100},animate:{opacity:.3,x:0},exit:{opacity:0,x:100},transition:{duration:2,ease:"linear"},className:"absolute text-green-400 font-mono text-xs whitespace-nowrap",style:{top:`${r/15*100}%`,left:`${Math.random()*100}%`,transform:`translateX(${Math.random()*200-100}px)`},children:n},r))]})},p9=t=>({1:ko,2:cj,3:wj,4:Zg,5:bj,6:Jg,7:FI,8:Ij,9:$f,10:fj,11:uj,12:_j,13:LI,14:Sj,15:sj,16:YI,17:Jg,18:Tj})[t]||ko,m9=()=>{var j,U;const t=gl(),{userProfile:e}=Ru(),{displayName:n,role:r}=Uf();Bs();const[i,o]=O.useState(null),[l,c]=O.useState(null),[d,f]=O.useState(new Set),[m,g]=O.useState(new Set),[y,E]=O.useState(!1),[S,C]=O.useState(null),[I,L]=O.useState({width:window.innerWidth,height:window.innerHeight});O.useEffect(()=>{console.log(" Roadmap: Lessons data loaded:",{lessonsCount:(lt==null?void 0:lt.length)||0,lessons:(lt==null?void 0:lt.slice(0,3).map(F=>{var N;return{id:F.id,title:F.title,hasContent:!!F.content,hasSlides:!!((N=F.content)!=null&&N.slides)}}))||[],firstLesson:(lt==null?void 0:lt[0])||null})},[]),O.useEffect(()=>{if(e!=null&&e.progress){const F=Object.entries(e.progress);if(F.length>0){const N=F.filter(([ae,Se])=>Se.lastActivity).sort((ae,Se)=>new Date(Se[1].lastActivity)-new Date(ae[1].lastActivity));if(N.length>0){const[ae,Se]=N[0],Ee=lt.find(ve=>ve.id===parseInt(ae));Ee&&!Se.completed&&c({lesson:Ee,progress:Se})}}}},[e]);const P=O.useCallback(F=>{if(!e)return"locked";const N=e.completedLessons||[],ae=e.currentLesson||1;return F<=3&&console.log(` Lesson ${F} status check:`,{completedLessons:N,currentLesson:ae,isCompleted:N.includes(F),isAvailable:F<=ae,status:N.includes(F)?"completed":F<=ae?"available":"locked"}),F===1?N.includes(F)?"completed":"available":N.includes(F)?"completed":F<=ae?"available":"locked"},[e]),M=O.useCallback(()=>{if(!e||!lt||!Array.isArray(lt)||lt.length===0)return 0;const F=e.completedLessons||[];return Math.round(F.length/lt.length*100)},[e]),z=O.useCallback(()=>e&&e.totalTimeSpent||0,[e]),V=O.useCallback(()=>e&&e.totalPagesEngaged||0,[e]);O.useCallback(()=>e?e.achievements||[]:[],[e]);const G=O.useCallback(F=>{if(!F||!F.id){console.error(" Invalid lesson object:",F);return}P(F.id)!=="locked"&&t(`/interactive-lesson/${F.id}`)},[t,P]),R=O.useCallback(()=>{l&&(t(`/interactive-lesson/${l.lesson.id}`),jn.success(` : ${l.lesson.title}`))},[l,t]),A=O.useCallback(F=>{switch(F){case"completed":return v.jsx(gr,{className:"h-6 w-6 text-green-500"});case"available":return v.jsx(gj,{className:"h-6 w-6 text-blue-500"});case"locked":return v.jsx(Cb,{className:"h-6 w-6 text-gray-400"});default:return v.jsx(UI,{className:"h-6 w-6 text-gray-400"})}},[]),k=O.useCallback(F=>{var N;return(N=e==null?void 0:e.progress)!=null&&N[F]&&e.progress[F].lastSlide||0},[e]);return O.useEffect(()=>{const F=()=>L({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 relative overflow-hidden",children:[v.jsx(f9,{}),v.jsx("div",{className:"absolute inset-0 opacity-10",children:v.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
            linear-gradient(rgba(0, 255, 0, 0.1) 1px, transparent 1px),
            linear-gradient(90deg, rgba(0, 255, 0, 0.1) 1px, transparent 1px)
          `,backgroundSize:"50px 50px"}})}),y&&v.jsx(CA,{width:I.width,height:I.height,recycle:!1,numberOfPieces:200,colors:["#00ff00","#00ffff","#ff00ff","#ffff00","#ff0000","#0000ff"]}),v.jsxs("div",{className:"relative z-10",children:[v.jsx("header",{className:"bg-black/80 backdrop-blur-xl border-b border-green-500/30 p-6",children:v.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:uu,alt:"Cyber Logo",className:"w-16 h-16 animate-pulse"}),v.jsx("div",{className:"absolute inset-0 bg-green-500/20 rounded-full animate-ping"})]}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-400 to-cyan-400 bg-clip-text text-transparent",children:"Israel Cyber Academy"}),v.jsx("p",{className:"text-green-400 text-sm font-mono",children:"Terminal v2.0.1"})]})]}),v.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[v.jsxs("button",{onClick:()=>t("/"),className:"group relative bg-gradient-to-r from-green-600 to-cyan-600 hover:from-green-500 hover:to-cyan-500 text-white px-6 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-green-500/25 border border-green-400/30",children:[v.jsx("div",{className:"absolute inset-0 bg-green-500/20 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),v.jsxs("span",{className:"relative flex items-center space-x-2 space-x-reverse",children:[v.jsx(Zg,{className:"w-5 h-5"}),v.jsx("span",{children:""})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-white font-semibold",children:n}),v.jsx("p",{className:"text-green-400 text-sm font-mono",children:r==="teacher"?"ADMIN":"USER"})]})]})]})}),v.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx(Te.h2,{className:"text-4xl font-bold text-white mb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:"   "}),v.jsxs(Te.p,{className:"text-xl text-green-400 font-mono",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.2},children:[">","       "]}),l&&v.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"mb-8",children:[v.jsxs("button",{onClick:R,className:"group relative bg-gradient-to-r from-green-600 to-cyan-600 hover:from-green-500 hover:to-cyan-500 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-2xl hover:shadow-green-500/25 transform hover:scale-105 transition-all duration-300 flex items-center justify-center mx-auto space-x-3 border border-green-400/30",children:[v.jsx("div",{className:"absolute inset-0 bg-green-500/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),v.jsxs("span",{className:"relative flex items-center space-x-3 space-x-reverse",children:[v.jsx(Zg,{className:"w-6 h-6 group-hover:animate-pulse"}),v.jsxs("span",{children:["  : ",l.lesson.title]}),v.jsx(ku,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]}),v.jsxs("p",{className:"text-green-400 text-sm mt-2 font-mono",children:[">","   ",l.progress.lastSlide+1]})]}),v.jsxs(Te.div,{className:"bg-black/60 backdrop-blur-xl rounded-2xl p-8 shadow-2xl border border-green-500/30 mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[v.jsx("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:" "}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[v.jsxs("div",{className:"group relative bg-gradient-to-br from-green-900/30 to-cyan-900/30 rounded-xl border border-green-500/30 p-6 hover:border-green-400/50 transition-all duration-300",children:[v.jsx("div",{className:"absolute inset-0 bg-green-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),v.jsxs("div",{className:"relative flex flex-col items-center text-center",children:[v.jsx(qI,{className:"h-10 w-10 text-yellow-500 mb-3 group-hover:scale-110 transition-transform"}),v.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:((j=e==null?void 0:e.completedLessons)==null?void 0:j.length)||0}),v.jsx("div",{className:"text-sm text-green-400 font-mono",children:" "})]})]}),v.jsxs("div",{className:"group relative bg-gradient-to-br from-purple-900/30 to-pink-900/30 rounded-xl border border-purple-500/30 p-6 hover:border-purple-400/50 transition-all duration-300",children:[v.jsx("div",{className:"absolute inset-0 bg-purple-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),v.jsxs("div",{className:"relative flex flex-col items-center text-center",children:[v.jsx(HI,{className:"h-10 w-10 text-purple-400 mb-3 group-hover:scale-110 transition-transform"}),v.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:[M(),"%"]}),v.jsx("div",{className:"text-sm text-purple-400 font-mono",children:""})]})]}),v.jsxs("div",{className:"group relative bg-gradient-to-br from-blue-900/30 to-indigo-900/30 rounded-xl border border-blue-500/30 p-6 hover:border-blue-400/50 transition-all duration-300",children:[v.jsx("div",{className:"absolute inset-0 bg-blue-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),v.jsxs("div",{className:"relative flex flex-col items-center text-center",children:[v.jsx($f,{className:"h-10 w-10 text-blue-400 mb-3 group-hover:scale-110 transition-transform"}),v.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:V()}),v.jsx("div",{className:"text-sm text-blue-400 font-mono",children:" "})]})]}),v.jsxs("div",{className:"group relative bg-gradient-to-br from-orange-900/30 to-red-900/30 rounded-xl border border-orange-500/30 p-6 hover:border-orange-400/50 transition-all duration-300",children:[v.jsx("div",{className:"absolute inset-0 bg-orange-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),v.jsxs("div",{className:"relative flex flex-col items-center text-center",children:[v.jsx(WI,{className:"h-10 w-10 text-orange-400 mb-3 group-hover:scale-110 transition-transform"}),v.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:z()}),v.jsx("div",{className:"text-sm text-orange-400 font-mono",children:" "})]})]})]}),v.jsx("div",{className:"w-full bg-gray-800/50 rounded-full h-4 mb-4 border border-gray-700",children:v.jsx("div",{className:"bg-gradient-to-r from-green-500 to-cyan-500 h-4 rounded-full transition-all duration-500 shadow-lg shadow-green-500/25",style:{width:`${M()}%`}})}),v.jsxs("p",{className:"text-center text-green-400 text-sm font-mono",children:[">","  : ",M(),"% (",((U=e==null?void 0:e.completedLessons)==null?void 0:U.length)||0,"  ",(lt==null?void 0:lt.length)||0," )"]})]})]}),v.jsx(Te.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:lt&&Array.isArray(lt)&&lt.length>0?lt.map((F,N)=>{var Z,ue,ie,H;if(!F||!F.id)return console.warn(" Invalid lesson data:",F),null;const ae=P(F.id),Se=d.has(F.id),Ee=k(F.id),ve=p9(F.id);return(!F.content||!F.content.slides)&&console.warn(" Lesson missing content or slides:",F.id,F),v.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1*N},className:`relative group cursor-pointer transform transition-all duration-500 hover:scale-105 ${Se?"animate-pulse":""}`,onClick:()=>G(F),children:[v.jsxs("div",{className:`relative bg-gradient-to-br from-gray-900/80 to-black/80 backdrop-blur-xl rounded-2xl p-8 border-2 transition-all duration-500 hover:shadow-2xl hover:shadow-green-500/25 ${ae==="completed"?"border-green-500 bg-green-900/20 hover:border-green-400":ae==="available"?"border-cyan-500 bg-cyan-900/20 hover:border-cyan-400":"border-gray-600 bg-gray-900/20 hover:border-gray-500"}`,children:[v.jsx("div",{className:`absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 ${ae==="completed"?"bg-green-500/10":ae==="available"?"bg-cyan-500/10":"bg-gray-500/10"}`}),v.jsxs("div",{className:"relative flex justify-between items-start mb-6",children:[v.jsx("div",{className:`p-4 rounded-xl ${ae==="completed"?"bg-green-500/20 text-green-400":ae==="available"?"bg-cyan-500/20 text-cyan-400":"bg-gray-500/20 text-gray-400"}`,children:v.jsx(ve,{className:"h-8 w-8"})}),v.jsxs("div",{className:"flex items-center space-x-2",children:[A(ae),Se&&v.jsx(Cj,{className:"h-5 w-5 text-yellow-400 animate-pulse"})]})]}),v.jsxs("div",{className:"relative space-y-4",children:[v.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-green-300 transition-colors",children:F.title||"  "}),v.jsx("p",{className:"text-gray-300 text-sm line-clamp-2",children:F.description||"  "}),v.jsxs("div",{className:"flex items-center justify-between text-sm",children:[v.jsxs("span",{className:"text-green-400 font-mono",children:[" ",F.duration||" "]}),v.jsxs("span",{className:"text-cyan-400 font-mono",children:[" ",F.difficulty||" "]})]}),(ae==="available"||ae==="completed")&&v.jsxs("div",{className:"mt-6",children:[v.jsxs("div",{className:"flex justify-between text-sm text-gray-300 mb-2",children:[v.jsx("span",{className:"font-mono",children:""}),v.jsxs("span",{className:"font-mono",children:[Ee+1," / ",((ue=(Z=F.content)==null?void 0:Z.slides)==null?void 0:ue.length)||0]})]}),v.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3 border border-gray-700",children:v.jsx("div",{className:`h-3 rounded-full transition-all duration-500 shadow-lg ${ae==="completed"?"bg-gradient-to-r from-green-500 to-green-400 shadow-green-500/25":"bg-gradient-to-r from-cyan-500 to-blue-500 shadow-cyan-500/25"}`,style:{width:`${ae==="completed"?100:(Ee+1)/(((H=(ie=F.content)==null?void 0:ie.slides)==null?void 0:H.length)||1)*100}%`}})})]}),v.jsx("div",{className:"mt-6",children:ae==="completed"?v.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400 bg-green-500/10 rounded-lg py-3 border border-green-500/30",children:[v.jsx(gr,{className:"h-5 w-5"}),v.jsx("span",{className:"font-medium font-mono",children:""})]}):ae==="available"?v.jsxs("div",{className:"flex items-center justify-center space-x-2 text-cyan-400 bg-cyan-500/10 rounded-lg py-3 border border-cyan-500/30 group-hover:bg-cyan-500/20 transition-colors",children:[v.jsx(by,{className:"h-5 w-5"}),v.jsx("span",{className:"font-medium font-mono",children:Ee>0?"":""})]}):v.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400 bg-gray-500/10 rounded-lg py-3 border border-gray-500/30",children:[v.jsx(Cb,{className:"h-5 w-5"}),v.jsx("span",{className:"font-medium font-mono",children:""})]})})]})]}),Se&&v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400/20 to-orange-400/20 rounded-2xl border-2 border-yellow-400 animate-pulse"})]},F.id)}):v.jsxs("div",{className:"col-span-full text-center py-12",children:[v.jsx("div",{className:"text-gray-400 text-xl mb-4 font-mono",children:"  "}),v.jsx("div",{className:"text-gray-500 text-sm font-mono",children:lt?"   ":" ..."})]})})]}),v.jsxs("footer",{className:"bg-black/80 border-t border-green-500/30 py-8 mt-12 flex flex-col items-center",children:[v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:uu,alt:"Cyber Logo",className:"w-32 h-32 mb-4 opacity-80 hover:opacity-100 transition-opacity"}),v.jsx("div",{className:"absolute inset-0 bg-green-500/10 rounded-full animate-ping"})]}),v.jsx("p",{className:"text-green-400 text-sm font-mono",children:" 2024 Israel Cyber Campus.   ."}),v.jsx("p",{className:"text-gray-500 text-xs font-mono mt-2",children:"Terminal v2.0.1 | Matrix Protocol Active"})]})]})]})},g9=({slide:t})=>{var n;const{content:e}=t;return v.jsxs("div",{className:"min-h-[600px] flex items-center justify-center p-8 rounded-xl relative overflow-hidden",style:{background:e.background||"linear-gradient(135deg, #1e3a8a 0%, #7c3aed 100%)",position:"relative"},children:[v.jsx("div",{className:"absolute inset-0 bg-black/20"}),v.jsx("div",{className:"text-center max-w-5xl relative z-10",children:(n=e.elements)==null?void 0:n.map((r,i)=>{var o;switch(r.type){case"title":return v.jsx("h1",{style:{...r.style,textShadow:"0 4px 8px rgba(0,0,0,0.3)",fontWeight:"700"},className:"mb-8 text-5xl md:text-6xl",children:r.text},i);case"subtitle":return v.jsx("h2",{style:{...r.style,textShadow:"0 2px 4px rgba(0,0,0,0.3)"},className:"mb-6 text-2xl md:text-3xl",children:r.text},i);case"list":return v.jsx("ul",{style:{...r.style,textShadow:"0 1px 2px rgba(0,0,0,0.3)"},className:"text-right space-y-3",children:(o=r.items)==null?void 0:o.map((l,c)=>v.jsx("li",{className:"mb-3 p-3 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/20 transition-all duration-300",children:l},c))},i);case"image":return v.jsx("div",{className:"my-8",children:v.jsx("img",{src:r.src,alt:r.alt,style:{...r.style,boxShadow:"0 20px 40px rgba(0,0,0,0.3)",borderRadius:"20px"},className:"mx-auto transform hover:scale-105 transition-transform duration-300"})},i);case"animation":return v.jsx("div",{style:{...r.style,animation:"bounce 2s infinite"},className:"animate-bounce",children:r.element},i);default:return null}})})]})},v9=({slide:t,onAnswer:e,answers:n})=>{var f;const{content:r}=t,[i,o]=O.useState(null),[l,c]=O.useState(!1),d=m=>{o(m),c(!0),e(t.id,{selectedOption:m,isCorrect:!0})};return v.jsx("div",{className:"min-h-[600px] flex flex-col items-center justify-center p-8",children:v.jsxs("div",{className:"max-w-4xl w-full",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"text-4xl font-bold text-white mb-6",style:{textShadow:"0 4px 8px rgba(0,0,0,0.3)"},children:t.title}),v.jsx("p",{className:"text-2xl text-gray-200",style:{textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:r.question})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(f=r.options)==null?void 0:f.map(m=>v.jsx("button",{onClick:()=>d(m.id),disabled:l,className:`p-6 rounded-xl border-2 transition-all duration-300 transform hover:scale-105 ${i===m.id?"bg-gradient-to-r from-blue-600 to-purple-600 border-blue-400 text-white shadow-2xl":l?"bg-gray-700/50 border-gray-600 text-gray-300 cursor-not-allowed":"bg-gray-800/50 border-gray-600 text-white hover:bg-gray-700/50 hover:border-gray-500"}`,children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{className:"text-3xl mr-4",children:m.emoji}),v.jsx("span",{className:"text-lg font-medium",children:m.text})]}),i===m.id&&v.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:v.jsx(gr,{className:"w-4 h-4 text-blue-600"})})]})},m.id))}),l&&v.jsx("div",{className:"mt-8 text-center",children:v.jsxs("div",{className:"bg-green-600/20 border border-green-500/30 rounded-xl p-6",children:[v.jsx("h3",{className:"text-2xl font-bold text-green-400 mb-2",children:"  !"}),v.jsx("p",{className:"text-gray-300",children:"   "})]})})]})})},y9=({slide:t,onAnswer:e,answers:n})=>{const{content:r}=t,[i,o]=O.useState(!1),[l,c]=O.useState(!1),d=()=>{c(!0)},f=()=>{o(!0),e(t.id,{completed:!0,isCorrect:!0})};return v.jsx("div",{className:"min-h-[600px] flex flex-col items-center justify-center p-8",children:v.jsxs("div",{className:"max-w-4xl w-full",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h2",{className:"text-4xl font-bold text-white mb-4",style:{textShadow:"0 4px 8px rgba(0,0,0,0.3)"},children:t.title}),v.jsx("p",{className:"text-xl text-gray-200",style:{textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:r.description})]}),v.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden shadow-2xl",children:[v.jsx("div",{className:"aspect-video",children:v.jsx("iframe",{src:r.videoUrl,title:t.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:d,onEnded:f})}),!l&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 hover:bg-black/20 transition-all duration-300 cursor-pointer",onClick:d,children:v.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-4",children:v.jsx(by,{className:"w-12 h-12 text-white"})})})]}),i&&v.jsx("div",{className:"mt-8 text-center",children:v.jsxs("div",{className:"bg-green-600/20 border border-green-500/30 rounded-xl p-6",children:[v.jsx("h3",{className:"text-2xl font-bold text-green-400 mb-2",children:" !"}),v.jsx("p",{className:"text-gray-300",children:"   "})]})})]})})};function gv(t,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},gv(t,e)}function AA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,gv(t,e)}function Pe(){return Pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pe.apply(null,arguments)}function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function x9(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w9(t){var e=x9(t,"string");return du(e)=="symbol"?e:e+""}function b9(t,e,n){return(e=w9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(n),!0).forEach(function(r){b9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var qE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),KE=function(){return Math.random().toString(36).substring(7).split("").join(".")},QE={INIT:"@@redux/INIT"+KE(),REPLACE:"@@redux/REPLACE"+KE()};function E9(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function PA(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mn(1));return n(PA)(t,e)}if(typeof t!="function")throw new Error(Mn(2));var i=t,o=e,l=[],c=l,d=!1;function f(){c===l&&(c=l.slice())}function m(){if(d)throw new Error(Mn(3));return o}function g(C){if(typeof C!="function")throw new Error(Mn(4));if(d)throw new Error(Mn(5));var I=!0;return f(),c.push(C),function(){if(I){if(d)throw new Error(Mn(6));I=!1,f();var P=c.indexOf(C);c.splice(P,1),l=null}}}function y(C){if(!E9(C))throw new Error(Mn(7));if(typeof C.type>"u")throw new Error(Mn(8));if(d)throw new Error(Mn(9));try{d=!0,o=i(o,C)}finally{d=!1}for(var I=l=c,L=0;L<I.length;L++){var P=I[L];P()}return C}function E(C){if(typeof C!="function")throw new Error(Mn(10));i=C,y({type:QE.REPLACE})}function S(){var C,I=g;return C={subscribe:function(P){if(typeof P!="object"||P===null)throw new Error(Mn(11));function M(){P.next&&P.next(m())}M();var z=I(M);return{unsubscribe:z}}},C[qE]=function(){return this},C}return y({type:QE.INIT}),r={dispatch:y,subscribe:g,getState:m,replaceReducer:E},r[qE]=S,r}function YE(t,e){return function(){return e(t.apply(this,arguments))}}function XE(t,e){if(typeof t=="function")return YE(t,e);if(typeof t!="object"||t===null)throw new Error(Mn(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=YE(i,e))}return n}function RA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function _9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Mn(15))},l={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},c=e.map(function(d){return d(l)});return o=RA.apply(void 0,c)(i.dispatch),GE(GE({},i),{},{dispatch:o})}}}var NA=tt.createContext(null);function S9(t){t()}var kA=S9,T9=function(e){return kA=e},I9=function(){return kA};function C9(){var t=I9(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,l=n={callback:i,next:null,prev:n};return l.prev?l.prev.next=l:e=l,function(){!o||e===null||(o=!1,l.next?l.next.prev=l.prev:n=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var JE={notify:function(){},get:function(){return[]}};function DA(t,e){var n,r=JE;function i(g){return d(),r.subscribe(g)}function o(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return!!n}function d(){n||(n=e?e.addNestedSub(l):t.subscribe(l),r=C9())}function f(){n&&(n(),n=void 0,r.clear(),r=JE)}var m={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:d,tryUnsubscribe:f,getListeners:function(){return r}};return m}var MA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect;function A9(t){var e=t.store,n=t.context,r=t.children,i=O.useMemo(function(){var c=DA(e);return{store:e,subscription:c}},[e]),o=O.useMemo(function(){return e.getState()},[e]);MA(function(){var c=i.subscription;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==e.getState()&&c.notifyNestedSubs(),function(){c.tryUnsubscribe(),c.onStateChange=null}},[i,o]);var l=n||NA;return tt.createElement(l.Provider,{value:i},r)}function lf(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var og={exports:{}},nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function P9(){if(ZE)return nt;ZE=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,m=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,E=t?Symbol.for("react.memo"):60115,S=t?Symbol.for("react.lazy"):60116,C=t?Symbol.for("react.block"):60121,I=t?Symbol.for("react.fundamental"):60117,L=t?Symbol.for("react.responder"):60118,P=t?Symbol.for("react.scope"):60119;function M(V){if(typeof V=="object"&&V!==null){var G=V.$$typeof;switch(G){case e:switch(V=V.type,V){case d:case f:case r:case o:case i:case g:return V;default:switch(V=V&&V.$$typeof,V){case c:case m:case S:case E:case l:return V;default:return G}}case n:return G}}}function z(V){return M(V)===f}return nt.AsyncMode=d,nt.ConcurrentMode=f,nt.ContextConsumer=c,nt.ContextProvider=l,nt.Element=e,nt.ForwardRef=m,nt.Fragment=r,nt.Lazy=S,nt.Memo=E,nt.Portal=n,nt.Profiler=o,nt.StrictMode=i,nt.Suspense=g,nt.isAsyncMode=function(V){return z(V)||M(V)===d},nt.isConcurrentMode=z,nt.isContextConsumer=function(V){return M(V)===c},nt.isContextProvider=function(V){return M(V)===l},nt.isElement=function(V){return typeof V=="object"&&V!==null&&V.$$typeof===e},nt.isForwardRef=function(V){return M(V)===m},nt.isFragment=function(V){return M(V)===r},nt.isLazy=function(V){return M(V)===S},nt.isMemo=function(V){return M(V)===E},nt.isPortal=function(V){return M(V)===n},nt.isProfiler=function(V){return M(V)===o},nt.isStrictMode=function(V){return M(V)===i},nt.isSuspense=function(V){return M(V)===g},nt.isValidElementType=function(V){return typeof V=="string"||typeof V=="function"||V===r||V===f||V===o||V===i||V===g||V===y||typeof V=="object"&&V!==null&&(V.$$typeof===S||V.$$typeof===E||V.$$typeof===l||V.$$typeof===c||V.$$typeof===m||V.$$typeof===I||V.$$typeof===L||V.$$typeof===P||V.$$typeof===C)},nt.typeOf=M,nt}var e_;function R9(){return e_||(e_=1,og.exports=P9()),og.exports}var ag,t_;function N9(){if(t_)return ag;t_=1;var t=R9(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function l(S){return t.isMemo(S)?i:o[S.$$typeof]||e}var c=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,y=Object.prototype;function E(S,C,I){if(typeof C!="string"){if(y){var L=g(C);L&&L!==y&&E(S,L,I)}var P=d(C);f&&(P=P.concat(f(C)));for(var M=l(S),z=l(C),V=0;V<P.length;++V){var G=P[V];if(!n[G]&&!(I&&I[G])&&!(z&&z[G])&&!(M&&M[G])){var R=m(C,G);try{c(S,G,R)}catch{}}}}return S}return ag=E,ag}var k9=N9();const n_=Sv(k9);var lg={exports:{}},ot={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function D9(){if(r_)return ot;r_=1;var t=60103,e=60106,n=60107,r=60108,i=60114,o=60109,l=60110,c=60112,d=60113,f=60120,m=60115,g=60116,y=60121,E=60122,S=60117,C=60129,I=60131;if(typeof Symbol=="function"&&Symbol.for){var L=Symbol.for;t=L("react.element"),e=L("react.portal"),n=L("react.fragment"),r=L("react.strict_mode"),i=L("react.profiler"),o=L("react.provider"),l=L("react.context"),c=L("react.forward_ref"),d=L("react.suspense"),f=L("react.suspense_list"),m=L("react.memo"),g=L("react.lazy"),y=L("react.block"),E=L("react.server.block"),S=L("react.fundamental"),C=L("react.debug_trace_mode"),I=L("react.legacy_hidden")}function P(N){if(typeof N=="object"&&N!==null){var ae=N.$$typeof;switch(ae){case t:switch(N=N.type,N){case n:case i:case r:case d:case f:return N;default:switch(N=N&&N.$$typeof,N){case l:case c:case g:case m:case o:return N;default:return ae}}case e:return ae}}}var M=o,z=t,V=c,G=n,R=g,A=m,k=e,j=i,U=r,F=d;return ot.ContextConsumer=l,ot.ContextProvider=M,ot.Element=z,ot.ForwardRef=V,ot.Fragment=G,ot.Lazy=R,ot.Memo=A,ot.Portal=k,ot.Profiler=j,ot.StrictMode=U,ot.Suspense=F,ot.isAsyncMode=function(){return!1},ot.isConcurrentMode=function(){return!1},ot.isContextConsumer=function(N){return P(N)===l},ot.isContextProvider=function(N){return P(N)===o},ot.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===t},ot.isForwardRef=function(N){return P(N)===c},ot.isFragment=function(N){return P(N)===n},ot.isLazy=function(N){return P(N)===g},ot.isMemo=function(N){return P(N)===m},ot.isPortal=function(N){return P(N)===e},ot.isProfiler=function(N){return P(N)===i},ot.isStrictMode=function(N){return P(N)===r},ot.isSuspense=function(N){return P(N)===d},ot.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===i||N===C||N===r||N===d||N===f||N===I||typeof N=="object"&&N!==null&&(N.$$typeof===g||N.$$typeof===m||N.$$typeof===o||N.$$typeof===l||N.$$typeof===c||N.$$typeof===S||N.$$typeof===y||N[0]===E)},ot.typeOf=P,ot}var i_;function M9(){return i_||(i_=1,lg.exports=D9()),lg.exports}var O9=M9(),L9=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],j9=["reactReduxForwardedRef"],V9=[],F9=[null,null];function B9(t,e){var n=t[1];return[e.payload,n+1]}function s_(t,e,n){MA(function(){return t.apply(void 0,e)},n)}function U9(t,e,n,r,i,o,l){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,l())}function z9(t,e,n,r,i,o,l,c,d,f){if(t){var m=!1,g=null,y=function(){if(!m){var C=e.getState(),I,L;try{I=r(C,i.current)}catch(P){L=P,g=P}L||(g=null),I===o.current?l.current||d():(o.current=I,c.current=I,l.current=!0,f({type:"STORE_UPDATED",payload:{error:L}}))}};n.onStateChange=y,n.trySubscribe(),y();var E=function(){if(m=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g};return E}}var $9=function(){return[null,0]};function H9(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(M){return"ConnectAdvanced("+M+")"}:r,o=n.methodName,l=o===void 0?"connectAdvanced":o,c=n.renderCountProp,d=c===void 0?void 0:c,f=n.shouldHandleStateChanges,m=f===void 0?!0:f,g=n.storeKey,y=g===void 0?"store":g;n.withRef;var E=n.forwardRef,S=E===void 0?!1:E,C=n.context,I=C===void 0?NA:C,L=lf(n,L9),P=I;return function(z){var V=z.displayName||z.name||"Component",G=i(V),R=Pe({},L,{getDisplayName:i,methodName:l,renderCountProp:d,shouldHandleStateChanges:m,storeKey:y,displayName:G,wrappedComponentName:V,WrappedComponent:z}),A=L.pure;function k(ae){return t(ae.dispatch,R)}var j=A?O.useMemo:function(ae){return ae()};function U(ae){var Se=O.useMemo(function(){var xn=ae.reactReduxForwardedRef,on=lf(ae,j9);return[ae.context,xn,on]},[ae]),Ee=Se[0],ve=Se[1],Z=Se[2],ue=O.useMemo(function(){return Ee&&Ee.Consumer&&O9.isContextConsumer(tt.createElement(Ee.Consumer,null))?Ee:P},[Ee,P]),ie=O.useContext(ue),H=!!ae.store&&!!ae.store.getState&&!!ae.store.dispatch;ie&&ie.store;var X=H?ae.store:ie.store,pe=O.useMemo(function(){return k(X)},[X]),Re=O.useMemo(function(){if(!m)return F9;var xn=DA(X,H?null:ie.subscription),on=xn.notifyNestedSubs.bind(xn);return[xn,on]},[X,H,ie]),ke=Re[0],Fe=Re[1],Be=O.useMemo(function(){return H?ie:Pe({},ie,{subscription:ke})},[H,ie,ke]),ze=O.useReducer(B9,V9,$9),Xe=ze[0],it=Xe[0],he=ze[1];if(it&&it.error)throw it.error;var Ve=O.useRef(),Ke=O.useRef(Z),He=O.useRef(),Ut=O.useRef(!1),kt=j(function(){return He.current&&Z===Ke.current?He.current:pe(X.getState(),Z)},[X,it,Z]);s_(U9,[Ke,Ve,Ut,Z,kt,He,Fe]),s_(z9,[m,X,ke,pe,Ke,Ve,Ut,He,Fe,he],[X,ke,pe]);var er=O.useMemo(function(){return tt.createElement(z,Pe({},kt,{ref:ve}))},[ve,z,kt]),ai=O.useMemo(function(){return m?tt.createElement(ue.Provider,{value:Be},er):er},[ue,er,Be]);return ai}var F=A?tt.memo(U):U;if(F.WrappedComponent=z,F.displayName=U.displayName=G,S){var N=tt.forwardRef(function(Se,Ee){return tt.createElement(F,Pe({},Se,{reactReduxForwardedRef:Ee}))});return N.displayName=G,N.WrappedComponent=z,n_(N,z)}return n_(F,z)}}function o_(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function cg(t,e){if(o_(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!o_(t[n[i]],e[n[i]]))return!1;return!0}function W9(t,e){var n={},r=function(l){var c=t[l];typeof c=="function"&&(n[l]=function(){return e(c.apply(void 0,arguments))})};for(var i in t)r(i);return n}function r0(t){return function(n,r){var i=t(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function a_(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function OA(t,e){return function(r,i){i.displayName;var o=function(c,d){return o.dependsOnOwnProps?o.mapToProps(c,d):o.mapToProps(c)};return o.dependsOnOwnProps=!0,o.mapToProps=function(c,d){o.mapToProps=t,o.dependsOnOwnProps=a_(t);var f=o(c,d);return typeof f=="function"&&(o.mapToProps=f,o.dependsOnOwnProps=a_(f),f=o(c,d)),f},o}}function G9(t){return typeof t=="function"?OA(t):void 0}function q9(t){return t?void 0:r0(function(e){return{dispatch:e}})}function K9(t){return t&&typeof t=="object"?r0(function(e){return W9(t,e)}):void 0}const Q9=[G9,q9,K9];function Y9(t){return typeof t=="function"?OA(t):void 0}function X9(t){return t?void 0:r0(function(){return{}})}const J9=[Y9,X9];function Z9(t,e,n){return Pe({},n,t,e)}function eU(t){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,l=!1,c;return function(f,m,g){var y=t(f,m,g);return l?(!i||!o(y,c))&&(c=y):(l=!0,c=y),c}}}function tU(t){return typeof t=="function"?eU(t):void 0}function nU(t){return t?void 0:function(){return Z9}}const rU=[tU,nU];var iU=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function sU(t,e,n,r){return function(o,l){return n(t(o,l),e(r,l),l)}}function oU(t,e,n,r,i){var o=i.areStatesEqual,l=i.areOwnPropsEqual,c=i.areStatePropsEqual,d=!1,f,m,g,y,E;function S(M,z){return f=M,m=z,g=t(f,m),y=e(r,m),E=n(g,y,m),d=!0,E}function C(){return g=t(f,m),e.dependsOnOwnProps&&(y=e(r,m)),E=n(g,y,m),E}function I(){return t.dependsOnOwnProps&&(g=t(f,m)),e.dependsOnOwnProps&&(y=e(r,m)),E=n(g,y,m),E}function L(){var M=t(f,m),z=!c(M,g);return g=M,z&&(E=n(g,y,m)),E}function P(M,z){var V=!l(z,m),G=!o(M,f,z,m);return f=M,m=z,V&&G?C():V?I():G?L():E}return function(z,V){return d?P(z,V):S(z,V)}}function aU(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=lf(e,iU),l=n(t,o),c=r(t,o),d=i(t,o),f=o.pure?oU:sU;return f(l,c,d,t,o)}var lU=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function ug(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(o,l){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+l.wrappedComponentName+".")}}function cU(t,e){return t===e}function uU(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?H9:n,i=e.mapStateToPropsFactories,o=i===void 0?J9:i,l=e.mapDispatchToPropsFactories,c=l===void 0?Q9:l,d=e.mergePropsFactories,f=d===void 0?rU:d,m=e.selectorFactory,g=m===void 0?aU:m;return function(E,S,C,I){I===void 0&&(I={});var L=I,P=L.pure,M=P===void 0?!0:P,z=L.areStatesEqual,V=z===void 0?cU:z,G=L.areOwnPropsEqual,R=G===void 0?cg:G,A=L.areStatePropsEqual,k=A===void 0?cg:A,j=L.areMergedPropsEqual,U=j===void 0?cg:j,F=lf(L,lU),N=ug(E,o,"mapStateToProps"),ae=ug(S,c,"mapDispatchToProps"),Se=ug(C,f,"mergeProps");return r(g,Pe({methodName:"connect",getDisplayName:function(ve){return"Connect("+ve+")"},shouldHandleStateChanges:!!E,initMapStateToProps:N,initMapDispatchToProps:ae,initMergeProps:Se,pure:M,areStatesEqual:V,areOwnPropsEqual:R,areStatePropsEqual:k,areMergedPropsEqual:U},F))}}const LA=uU();T9(V_.unstable_batchedUpdates);function dU(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function jA(t,e){var n=O.useState(function(){return{inputs:e,result:t()}})[0],r=O.useRef(!0),i=O.useRef(n),o=r.current||!!(e&&i.current.inputs&&dU(e,i.current.inputs)),l=o?i.current:{inputs:e,result:t()};return O.useEffect(function(){r.current=!1,i.current=l},[l]),l.result}function hU(t,e){return jA(function(){return t},e)}var Ze=jA,be=hU,fU="Invariant failed";function pU(t,e){throw new Error(fU)}var Lr=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,l=r-o,c=i-n,d={top:n,right:r,bottom:i,left:o,width:l,height:c,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return d},i0=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},l_=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},mU=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},dg={top:0,right:0,bottom:0,left:0},s0=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?dg:r,o=e.border,l=o===void 0?dg:o,c=e.padding,d=c===void 0?dg:c,f=Lr(i0(n,i)),m=Lr(l_(n,l)),g=Lr(l_(m,d));return{marginBox:f,borderBox:Lr(n),paddingBox:m,contentBox:g,margin:i,border:l,padding:d}},hr=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&pU(),i},gU=function(){return{x:window.pageXOffset,y:window.pageYOffset}},cf=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,l=e.padding,c=mU(r,n);return s0({borderBox:c,border:i,margin:o,padding:l})},uf=function(e,n){return n===void 0&&(n=gU()),cf(e,n)},VA=function(e,n){var r={top:hr(n.marginTop),right:hr(n.marginRight),bottom:hr(n.marginBottom),left:hr(n.marginLeft)},i={top:hr(n.paddingTop),right:hr(n.paddingRight),bottom:hr(n.paddingBottom),left:hr(n.paddingLeft)},o={top:hr(n.borderTopWidth),right:hr(n.borderRightWidth),bottom:hr(n.borderBottomWidth),left:hr(n.borderLeftWidth)};return s0({borderBox:e,margin:r,padding:i,border:o})},FA=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return VA(n,r)},c_=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function vU(t,e){return!!(t===e||c_(t)&&c_(e))}function yU(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!vU(t[n],e[n]))return!1;return!0}function Kt(t,e){e===void 0&&(e=yU);var n,r=[],i,o=!1;function l(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return o&&n===this&&e(c,r)||(i=t.apply(this,c),o=!0,n=this,r=c),i}return l}var hu=function(e){var n=[],r=null,i=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];n=c,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function BA(t,e){}BA.bind(null,"warn");BA.bind(null,"error");function Cs(){}function xU(t,e){return Pe({},t,{},e)}function mr(t,e,n){var r=e.map(function(i){var o=xU(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var wU="Invariant failed";function df(t){this.message=t}df.prototype.toString=function(){return this.message};function le(t,e){throw new df(wU)}var bU=function(t){AA(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.callbacks=null,r.unbind=Cs,r.onWindowError=function(c){var d=r.getCallbacks();d.isDragging()&&d.tryAbort();var f=c.error;f instanceof df&&c.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(c){r.callbacks=c},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=mr(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof df){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(tt.Component),EU=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,hf=function(e){return e+1},_U=function(e){return`
  You have lifted an item in position `+hf(e.source.index)+`
`},UA=function(e,n){var r=e.droppableId===n.droppableId,i=hf(e.index),o=hf(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},zA=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},SU=function(e){var n=e.destination;if(n)return UA(e.source,n);var r=e.combine;return r?zA(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},u_=function(e){return`
  The item has returned to its starting position
  of `+hf(e.index)+`
`},TU=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+u_(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+UA(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+zA(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+u_(e.source)+`
  `},Ah={dragHandleUsageInstructions:EU,onDragStart:_U,onDragUpdate:SU,onDragEnd:TU},Xt={x:0,y:0},sn=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},Qn=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},As=function(e,n){return e.x===n.x&&e.y===n.y},Cl=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},$o=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},fu=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},d_=function(e,n){return Math.min.apply(Math,n.map(function(r){return fu(e,r)}))},$A=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},IU=function(t,e){var n=Lr({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},ju=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},h_=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},CU={top:0,right:0,bottom:0,left:0},AU=function(e,n){return n?ju(e,n.scroll.diff.displacement):e},PU=function(e,n,r){if(r&&r.increasedBy){var i;return Pe({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},RU=function(e,n){return n&&n.shouldClipSubject?IU(n.pageMarginBox,e):Lr(e)},dl=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,o=AU(e.marginBox,i),l=PU(o,r,n),c=RU(l,i);return{page:e,withPlaceholder:n,active:c}},o0=function(t,e){t.frame||le();var n=t.frame,r=Qn(e,n.scroll.initial),i=Cl(r),o=Pe({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),l=dl({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o}),c=Pe({},t,{frame:o,subject:l});return c};function ff(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function a0(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function Gs(t,e){if(t.find)return t.find(e);var n=a0(t,e);if(n!==-1)return t[n]}function HA(t){return Array.prototype.slice.call(t)}var WA=Kt(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),GA=Kt(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),Qf=Kt(function(t){return ff(t)}),NU=Kt(function(t){return ff(t)}),Al=Kt(function(t,e){var n=NU(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function l0(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Yf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Xf=Kt(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),kU=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.previousImpact;if(!r.isCombineEnabled)return null;var l=l0(o);if(!l)return null;function c(C){var I={type:"COMBINE",combine:{draggableId:C,droppableId:r.descriptor.id}};return Pe({},o,{at:I})}var d=o.displaced.all,f=d.length?d[0]:null;if(e)return f?c(f):null;var m=Xf(n,i);if(!f){if(!m.length)return null;var g=m[m.length-1];return c(g.descriptor.id)}var y=a0(m,function(C){return C.descriptor.id===f});y===-1&&le();var E=y-1;if(E<0)return null;var S=m[E];return c(S.descriptor.id)},Pl=function(t,e){return t.descriptor.droppableId===e.descriptor.id},qA={point:Xt,value:0},pu={invisible:{},visible:{},all:[]},DU={displaced:pu,displacedBy:qA,at:null},vr=function(t,e){return function(n){return t<=n&&n<=e}},KA=function(t){var e=vr(t.top,t.bottom),n=vr(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=e(r.top)||e(r.bottom),l=n(r.left)||n(r.right),c=o&&l;if(c)return!0;var d=r.top<t.top&&r.bottom>t.bottom,f=r.left<t.left&&r.right>t.right,m=d&&f;if(m)return!0;var g=d&&l||f&&o;return g}},MU=function(t){var e=vr(t.top,t.bottom),n=vr(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},c0={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},QA={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},OU=function(t){return function(e){var n=vr(e.top,e.bottom),r=vr(e.left,e.right);return function(i){return t===c0?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},LU=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:Xt;return ju(e,r)},jU=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},VU=function(e,n,r){return r(n)(e)},u0=function(e){var n=e.target,r=e.destination,i=e.viewport,o=e.withDroppableDisplacement,l=e.isVisibleThroughFrameFn,c=o?LU(n,r):n;return jU(c,r,l)&&VU(c,i,l)},FU=function(e){return u0(Pe({},e,{isVisibleThroughFrameFn:KA}))},YA=function(e){return u0(Pe({},e,{isVisibleThroughFrameFn:MU}))},BU=function(e){return u0(Pe({},e,{isVisibleThroughFrameFn:OU(e.destination.axis)}))},UU=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[e])return!1;var l=o[e];return l?l.shouldAnimate:!0};function zU(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Lr(i0(n,r))}function mu(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,o=t.forceShouldAnimate,l=t.last;return e.reduce(function(d,f){var m=zU(f,r),g=f.descriptor.id;d.all.push(g);var y=FU({target:m,destination:n,viewport:i,withDroppableDisplacement:!0});if(!y)return d.invisible[f.descriptor.id]=!0,d;var E=UU(g,l,o),S={draggableId:g,shouldAnimate:E};return d.visible[g]=S,d},{all:[],visible:{},invisible:{}})}function $U(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function f_(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,o=$U(e,{inHomeList:n});return{displaced:pu,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function pf(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,o=t.displacedBy,l=t.last,c=t.index,d=t.forceShouldAnimate,f=Pl(e,r);if(c==null)return f_({insideDestination:n,inHomeList:f,displacedBy:o,destination:r});var m=Gs(n,function(C){return C.descriptor.index===c});if(!m)return f_({insideDestination:n,inHomeList:f,displacedBy:o,destination:r});var g=Xf(e,n),y=n.indexOf(m),E=g.slice(y),S=mu({afterDragging:E,destination:r,displacedBy:o,last:l,viewport:i.frame,forceShouldAnimate:d});return{displaced:S,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:c}}}}function Vs(t,e){return!!e.effected[t]}var HU=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var l=i.draggableId,c=r[l],d=c.descriptor.index,f=Vs(l,o);return f?e?d:d-1:e?d+1:d},WU=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var o=i.index,l=e?o+1:o-1,c=r[0].descriptor.index,d=r[r.length-1].descriptor.index,f=n?d:d+1;return l<c||l>f?null:l},GU=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,o=t.destination,l=t.insideDestination,c=t.previousImpact,d=t.viewport,f=t.afterCritical,m=c.at;if(m||le(),m.type==="REORDER"){var g=WU({isMovingForward:e,isInHomeList:n,location:m.destination,insideDestination:l});return g==null?null:pf({draggable:r,insideDestination:l,destination:o,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:g})}var y=HU({isMovingForward:e,destination:o,displaced:c.displaced,draggables:i,combine:m.combine,afterCritical:f});return y==null?null:pf({draggable:r,insideDestination:l,destination:o,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:y})},qU=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,o=!!(e.visible[r]||e.invisible[r]);return Vs(r,n)?o?Xt:Cl(i.point):o?i.point:Xt},KU=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=Yf(n);i||le();var o=i.draggableId,l=r[o].page.borderBox.center,c=qU({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return sn(l,c)},XA=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},QU=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},d0=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},p_=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return $o(n.line,r.marginBox[n.end]+XA(n,i),d0(n,r.marginBox,i))},m_=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return $o(n.line,r.marginBox[n.start]-QU(n,i),d0(n,r.marginBox,i))},YU=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return $o(n.line,r.contentBox[n.start]+XA(n,i),d0(n,r.contentBox,i))},XU=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,o=t.afterCritical,l=Al(i.descriptor.id,r),c=n.page,d=i.axis;if(!l.length)return YU({axis:d,moveInto:i.page,isMoving:c});var f=e.displaced,m=e.displacedBy,g=f.all[0];if(g){var y=r[g];if(Vs(g,o))return m_({axis:d,moveRelativeTo:y.page,isMoving:c});var E=cf(y.page,m.point);return m_({axis:d,moveRelativeTo:E,isMoving:c})}var S=l[l.length-1];if(S.descriptor.id===n.descriptor.id)return c.borderBox.center;if(Vs(S.descriptor.id,o)){var C=cf(S.page,Cl(o.displacedBy.point));return p_({axis:d,moveRelativeTo:C,isMoving:c})}return p_({axis:d,moveRelativeTo:S.page,isMoving:c})},vv=function(t,e){var n=t.frame;return n?sn(e,n.scroll.diff.displacement):e},JU=function(e){var n=e.impact,r=e.draggable,i=e.droppable,o=e.draggables,l=e.afterCritical,c=r.page.borderBox.center,d=n.at;return!i||!d?c:d.type==="REORDER"?XU({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:l}):KU({impact:n,draggables:o,afterCritical:l})},Jf=function(t){var e=JU(t),n=t.droppable,r=n?vv(n,e):e;return r},JA=function(t,e){var n=Qn(e,t.scroll.initial),r=Cl(n),i=Lr({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),o={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return o};function g_(t,e){return t.map(function(n){return e[n]})}function ZU(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var e8=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,o=t.maxScrollChange,l=JA(n,sn(n.scroll.current,o)),c=r.frame?o0(r,sn(r.frame.scroll.current,o)):r,d=e.displaced,f=mu({afterDragging:g_(d.all,i),destination:r,displacedBy:e.displacedBy,viewport:l.frame,last:d,forceShouldAnimate:!1}),m=mu({afterDragging:g_(d.all,i),destination:c,displacedBy:e.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),g={},y={},E=[d,f,m];d.all.forEach(function(C){var I=ZU(C,E);if(I){y[C]=I;return}g[C]=!0});var S=Pe({},e,{displaced:{all:d.all,invisible:g,visible:y}});return S},t8=function(t,e){return sn(t.scroll.diff.displacement,e)},h0=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=t8(r,e),o=Qn(i,n.page.borderBox.center);return sn(n.client.borderBox.center,o)},ZA=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,o=t.withDroppableDisplacement,l=t.onlyOnMainAxis,c=l===void 0?!1:l,d=Qn(r,e.page.borderBox.center),f=ju(e.page.borderBox,d),m={target:f,destination:n,withDroppableDisplacement:o,viewport:i};return c?BU(m):YA(m)},n8=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,o=t.previousImpact,l=t.viewport,c=t.previousPageBorderBoxCenter,d=t.previousClientSelection,f=t.afterCritical;if(!r.isEnabled)return null;var m=Al(r.descriptor.id,i),g=Pl(n,r),y=kU({isMovingForward:e,draggable:n,destination:r,insideDestination:m,previousImpact:o})||GU({isMovingForward:e,isInHomeList:g,draggable:n,draggables:i,destination:r,insideDestination:m,previousImpact:o,viewport:l,afterCritical:f});if(!y)return null;var E=Jf({impact:y,draggable:n,droppable:r,draggables:i,afterCritical:f}),S=ZA({draggable:n,destination:r,newPageBorderBoxCenter:E,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(S){var C=h0({pageBorderBoxCenter:E,draggable:n,viewport:l});return{clientSelection:C,impact:y,scrollJumpRequest:null}}var I=Qn(E,c),L=e8({impact:y,viewport:l,destination:r,draggables:i,maxScrollChange:I});return{clientSelection:d,impact:L,scrollJumpRequest:I}},Sn=function(e){var n=e.subject.active;return n||le(),n},r8=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,o=t.viewport,l=r.subject.active;if(!l)return null;var c=r.axis,d=vr(l[c.start],l[c.end]),f=Qf(i).filter(function(g){return g!==r}).filter(function(g){return g.isEnabled}).filter(function(g){return!!g.subject.active}).filter(function(g){return KA(o.frame)(Sn(g))}).filter(function(g){var y=Sn(g);return e?l[c.crossAxisEnd]<y[c.crossAxisEnd]:y[c.crossAxisStart]<l[c.crossAxisStart]}).filter(function(g){var y=Sn(g),E=vr(y[c.start],y[c.end]);return d(y[c.start])||d(y[c.end])||E(l[c.start])||E(l[c.end])}).sort(function(g,y){var E=Sn(g)[c.crossAxisStart],S=Sn(y)[c.crossAxisStart];return e?E-S:S-E}).filter(function(g,y,E){return Sn(g)[c.crossAxisStart]===Sn(E[0])[c.crossAxisStart]});if(!f.length)return null;if(f.length===1)return f[0];var m=f.filter(function(g){var y=vr(Sn(g)[c.start],Sn(g)[c.end]);return y(n[c.line])});return m.length===1?m[0]:m.length>1?m.sort(function(g,y){return Sn(g)[c.start]-Sn(y)[c.start]})[0]:f.sort(function(g,y){var E=d_(n,h_(Sn(g))),S=d_(n,h_(Sn(y)));return E!==S?E-S:Sn(g)[c.start]-Sn(y)[c.start]})[0]},v_=function(e,n){var r=e.page.borderBox.center;return Vs(e.descriptor.id,n)?Qn(r,n.displacedBy.point):r},i8=function(e,n){var r=e.page.borderBox;return Vs(e.descriptor.id,n)?ju(r,Cl(n.displacedBy.point)):r},s8=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,o=t.afterCritical,l=i.filter(function(c){return YA({target:i8(c,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(c,d){var f=fu(e,vv(r,v_(c,o))),m=fu(e,vv(r,v_(d,o)));return f<m?-1:m<f?1:c.descriptor.index-d.descriptor.index});return l[0]||null},Vu=Kt(function(e,n){var r=n[e.line];return{value:r,point:$o(e.line,r)}}),o8=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return $o(i.line,n[i.line]);var o=e.subject.page.contentBox[i.size],l=Al(e.descriptor.id,r),c=l.reduce(function(m,g){return m+g.client.marginBox[i.size]},0),d=c+n[i.line],f=d-o;return f<=0?null:$o(i.line,f)},eP=function(e,n){return Pe({},e,{scroll:Pe({},e.scroll,{max:n})})},tP=function(e,n,r){var i=e.frame;Pl(n,e)&&le(),e.subject.withPlaceholder&&le();var o=Vu(e.axis,n.displaceBy).point,l=o8(e,o,r),c={placeholderSize:o,increasedBy:l,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var d=dl({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:e.frame});return Pe({},e,{subject:d})}var f=l?sn(i.scroll.max,l):i.scroll.max,m=eP(i,f),g=dl({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:m});return Pe({},e,{subject:g,frame:m})},a8=function(e){var n=e.subject.withPlaceholder;n||le();var r=e.frame;if(!r){var i=dl({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return Pe({},e,{subject:i})}var o=n.oldFrameMaxScroll;o||le();var l=eP(r,o),c=dl({page:e.subject.page,axis:e.axis,frame:l,withPlaceholder:null});return Pe({},e,{subject:c,frame:l})},l8=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,o=t.draggables,l=t.destination,c=t.viewport,d=t.afterCritical;if(!n){if(r.length)return null;var f={displaced:pu,displacedBy:qA,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},m=Jf({impact:f,draggable:i,droppable:l,draggables:o,afterCritical:d}),g=Pl(i,l)?l:tP(l,i,o),y=ZA({draggable:i,destination:g,newPageBorderBoxCenter:m,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return y?f:null}var E=e[l.axis.line]<=n.page.borderBox.center[l.axis.line],S=function(){var I=n.descriptor.index;return n.descriptor.id===i.descriptor.id||E?I:I+1}(),C=Vu(l.axis,i.displaceBy);return pf({draggable:i,insideDestination:r,destination:l,viewport:c,displacedBy:C,last:pu,index:S})},c8=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,o=t.draggables,l=t.droppables,c=t.viewport,d=t.afterCritical,f=r8({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:l,viewport:c});if(!f)return null;var m=Al(f.descriptor.id,o),g=s8({pageBorderBoxCenter:n,viewport:c,destination:f,insideDestination:m,afterCritical:d}),y=l8({previousPageBorderBoxCenter:n,destination:f,draggable:r,draggables:o,moveRelativeTo:g,insideDestination:m,viewport:c,afterCritical:d});if(!y)return null;var E=Jf({impact:y,draggable:r,droppable:f,draggables:o,afterCritical:d}),S=h0({pageBorderBoxCenter:E,draggable:r,viewport:c});return{clientSelection:S,impact:y,scrollJumpRequest:null}},Xn=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},u8=function(e,n){var r=Xn(e);return r?n[r]:null},d8=function(t){var e=t.state,n=t.type,r=u8(e.impact,e.dimensions.droppables),i=!!r,o=e.dimensions.droppables[e.critical.droppable.id],l=r||o,c=l.axis.direction,d=c==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||c==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(d&&!i)return null;var f=n==="MOVE_DOWN"||n==="MOVE_RIGHT",m=e.dimensions.draggables[e.critical.draggable.id],g=e.current.page.borderBoxCenter,y=e.dimensions,E=y.draggables,S=y.droppables;return d?n8({isMovingForward:f,previousPageBorderBoxCenter:g,draggable:m,destination:l,draggables:E,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):c8({isMovingForward:f,previousPageBorderBoxCenter:g,draggable:m,isOver:l,draggables:E,droppables:S,viewport:e.viewport,afterCritical:e.afterCritical})};function Ao(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function nP(t){var e=vr(t.top,t.bottom),n=vr(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function h8(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function f8(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,o=r.map(function(l){var c=l.axis,d=$o(l.axis.line,e.center[c.line],l.page.borderBox.center[c.crossAxisLine]);return{id:l.descriptor.id,distance:fu(i,d)}}).sort(function(l,c){return c.distance-l.distance});return o[0]?o[0].id:null}function p8(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=Qf(r).filter(function(o){if(!o.isEnabled)return!1;var l=o.subject.active;if(!l||!h8(e,l))return!1;if(nP(l)(e.center))return!0;var c=o.axis,d=l.center[c.crossAxisLine],f=e[c.crossAxisStart],m=e[c.crossAxisEnd],g=vr(l[c.crossAxisStart],l[c.crossAxisEnd]),y=g(f),E=g(m);return!y&&!E?!0:y?f<d:m>d});return i.length?i.length===1?i[0].descriptor.id:f8({pageBorderBox:e,draggable:n,candidates:i}):null}var rP=function(e,n){return Lr(ju(e,n))},m8=function(t,e){var n=t.frame;return n?rP(e,n.scroll.diff.value):e};function iP(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function g8(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var v8=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.last,l=t.viewport,c=t.afterCritical,d=r.axis,f=Vu(r.axis,n.displaceBy),m=f.value,g=e[d.start],y=e[d.end],E=Xf(n,i),S=Gs(E,function(I){var L=I.descriptor.id,P=I.page.borderBox.center[d.line],M=Vs(L,c),z=iP({displaced:o,id:L});return M?z?y<=P:g<P-m:z?y<=P+m:g<P}),C=g8({draggable:n,closest:S,inHomeList:Pl(n,r)});return pf({draggable:n,insideDestination:i,destination:r,viewport:l,last:o,displacedBy:f,index:C})},y8=4,x8=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,o=t.insideDestination,l=t.afterCritical;if(!i.isCombineEnabled)return null;var c=i.axis,d=Vu(i.axis,e.displaceBy),f=d.value,m=n[c.start],g=n[c.end],y=Xf(e,o),E=Gs(y,function(C){var I=C.descriptor.id,L=C.page.borderBox,P=L[c.size],M=P/y8,z=Vs(I,l),V=iP({displaced:r.displaced,id:I});return z?V?g>L[c.start]+M&&g<L[c.end]-M:m>L[c.start]-f+M&&m<L[c.end]-f-M:V?g>L[c.start]+f+M&&g<L[c.end]+f-M:m>L[c.start]+M&&m<L[c.end]-M});if(!E)return null;var S={displacedBy:d,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:E.descriptor.id,droppableId:i.descriptor.id}}};return S},sP=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,o=t.previousImpact,l=t.viewport,c=t.afterCritical,d=rP(n.page.borderBox,e),f=p8({pageBorderBox:d,draggable:n,droppables:i});if(!f)return DU;var m=i[f],g=Al(m.descriptor.id,r),y=m8(m,d);return x8({pageBorderBoxWithDroppableScroll:y,draggable:n,previousImpact:o,destination:m,insideDestination:g,afterCritical:c})||v8({pageBorderBoxWithDroppableScroll:y,draggable:n,destination:m,insideDestination:g,last:o.displaced,viewport:l,afterCritical:c})},f0=function(t,e){var n;return Pe({},t,(n={},n[e.descriptor.id]=e,n))},w8=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,o=Xn(n),l=Xn(r);if(!o||o===l)return i;var c=i[o];if(!c.subject.withPlaceholder)return i;var d=a8(c);return f0(i,d)},b8=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,o=t.impact,l=w8({previousImpact:i,impact:o,droppables:r}),c=Xn(o);if(!c)return l;var d=r[c];if(Pl(e,d)||d.subject.withPlaceholder)return l;var f=tP(d,e,n);return f0(l,f)},Kc=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,o=t.impact,l=t.scrollJumpRequest,c=i||e.viewport,d=r||e.dimensions,f=n||e.current.client.selection,m=Qn(f,e.initial.client.selection),g={offset:m,selection:f,borderBoxCenter:sn(e.initial.client.borderBoxCenter,m)},y={selection:sn(g.selection,c.scroll.current),borderBoxCenter:sn(g.borderBoxCenter,c.scroll.current),offset:sn(g.offset,c.scroll.diff.value)},E={client:g,page:y};if(e.phase==="COLLECTING")return Pe({phase:"COLLECTING"},e,{dimensions:d,viewport:c,current:E});var S=d.draggables[e.critical.draggable.id],C=o||sP({pageOffset:y.offset,draggable:S,draggables:d.draggables,droppables:d.droppables,previousImpact:e.impact,viewport:c,afterCritical:e.afterCritical}),I=b8({draggable:S,impact:C,previousImpact:e.impact,draggables:d.draggables,droppables:d.droppables}),L=Pe({},e,{current:E,dimensions:{draggables:d.draggables,droppables:I},impact:C,viewport:c,scrollJumpRequest:l||null,forceShouldAnimate:l?!1:null});return L};function E8(t,e){return t.map(function(n){return e[n]})}var oP=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,o=t.forceShouldAnimate,l=e.displaced,c=E8(l.all,r),d=mu({afterDragging:c,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:l});return Pe({},e,{displaced:d})},aP=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.viewport,l=t.afterCritical,c=Jf({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:l});return h0({pageBorderBoxCenter:c,draggable:n,viewport:o})},lP=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&le();var i=e.impact,o=r||e.viewport,l=n||e.dimensions,c=l.draggables,d=l.droppables,f=c[e.critical.draggable.id],m=Xn(i);m||le();var g=d[m],y=oP({impact:i,viewport:o,destination:g,draggables:c}),E=aP({impact:y,draggable:f,droppable:g,draggables:c,viewport:o,afterCritical:e.afterCritical});return Kc({impact:y,clientSelection:E,state:e,dimensions:l,viewport:o})},_8=function(t){return{index:t.index,droppableId:t.droppableId}},cP=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,o=Vu(n.axis,e.displaceBy),l=Al(n.descriptor.id,r),c=l.indexOf(e);c===-1&&le();var d=l.slice(c+1),f=d.reduce(function(E,S){return E[S.descriptor.id]=!0,E},{}),m={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:f},g=mu({afterDragging:d,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),y={displaced:g,displacedBy:o,at:{type:"REORDER",destination:_8(e.descriptor)}};return{impact:y,afterCritical:m}},S8=function(t,e){return{draggables:t.draggables,droppables:f0(t.droppables,e)}},T8=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=cf(e.client,n),o=uf(i,r),l=Pe({},e,{placeholder:Pe({},e.placeholder,{client:i}),client:i,page:o});return l},I8=function(t){var e=t.frame;return e||le(),e},C8=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(o){var l=o.descriptor.droppableId,c=n[l],d=I8(c),f=d.scroll.diff.value,m=sn(i,f),g=T8({draggable:o,offset:m,initialWindowScroll:r.scroll.initial});return g})},A8=function(t){var e=t.state,n=t.published,r=n.modified.map(function(M){var z=e.dimensions.droppables[M.droppableId],V=o0(z,M.scroll);return V}),i=Pe({},e.dimensions.droppables,{},WA(r)),o=GA(C8({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),l=Pe({},e.dimensions.draggables,{},o);n.removals.forEach(function(M){delete l[M]});var c={droppables:i,draggables:l},d=Xn(e.impact),f=d?c.droppables[d]:null,m=c.draggables[e.critical.draggable.id],g=c.droppables[e.critical.droppable.id],y=cP({draggable:m,home:g,draggables:l,viewport:e.viewport}),E=y.impact,S=y.afterCritical,C=f&&f.isCombineEnabled?e.impact:E,I=sP({pageOffset:e.current.page.offset,draggable:c.draggables[e.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:C,viewport:e.viewport,afterCritical:S}),L=Pe({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:I,onLiftImpact:E,dimensions:c,afterCritical:S,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return L;var P=Pe({phase:"DROP_PENDING"},L,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return P},yv=function(e){return e.movementMode==="SNAP"},hg=function(e,n,r){var i=S8(e.dimensions,n);return!yv(e)||r?Kc({state:e,dimensions:i}):lP({state:e,dimensions:i})};function fg(t){return t.isDragging&&t.movementMode==="SNAP"?Pe({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var y_={phase:"IDLE",completed:null,shouldFlush:!1},P8=function(t,e){if(t===void 0&&(t=y_),e.type==="FLUSH")return Pe({},y_,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&le();var n=e.payload,r=n.critical,i=n.clientSelection,o=n.viewport,l=n.dimensions,c=n.movementMode,d=l.draggables[r.draggable.id],f=l.droppables[r.droppable.id],m={selection:i,borderBoxCenter:d.client.borderBox.center,offset:Xt},g={client:m,page:{selection:sn(m.selection,o.scroll.initial),borderBoxCenter:sn(m.selection,o.scroll.initial),offset:sn(m.selection,o.scroll.diff.value)}},y=Qf(l.droppables).every(function(he){return!he.isFixedOnPage}),E=cP({draggable:d,home:f,draggables:l.draggables,viewport:o}),S=E.impact,C=E.afterCritical,I={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:c,dimensions:l,initial:g,current:g,isWindowScrollAllowed:y,impact:S,afterCritical:C,onLiftImpact:S,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return I}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&le();var L=Pe({phase:"COLLECTING"},t,{phase:"COLLECTING"});return L}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||le(),A8({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Ao(t)||le();var P=e.payload.client;return As(P,t.current.client.selection)?t:Kc({state:t,clientSelection:P,impact:yv(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return fg(t);Ao(t)||le();var M=e.payload,z=M.id,V=M.newScroll,G=t.dimensions.droppables[z];if(!G)return t;var R=o0(G,V);return hg(t,R,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ao(t)||le();var A=e.payload,k=A.id,j=A.isEnabled,U=t.dimensions.droppables[k];U||le(),U.isEnabled===j&&le();var F=Pe({},U,{isEnabled:j});return hg(t,F,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ao(t)||le();var N=e.payload,ae=N.id,Se=N.isCombineEnabled,Ee=t.dimensions.droppables[ae];Ee||le(),Ee.isCombineEnabled===Se&&le();var ve=Pe({},Ee,{isCombineEnabled:Se});return hg(t,ve,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Ao(t)||le(),t.isWindowScrollAllowed||le();var Z=e.payload.newScroll;if(As(t.viewport.scroll.current,Z))return fg(t);var ue=JA(t.viewport,Z);return yv(t)?lP({state:t,viewport:ue}):Kc({state:t,viewport:ue})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ao(t))return t;var ie=e.payload.maxScroll;if(As(ie,t.viewport.scroll.max))return t;var H=Pe({},t.viewport,{scroll:Pe({},t.viewport.scroll,{max:ie})});return Pe({phase:"DRAGGING"},t,{viewport:H})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&le();var X=d8({state:t,type:e.type});return X?Kc({state:t,impact:X.impact,clientSelection:X.clientSelection,scrollJumpRequest:X.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var pe=e.payload.reason;t.phase!=="COLLECTING"&&le();var Re=Pe({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:pe});return Re}if(e.type==="DROP_ANIMATE"){var ke=e.payload,Fe=ke.completed,Be=ke.dropDuration,ze=ke.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||le();var Xe={phase:"DROP_ANIMATING",completed:Fe,dropDuration:Be,newHomeClientOffset:ze,dimensions:t.dimensions};return Xe}if(e.type==="DROP_COMPLETE"){var it=e.payload.completed;return{phase:"IDLE",completed:it,shouldFlush:!1}}return t},R8=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},N8=function(e){return{type:"LIFT",payload:e}},k8=function(e){return{type:"INITIAL_PUBLISH",payload:e}},D8=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},M8=function(){return{type:"COLLECTION_STARTING",payload:null}},O8=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},L8=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},j8=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},uP=function(e){return{type:"MOVE",payload:e}},V8=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},F8=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},B8=function(){return{type:"MOVE_UP",payload:null}},U8=function(){return{type:"MOVE_DOWN",payload:null}},z8=function(){return{type:"MOVE_RIGHT",payload:null}},$8=function(){return{type:"MOVE_LEFT",payload:null}},p0=function(){return{type:"FLUSH",payload:null}},H8=function(e){return{type:"DROP_ANIMATE",payload:e}},m0=function(e){return{type:"DROP_COMPLETE",payload:e}},dP=function(e){return{type:"DROP",payload:e}},W8=function(e){return{type:"DROP_PENDING",payload:e}},hP=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},G8=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var l=o.payload,c=l.id,d=l.clientSelection,f=l.movementMode,m=n();m.phase==="DROP_ANIMATING"&&r(m0({completed:m.completed})),n().phase!=="IDLE"&&le(),r(p0()),r(R8({draggableId:c,movementMode:f}));var g={shouldPublishImmediately:f==="SNAP"},y={draggableId:c,scrollOptions:g},E=t.startPublishing(y),S=E.critical,C=E.dimensions,I=E.viewport;r(k8({critical:S,dimensions:C,clientSelection:d,movementMode:f,viewport:I}))}}}},q8=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},g0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},gu={opacity:{drop:0,combining:.7},scale:{drop:.75}},v0={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Eo=v0.outOfTheWay+"s "+g0.outOfTheWay,Qc={fluid:"opacity "+Eo,snap:"transform "+Eo+", opacity "+Eo,drop:function(e){var n=e+"s "+g0.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Eo,placeholder:"height "+Eo+", width "+Eo+", margin "+Eo},x_=function(e){return As(e,Xt)?null:"translate("+e.x+"px, "+e.y+"px)"},xv={moveTo:x_,drop:function(e,n){var r=x_(e);return r?n?r+" scale("+gu.scale.drop+")":r:null}},wv=v0.minDropTime,fP=v0.maxDropTime,K8=fP-wv,w_=1500,Q8=.6,Y8=function(t){var e=t.current,n=t.destination,r=t.reason,i=fu(e,n);if(i<=0)return wv;if(i>=w_)return fP;var o=i/w_,l=wv+K8*o,c=r==="CANCEL"?l*Q8:l;return Number(c.toFixed(2))},X8=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,o=t.afterCritical,l=r.draggables,c=r.droppables,d=Xn(e),f=d?c[d]:null,m=c[n.descriptor.droppableId],g=aP({impact:e,draggable:n,draggables:l,afterCritical:o,droppable:f||m,viewport:i}),y=Qn(g,n.client.borderBox.center);return y},J8=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,o=t.viewport,l=t.onLiftImpact;if(!r.at||n!=="DROP"){var c=oP({draggables:e,impact:l,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:c,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var d=Pe({},r,{displaced:pu});return{impact:d,didDropInsideDroppable:!0}},Z8=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=e(),l=i.payload.reason;if(o.phase==="COLLECTING"){n(W8({reason:l}));return}if(o.phase!=="IDLE"){var c=o.phase==="DROP_PENDING"&&o.isWaiting;c&&le(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||le();var d=o.critical,f=o.dimensions,m=f.draggables[o.critical.draggable.id],g=J8({reason:l,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),y=g.impact,E=g.didDropInsideDroppable,S=E?l0(y):null,C=E?Yf(y):null,I={index:d.draggable.index,droppableId:d.droppable.id},L={draggableId:m.descriptor.id,type:m.descriptor.type,source:I,reason:l,mode:o.movementMode,destination:S,combine:C},P=X8({impact:y,draggable:m,dimensions:f,viewport:o.viewport,afterCritical:o.afterCritical}),M={critical:o.critical,afterCritical:o.afterCritical,result:L,impact:y},z=!As(o.current.client.offset,P)||!!L.combine;if(!z){n(m0({completed:M}));return}var V=Y8({current:o.current.client.offset,destination:P,reason:l}),G={newHomeClientOffset:P,dropDuration:V,completed:M};n(H8(G))}}}},pP=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function e7(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function t7(t){var e=t.onWindowScroll;function n(){e(pP())}var r=hu(n),i=e7(r),o=Cs;function l(){return o!==Cs}function c(){l()&&le(),o=mr(window,[i])}function d(){l()||le(),r.cancel(),o(),o=Cs}return{start:c,stop:d,isActive:l}}var n7=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},r7=function(t){var e=t7({onWindowScroll:function(r){t.dispatch(V8({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&n7(r)&&e.stop(),n(r)}}},i7=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(l){e||n||(e=!0,t(l),clearTimeout(r))};return i.wasCalled=function(){return e},i},s7=function(){var t=[],e=function(o){var l=a0(t,function(f){return f.timerId===o});l===-1&&le();var c=t.splice(l,1),d=c[0];d.callback()},n=function(o){var l=setTimeout(function(){return e(l)}),c={timerId:l,callback:o};t.push(c)},r=function(){if(t.length){var o=[].concat(t);t.length=0,o.forEach(function(l){clearTimeout(l.timerId),l.callback()})}};return{add:n,flush:r}},o7=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},a7=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},l7=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},Sc=function(e,n){n()},dh=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},pg=function(e,n,r,i){if(!e){r(i(n));return}var o=i7(r),l={announce:o};e(n,l),o.wasCalled()||r(i(n))},c7=function(t,e){var n=s7(),r=null,i=function(y,E){r&&le(),Sc("onBeforeCapture",function(){var S=t().onBeforeCapture;if(S){var C={draggableId:y,mode:E};S(C)}})},o=function(y,E){r&&le(),Sc("onBeforeDragStart",function(){var S=t().onBeforeDragStart;S&&S(dh(y,E))})},l=function(y,E){r&&le();var S=dh(y,E);r={mode:E,lastCritical:y,lastLocation:S.source,lastCombine:null},n.add(function(){Sc("onDragStart",function(){return pg(t().onDragStart,S,e,Ah.onDragStart)})})},c=function(y,E){var S=l0(E),C=Yf(E);r||le();var I=!l7(y,r.lastCritical);I&&(r.lastCritical=y);var L=!o7(r.lastLocation,S);L&&(r.lastLocation=S);var P=!a7(r.lastCombine,C);if(P&&(r.lastCombine=C),!(!I&&!L&&!P)){var M=Pe({},dh(y,r.mode),{combine:C,destination:S});n.add(function(){Sc("onDragUpdate",function(){return pg(t().onDragUpdate,M,e,Ah.onDragUpdate)})})}},d=function(){r||le(),n.flush()},f=function(y){r||le(),r=null,Sc("onDragEnd",function(){return pg(t().onDragEnd,y,e,Ah.onDragEnd)})},m=function(){if(r){var y=Pe({},dh(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});f(y)}};return{beforeCapture:i,beforeStart:o,start:l,update:c,flush:d,drop:f,abort:m}},u7=function(t,e){var n=c7(t,e);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var l=o.payload.critical;n.beforeStart(l,o.payload.movementMode),i(o),n.start(l,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var c=o.payload.completed.result;n.flush(),i(o),n.drop(c);return}if(i(o),o.type==="FLUSH"){n.abort();return}var d=r.getState();d.phase==="DRAGGING"&&n.update(d.critical,d.impact)}}}},d7=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&le(),t.dispatch(m0({completed:r.completed}))}}},h7=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var d=t.getState();d.phase==="DROP_ANIMATING"&&t.dispatch(hP())}};n=requestAnimationFrame(function(){n=null,e=mr(window,[l])})}}}},f7=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},p7=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},m7=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},g7=function(t){return function(e){return function(n){return function(r){if(m7(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&le(),t.start(i);return}n(r),t.scroll(e.getState())}}}},v7=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(dP({reason:r.reason})))}}}},y7=RA,x7=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,o=t.announce,l=t.autoScroller;return PA(P8,y7(_9(q8(r),f7(e),G8(e),Z8,d7,h7,v7,g7(l),r7,p7(n),u7(i,o))))},mg=function(){return{additions:{},removals:{},modified:{}}};function w7(t){var e=t.registry,n=t.callbacks,r=mg(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var m=r,g=m.additions,y=m.removals,E=m.modified,S=Object.keys(g).map(function(L){return e.draggable.getById(L).getDimension(Xt)}).sort(function(L,P){return L.descriptor.index-P.descriptor.index}),C=Object.keys(E).map(function(L){var P=e.droppable.getById(L),M=P.callbacks.getScrollWhileDragging();return{droppableId:L,scroll:M}}),I={additions:S,removals:Object.keys(y),modified:C};r=mg(),n.publish(I)}))},l=function(m){var g=m.descriptor.id;r.additions[g]=m,r.modified[m.descriptor.droppableId]=!0,r.removals[g]&&delete r.removals[g],o()},c=function(m){var g=m.descriptor;r.removals[g.id]=!0,r.modified[g.droppableId]=!0,r.additions[g.id]&&delete r.additions[g.id],o()},d=function(){i&&(cancelAnimationFrame(i),i=null,r=mg())};return{add:l,remove:c,stop:d}}var mP=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,o=Qn({x:n,y:e},{x:i,y:r}),l={x:Math.max(0,o.x),y:Math.max(0,o.y)};return l},gP=function(){var t=document.documentElement;return t||le(),t},vP=function(){var t=gP(),e=mP({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},b7=function(){var t=pP(),e=vP(),n=t.y,r=t.x,i=gP(),o=i.clientWidth,l=i.clientHeight,c=r+o,d=n+l,f=Lr({top:n,left:r,right:c,bottom:d}),m={frame:f,scroll:{initial:t,current:t,max:e,diff:{value:Xt,displacement:Xt}}};return m},E7=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=b7(),o=i.scroll.current,l=e.droppable,c=r.droppable.getAllByType(l.type).map(function(g){return g.callbacks.getDimensionAndWatchScroll(o,n)}),d=r.draggable.getAllByType(e.draggable.type).map(function(g){return g.getDimension(o)}),f={draggables:GA(d),droppables:WA(c)},m={dimensions:f,critical:e,viewport:i};return m};function b_(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var _7=function(t,e){var n=null,r=w7({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(E,S){t.droppable.exists(E)||le(),n&&e.updateDroppableIsEnabled({id:E,isEnabled:S})},o=function(E,S){n&&(t.droppable.exists(E)||le(),e.updateDroppableIsCombineEnabled({id:E,isCombineEnabled:S}))},l=function(E,S){n&&(t.droppable.exists(E)||le(),e.updateDroppableScroll({id:E,newScroll:S}))},c=function(E,S){n&&t.droppable.getById(E).callbacks.scroll(S)},d=function(){if(n){r.stop();var E=n.critical.droppable;t.droppable.getAllByType(E.type).forEach(function(S){return S.callbacks.dragStopped()}),n.unsubscribe(),n=null}},f=function(E){n||le();var S=n.critical.draggable;E.type==="ADDITION"&&b_(t,S,E.value)&&r.add(E.value),E.type==="REMOVAL"&&b_(t,S,E.value)&&r.remove(E.value)},m=function(E){n&&le();var S=t.draggable.getById(E.draggableId),C=t.droppable.getById(S.descriptor.droppableId),I={draggable:S.descriptor,droppable:C.descriptor},L=t.subscribe(f);return n={critical:I,unsubscribe:L},E7({critical:I,registry:t,scrollOptions:E.scrollOptions})},g={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:c,updateDroppableScroll:l,startPublishing:m,stopPublishing:d};return g},yP=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},S7=function(t){window.scrollBy(t.x,t.y)},T7=Kt(function(t){return Qf(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),I7=function(e,n){var r=Gs(T7(n),function(i){return i.frame||le(),nP(i.frame.pageMarginBox)(e)});return r},C7=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var o=I7(e,r);return o},Ps={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},A7=function(t,e){var n=t[e.size]*Ps.startFromPercentage,r=t[e.size]*Ps.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},xP=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var o=r-e,l=o/i;return l},y0=1,P7=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Ps.maxPixelScroll;if(t===e.startScrollingFrom)return y0;var n=xP({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=Ps.maxPixelScroll*Ps.ease(r);return Math.ceil(i)},E_=Ps.durationDampening.accelerateAt,__=Ps.durationDampening.stopDampeningAt,R7=function(t,e){var n=e,r=__,i=Date.now(),o=i-n;if(o>=__)return t;if(o<E_)return y0;var l=xP({startOfRange:E_,endOfRange:r,current:o}),c=t*Ps.ease(l);return Math.ceil(c)},S_=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,o=P7(e,n);return o===0?0:i?Math.max(R7(o,r),y0):o},T_=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,o=t.shouldUseTimeDampening,l=A7(e,i),c=n[i.end]<n[i.start];return c?S_({distanceToEdge:n[i.end],thresholds:l,dragStartTime:r,shouldUseTimeDampening:o}):-1*S_({distanceToEdge:n[i.start],thresholds:l,dragStartTime:r,shouldUseTimeDampening:o})},N7=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,o=n.width>e.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},k7=$A(function(t){return t===0?0:t}),wP=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,o=t.shouldUseTimeDampening,l={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},c=T_({container:n,distanceToEdges:l,dragStartTime:e,axis:c0,shouldUseTimeDampening:o}),d=T_({container:n,distanceToEdges:l,dragStartTime:e,axis:QA,shouldUseTimeDampening:o}),f=k7({x:d,y:c});if(As(f,Xt))return null;var m=N7({container:n,subject:r,proposedScroll:f});return m?As(m,Xt)?null:m:null},D7=$A(function(t){return t===0?0:t>0?1:-1}),x0=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,o=sn(n,i),l={x:t(o.x,r.x),y:t(o.y,r.y)};return As(l,Xt)?null:l}}(),bP=function(e){var n=e.max,r=e.current,i=e.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},l=D7(i),c=x0({max:o,current:r,change:l});return!c||l.x!==0&&c.x===0||l.y!==0&&c.y===0},w0=function(e,n){return bP({current:e.scroll.current,max:e.scroll.max,change:n})},M7=function(e,n){if(!w0(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return x0({current:i,max:r,change:n})},b0=function(e,n){var r=e.frame;return r?bP({current:r.scroll.current,max:r.scroll.max,change:n}):!1},O7=function(e,n){var r=e.frame;return!r||!b0(e,n)?null:x0({current:r.scroll.current,max:r.scroll.max,change:n})},L7=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,l=wP({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o});return l&&w0(e,l)?l:null},j7=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,l=e.frame;if(!l)return null;var c=wP({dragStartTime:i,container:l.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return c&&b0(e,c)?c:null},I_=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,o=t.scrollDroppable,l=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id],d=c.page.marginBox;if(e.isWindowScrollAllowed){var f=e.viewport,m=L7({dragStartTime:n,viewport:f,subject:d,center:l,shouldUseTimeDampening:r});if(m){i(m);return}}var g=C7({center:l,destination:Xn(e.impact),droppables:e.dimensions.droppables});if(g){var y=j7({dragStartTime:n,droppable:g,subject:d,center:l,shouldUseTimeDampening:r});y&&o(g.descriptor.id,y)}},V7=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=hu(e),i=hu(n),o=null,l=function(m){o||le();var g=o,y=g.shouldUseTimeDampening,E=g.dragStartTime;I_({state:m,scrollWindow:r,scrollDroppable:i,dragStartTime:E,shouldUseTimeDampening:y})},c=function(m){o&&le();var g=Date.now(),y=!1,E=function(){y=!0};I_({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:E,scrollDroppable:E}),o={dragStartTime:g,shouldUseTimeDampening:y},y&&l(m)},d=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:c,stop:d,scroll:l}},F7=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(f,m){var g=sn(f.current.client.selection,m);e({client:g})},o=function(f,m){if(!b0(f,m))return m;var g=O7(f,m);if(!g)return n(f.descriptor.id,m),null;var y=Qn(m,g);n(f.descriptor.id,y);var E=Qn(m,y);return E},l=function(f,m,g){if(!f||!w0(m,g))return g;var y=M7(m,g);if(!y)return r(g),null;var E=Qn(g,y);r(E);var S=Qn(g,E);return S},c=function(f){var m=f.scrollJumpRequest;if(m){var g=Xn(f.impact);g||le();var y=o(f.dimensions.droppables[g],m);if(y){var E=f.viewport,S=l(f.isWindowScrollAllowed,E,y);S&&i(f,S)}}};return c},B7=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=V7({scrollWindow:n,scrollDroppable:e}),o=F7({move:r,scrollWindow:n,scrollDroppable:e}),l=function(f){if(f.phase==="DRAGGING"){if(f.movementMode==="FLUID"){i.scroll(f);return}f.scrollJumpRequest&&o(f)}},c={scroll:l,start:i.start,stop:i.stop};return c},hl="data-rbd",fl=function(){var t=hl+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),bv=function(){var t=hl+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),U7=function(){var t=hl+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),C_={contextId:hl+"-scroll-container-context-id"},z7=function(e){return function(n){return"["+n+'="'+e+'"]'}},Tc=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},$7="pointer-events: none;",H7=function(t){var e=z7(t),n=function(){var c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(fl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:$7,dropAnimating:c}}}(),r=function(){var c=`
      transition: `+Qc.outOfTheWay+`;
    `;return{selector:e(bv.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}}(),i={selector:e(U7.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},l=[r,n,i,o];return{always:Tc(l,"always"),resting:Tc(l,"resting"),dragging:Tc(l,"dragging"),dropAnimating:Tc(l,"dropAnimating"),userCancel:Tc(l,"userCancel")}},Jn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect,gg=function(){var e=document.querySelector("head");return e||le(),e},A_=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function W7(t,e){var n=Ze(function(){return H7(t)},[t]),r=O.useRef(null),i=O.useRef(null),o=be(Kt(function(g){var y=i.current;y||le(),y.textContent=g}),[]),l=be(function(g){var y=r.current;y||le(),y.textContent=g},[]);Jn(function(){!r.current&&!i.current||le();var g=A_(e),y=A_(e);return r.current=g,i.current=y,g.setAttribute(hl+"-always",t),y.setAttribute(hl+"-dynamic",t),gg().appendChild(g),gg().appendChild(y),l(n.always),o(n.resting),function(){var E=function(C){var I=C.current;I||le(),gg().removeChild(I),C.current=null};E(r),E(i)}},[e,l,o,n.always,n.resting,t]);var c=be(function(){return o(n.dragging)},[o,n.dragging]),d=be(function(g){if(g==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),f=be(function(){i.current&&o(n.resting)},[o,n.resting]),m=Ze(function(){return{dragging:c,dropping:d,resting:f}},[c,d,f]);return m}var EP=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function Zf(t){return t instanceof EP(t).HTMLElement}function G7(t,e){var n="["+fl.contextId+'="'+t+'"]',r=HA(document.querySelectorAll(n));if(!r.length)return null;var i=Gs(r,function(o){return o.getAttribute(fl.draggableId)===e});return!i||!Zf(i)?null:i}function q7(t){var e=O.useRef({}),n=O.useRef(null),r=O.useRef(null),i=O.useRef(!1),o=be(function(y,E){var S={id:y,focus:E};return e.current[y]=S,function(){var I=e.current,L=I[y];L!==S&&delete I[y]}},[]),l=be(function(y){var E=G7(t,y);E&&E!==document.activeElement&&E.focus()},[t]),c=be(function(y,E){n.current===y&&(n.current=E)},[]),d=be(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var y=n.current;y&&l(y)}))},[l]),f=be(function(y){n.current=null;var E=document.activeElement;E&&E.getAttribute(fl.draggableId)===y&&(n.current=y)},[]);Jn(function(){return i.current=!0,function(){i.current=!1;var y=r.current;y&&cancelAnimationFrame(y)}},[]);var m=Ze(function(){return{register:o,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:c}},[o,f,d,c]);return m}function K7(){var t={draggables:{},droppables:{}},e=[];function n(g){return e.push(g),function(){var E=e.indexOf(g);E!==-1&&e.splice(E,1)}}function r(g){e.length&&e.forEach(function(y){return y(g)})}function i(g){return t.draggables[g]||null}function o(g){var y=i(g);return y||le(),y}var l={register:function(y){t.draggables[y.descriptor.id]=y,r({type:"ADDITION",value:y})},update:function(y,E){var S=t.draggables[E.descriptor.id];S&&S.uniqueId===y.uniqueId&&(delete t.draggables[E.descriptor.id],t.draggables[y.descriptor.id]=y)},unregister:function(y){var E=y.descriptor.id,S=i(E);S&&y.uniqueId===S.uniqueId&&(delete t.draggables[E],r({type:"REMOVAL",value:y}))},getById:o,findById:i,exists:function(y){return!!i(y)},getAllByType:function(y){return ff(t.draggables).filter(function(E){return E.descriptor.type===y})}};function c(g){return t.droppables[g]||null}function d(g){var y=c(g);return y||le(),y}var f={register:function(y){t.droppables[y.descriptor.id]=y},unregister:function(y){var E=c(y.descriptor.id);E&&y.uniqueId===E.uniqueId&&delete t.droppables[y.descriptor.id]},getById:d,findById:c,exists:function(y){return!!c(y)},getAllByType:function(y){return ff(t.droppables).filter(function(E){return E.descriptor.type===y})}};function m(){t.draggables={},t.droppables={},e.length=0}return{draggable:l,droppable:f,subscribe:n,clean:m}}function Q7(){var t=Ze(K7,[]);return O.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var E0=tt.createContext(null),mf=function(){var t=document.body;return t||le(),t},Y7={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},X7=function(e){return"rbd-announcement-"+e};function J7(t){var e=Ze(function(){return X7(t)},[t]),n=O.useRef(null);O.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Pe(o.style,Y7),mf().appendChild(o),function(){setTimeout(function(){var d=mf();d.contains(o)&&d.removeChild(o),o===n.current&&(n.current=null)})}},[e]);var r=be(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var Z7=0,ez={separator:"::"};function _0(t,e){return e===void 0&&(e=ez),Ze(function(){return""+t+e.separator+Z7++},[e.separator,t])}function tz(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function nz(t){var e=t.contextId,n=t.text,r=_0("hidden-text",{separator:"-"}),i=Ze(function(){return tz({contextId:e,uniqueId:r})},[r,e]);return O.useEffect(function(){var l=document.createElement("div");return l.id=i,l.textContent=n,l.style.display="none",mf().appendChild(l),function(){var d=mf();d.contains(l)&&d.removeChild(l)}},[i,n]),i}var ep=tt.createContext(null);function _P(t){var e=O.useRef(t);return O.useEffect(function(){e.current=t}),e}function rz(){var t=null;function e(){return!!t}function n(l){return l===t}function r(l){t&&le();var c={abandon:l};return t=c,c}function i(){t||le(),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}var iz=9,sz=13,S0=27,SP=32,oz=33,az=34,lz=35,cz=36,uz=37,dz=38,hz=39,fz=40,hh,pz=(hh={},hh[sz]=!0,hh[iz]=!0,hh),TP=function(t){pz[t.keyCode]&&t.preventDefault()},tp=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=Gs(e,function(r){return"on"+r in document});return n||t}(),IP=0,P_=5;function mz(t,e){return Math.abs(e.x-t.x)>=P_||Math.abs(e.y-t.y)>=P_}var R_={type:"IDLE"};function gz(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(l){var c=l.button,d=l.clientX,f=l.clientY;if(c===IP){var m={x:d,y:f},g=r();if(g.type==="DRAGGING"){l.preventDefault(),g.actions.move(m);return}g.type!=="PENDING"&&le();var y=g.point;if(mz(y,m)){l.preventDefault();var E=g.actions.fluidLift(m);i({type:"DRAGGING",actions:E})}}}},{eventName:"mouseup",fn:function(l){var c=r();if(c.type!=="DRAGGING"){e();return}l.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(l){r().type==="DRAGGING"&&l.preventDefault(),e()}},{eventName:"keydown",fn:function(l){var c=r();if(c.type==="PENDING"){e();return}if(l.keyCode===S0){l.preventDefault(),e();return}TP(l)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(l){var c=r();if(c.type==="IDLE"&&le(),c.actions.shouldRespectForcePress()){e();return}l.preventDefault()}},{eventName:tp,fn:e}]}function vz(t){var e=O.useRef(R_),n=O.useRef(Cs),r=Ze(function(){return{eventName:"mousedown",fn:function(g){if(!g.defaultPrevented&&g.button===IP&&!(g.ctrlKey||g.metaKey||g.shiftKey||g.altKey)){var y=t.findClosestDraggableId(g);if(y){var E=t.tryGetLock(y,l,{sourceEvent:g});if(E){g.preventDefault();var S={x:g.clientX,y:g.clientY};n.current(),f(E,S)}}}}}},[t]),i=Ze(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(g){if(!g.defaultPrevented){var y=t.findClosestDraggableId(g);if(y){var E=t.findOptionsForDraggable(y);E&&(E.shouldRespectForcePress||t.canGetLock(y)&&g.preventDefault())}}}}},[t]),o=be(function(){var g={passive:!1,capture:!0};n.current=mr(window,[i,r],g)},[i,r]),l=be(function(){var m=e.current;m.type!=="IDLE"&&(e.current=R_,n.current(),o())},[o]),c=be(function(){var m=e.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=be(function(){var g={capture:!0,passive:!1},y=gz({cancel:c,completed:l,getPhase:function(){return e.current},setPhase:function(S){e.current=S}});n.current=mr(window,y,g)},[c,l]),f=be(function(g,y){e.current.type!=="IDLE"&&le(),e.current={type:"PENDING",point:y,actions:g},d()},[d]);Jn(function(){return o(),function(){n.current()}},[o])}var ja;function yz(){}var xz=(ja={},ja[az]=!0,ja[oz]=!0,ja[cz]=!0,ja[lz]=!0,ja);function wz(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===S0){o.preventDefault(),n();return}if(o.keyCode===SP){o.preventDefault(),r();return}if(o.keyCode===fz){o.preventDefault(),t.moveDown();return}if(o.keyCode===dz){o.preventDefault(),t.moveUp();return}if(o.keyCode===hz){o.preventDefault(),t.moveRight();return}if(o.keyCode===uz){o.preventDefault(),t.moveLeft();return}if(xz[o.keyCode]){o.preventDefault();return}TP(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:tp,fn:n}]}function bz(t){var e=O.useRef(yz),n=Ze(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==SP)return;var l=t.findClosestDraggableId(o);if(!l)return;var c=t.tryGetLock(l,m,{sourceEvent:o});if(!c)return;o.preventDefault();var d=!0,f=c.snapLift();e.current();function m(){d||le(),d=!1,e.current(),r()}e.current=mr(window,wz(f,m),{capture:!0,passive:!1})}}},[t]),r=be(function(){var o={passive:!1,capture:!0};e.current=mr(window,[n],o)},[n]);Jn(function(){return r(),function(){e.current()}},[r])}var vg={type:"IDLE"},Ez=120,_z=.15;function Sz(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===S0&&i.preventDefault(),e()}},{eventName:tp,fn:e}]}function Tz(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var l=r();if(l.type!=="DRAGGING"){e();return}l.hasMoved=!0;var c=o.touches[0],d=c.clientX,f=c.clientY,m={x:d,y:f};o.preventDefault(),l.actions.move(m)}},{eventName:"touchend",fn:function(o){var l=r();if(l.type!=="DRAGGING"){e();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(o){var l=r();l.type==="IDLE"&&le();var c=o.touches[0];if(c){var d=c.force>=_z;if(d){var f=l.actions.shouldRespectForcePress();if(l.type==="PENDING"){f&&e();return}if(f){if(l.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}}}},{eventName:tp,fn:e}]}function Iz(t){var e=O.useRef(vg),n=O.useRef(Cs),r=be(function(){return e.current},[]),i=be(function(E){e.current=E},[]),o=Ze(function(){return{eventName:"touchstart",fn:function(E){if(!E.defaultPrevented){var S=t.findClosestDraggableId(E);if(S){var C=t.tryGetLock(S,c,{sourceEvent:E});if(C){var I=E.touches[0],L=I.clientX,P=I.clientY,M={x:L,y:P};n.current(),g(C,M)}}}}}},[t]),l=be(function(){var E={capture:!0,passive:!1};n.current=mr(window,[o],E)},[o]),c=be(function(){var y=e.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),i(vg),n.current(),l())},[l,i]),d=be(function(){var y=e.current;c(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[c]),f=be(function(){var E={capture:!0,passive:!1},S={cancel:d,completed:c,getPhase:r},C=mr(window,Tz(S),E),I=mr(window,Sz(S),E);n.current=function(){C(),I()}},[d,r,c]),m=be(function(){var E=r();E.type!=="PENDING"&&le();var S=E.actions.fluidLift(E.point);i({type:"DRAGGING",actions:S,hasMoved:!1})},[r,i]),g=be(function(E,S){r().type!=="IDLE"&&le();var C=setTimeout(m,Ez);i({type:"PENDING",point:S,actions:E,longPressTimerId:C}),f()},[f,r,i,m]);Jn(function(){return l(),function(){n.current();var S=r();S.type==="PENDING"&&(clearTimeout(S.longPressTimerId),i(vg))}},[r,l,i]),Jn(function(){var E=mr(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return E},[])}var Cz={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function CP(t,e){if(e==null)return!1;var n=!!Cz[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:CP(t,e.parentElement)}function Az(t,e){var n=e.target;return Zf(n)?CP(t,n):!1}var Pz=function(t){return Lr(t.getBoundingClientRect()).center};function Rz(t){return t instanceof EP(t).Element}var Nz=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=Gs(e,function(r){return r in Element.prototype});return n||t}();function AP(t,e){return t==null?null:t[Nz](e)?t:AP(t.parentElement,e)}function kz(t,e){return t.closest?t.closest(e):AP(t,e)}function Dz(t){return"["+fl.contextId+'="'+t+'"]'}function Mz(t,e){var n=e.target;if(!Rz(n))return null;var r=Dz(t),i=kz(n,r);return!i||!Zf(i)?null:i}function Oz(t,e){var n=Mz(t,e);return n?n.getAttribute(fl.draggableId):null}function Lz(t,e){var n="["+bv.contextId+'="'+t+'"]',r=HA(document.querySelectorAll(n)),i=Gs(r,function(o){return o.getAttribute(bv.id)===e});return!i||!Zf(i)?null:i}function jz(t){t.preventDefault()}function fh(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function PP(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!yP(n.getState(),i))}function Vz(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,o=t.draggableId,l=t.forceSensorStop,c=t.sourceEvent,d=PP({lockAPI:e,store:r,registry:i,draggableId:o});if(!d)return null;var f=i.draggable.getById(o),m=Lz(n,f.descriptor.id);if(!m||c&&!f.options.canDragInteractiveElements&&Az(m,c))return null;var g=e.claim(l||Cs),y="PRE_DRAG";function E(){return f.options.shouldRespectForcePress}function S(){return e.isActive(g)}function C(G,R){fh({expected:G,phase:y,isLockActive:S,shouldWarn:!0})&&r.dispatch(R())}var I=C.bind(null,"DRAGGING");function L(G){function R(){e.release(),y="COMPLETED"}y!=="PRE_DRAG"&&(R(),y!=="PRE_DRAG"&&le()),r.dispatch(N8(G.liftActionArgs)),y="DRAGGING";function A(k,j){if(j===void 0&&(j={shouldBlockNextClick:!1}),G.cleanup(),j.shouldBlockNextClick){var U=mr(window,[{eventName:"click",fn:jz,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(U)}R(),r.dispatch(dP({reason:k}))}return Pe({isActive:function(){return fh({expected:"DRAGGING",phase:y,isLockActive:S,shouldWarn:!1})},shouldRespectForcePress:E,drop:function(j){return A("DROP",j)},cancel:function(j){return A("CANCEL",j)}},G.actions)}function P(G){var R=hu(function(k){I(function(){return uP({client:k})})}),A=L({liftActionArgs:{id:o,clientSelection:G,movementMode:"FLUID"},cleanup:function(){return R.cancel()},actions:{move:R}});return Pe({},A,{move:R})}function M(){var G={moveUp:function(){return I(B8)},moveRight:function(){return I(z8)},moveDown:function(){return I(U8)},moveLeft:function(){return I($8)}};return L({liftActionArgs:{id:o,clientSelection:Pz(m),movementMode:"SNAP"},cleanup:Cs,actions:G})}function z(){var G=fh({expected:"PRE_DRAG",phase:y,isLockActive:S,shouldWarn:!0});G&&e.release()}var V={isActive:function(){return fh({expected:"PRE_DRAG",phase:y,isLockActive:S,shouldWarn:!1})},shouldRespectForcePress:E,fluidLift:P,snapLift:M,abort:z};return V}var Fz=[vz,bz,Iz];function Bz(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,o=t.enableDefaultSensors,l=[].concat(o?Fz:[],i||[]),c=O.useState(function(){return rz()})[0],d=be(function(P,M){P.isDragging&&!M.isDragging&&c.tryAbandon()},[c]);Jn(function(){var P=n.getState(),M=n.subscribe(function(){var z=n.getState();d(P,z),P=z});return M},[c,n,d]),Jn(function(){return c.tryAbandon},[c.tryAbandon]);for(var f=be(function(L){return PP({lockAPI:c,registry:r,store:n,draggableId:L})},[c,r,n]),m=be(function(L,P,M){return Vz({lockAPI:c,registry:r,contextId:e,store:n,draggableId:L,forceSensorStop:P,sourceEvent:M&&M.sourceEvent?M.sourceEvent:null})},[e,c,r,n]),g=be(function(L){return Oz(e,L)},[e]),y=be(function(L){var P=r.draggable.findById(L);return P?P.options:null},[r.draggable]),E=be(function(){c.isClaimed()&&(c.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(p0()))},[c,n]),S=be(c.isClaimed,[c]),C=Ze(function(){return{canGetLock:f,tryGetLock:m,findClosestDraggableId:g,findOptionsForDraggable:y,tryReleaseLock:E,isLockClaimed:S}},[f,m,g,y,E,S]),I=0;I<l.length;I++)l[I](C)}var Uz=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Ic(t){return t.current||le(),t.current}function zz(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,o=t.dragHandleUsageInstructions,l=O.useRef(null),c=_P(t),d=be(function(){return Uz(c.current)},[c]),f=J7(e),m=nz({contextId:e,text:o}),g=W7(e,i),y=be(function(k){Ic(l).dispatch(k)},[]),E=Ze(function(){return XE({publishWhileDragging:D8,updateDroppableScroll:O8,updateDroppableIsEnabled:L8,updateDroppableIsCombineEnabled:j8,collectionStarting:M8},y)},[y]),S=Q7(),C=Ze(function(){return _7(S,E)},[S,E]),I=Ze(function(){return B7(Pe({scrollWindow:S7,scrollDroppable:C.scrollDroppable},XE({move:uP},y)))},[C.scrollDroppable,y]),L=q7(e),P=Ze(function(){return x7({announce:f,autoScroller:I,dimensionMarshal:C,focusMarshal:L,getResponders:d,styleMarshal:g})},[f,I,C,L,d,g]);l.current=P;var M=be(function(){var k=Ic(l),j=k.getState();j.phase!=="IDLE"&&k.dispatch(p0())},[]),z=be(function(){var k=Ic(l).getState();return k.isDragging||k.phase==="DROP_ANIMATING"},[]),V=Ze(function(){return{isDragging:z,tryAbort:M}},[z,M]);n(V);var G=be(function(k){return yP(Ic(l).getState(),k)},[]),R=be(function(){return Ao(Ic(l).getState())},[]),A=Ze(function(){return{marshal:C,focus:L,contextId:e,canLift:G,isMovementAllowed:R,dragHandleUsageInstructionsId:m,registry:S}},[e,C,m,L,G,R,S]);return Bz({contextId:e,store:P,registry:S,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),O.useEffect(function(){return M},[M]),tt.createElement(ep.Provider,{value:A},tt.createElement(A9,{context:E0,store:P},t.children))}var $z=0;function Hz(){return Ze(function(){return""+$z++},[])}function Wz(t){var e=Hz(),n=t.dragHandleUsageInstructions||Ah.dragHandleUsageInstructions;return tt.createElement(bU,null,function(r){return tt.createElement(zz,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var RP=function(e){return function(n){return e===n}},Gz=RP("scroll"),qz=RP("auto"),N_=function(e,n){return n(e.overflowX)||n(e.overflowY)},Kz=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return N_(r,Gz)||N_(r,qz)},Qz=function(){return!1},Yz=function t(e){return e==null?null:e===document.body?Qz()?e:null:e===document.documentElement?null:Kz(e)?e:t(e.parentElement)},Ev=function(t){return{x:t.scrollLeft,y:t.scrollTop}},Xz=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},Jz=function(t){var e=Yz(t),n=Xz(t);return{closestScrollable:e,isFixedOnPage:n}},Zz=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,o=t.direction,l=t.client,c=t.page,d=t.closest,f=function(){if(!d)return null;var E=d.scrollSize,S=d.client,C=mP({scrollHeight:E.scrollHeight,scrollWidth:E.scrollWidth,height:S.paddingBox.height,width:S.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:S,scrollSize:E,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:C,diff:{value:Xt,displacement:Xt}}}}(),m=o==="vertical"?c0:QA,g=dl({page:c,withPlaceholder:null,axis:m,frame:f}),y={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:m,isEnabled:n,client:l,page:c,frame:f,subject:g};return y},e$=function(e,n){var r=FA(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,l=i+n.scrollHeight,c=o+n.scrollWidth,d={top:i,right:c,bottom:l,left:o},f=i0(d,r.border),m=s0({borderBox:f,margin:r.margin,border:r.border,padding:r.padding});return m},t$=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,o=t.direction,l=t.isDropDisabled,c=t.isCombineEnabled,d=t.shouldClipSubject,f=r.closestScrollable,m=e$(e,f),g=uf(m,i),y=function(){if(!f)return null;var S=FA(f),C={scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth};return{client:S,page:uf(S,i),scroll:Ev(f),scrollSize:C,shouldClipSubject:d}}(),E=Zz({descriptor:n,isEnabled:!l,isCombineEnabled:c,isFixedOnPage:r.isFixedOnPage,direction:o,client:m,page:g,closest:y});return E},n$={passive:!1},r$={passive:!0},k_=function(t){return t.shouldPublishImmediately?n$:r$};function gf(t){var e=O.useContext(t);return e||le(),e}var ph=function(e){return e&&e.env.closestScrollable||null};function i$(t){var e=O.useRef(null),n=gf(ep),r=_0("droppable"),i=n.registry,o=n.marshal,l=_P(t),c=Ze(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),d=O.useRef(c),f=Ze(function(){return Kt(function(z,V){e.current||le();var G={x:z,y:V};o.updateDroppableScroll(c.id,G)})},[c.id,o]),m=be(function(){var z=e.current;return!z||!z.env.closestScrollable?Xt:Ev(z.env.closestScrollable)},[]),g=be(function(){var z=m();f(z.x,z.y)},[m,f]),y=Ze(function(){return hu(g)},[g]),E=be(function(){var z=e.current,V=ph(z);z&&V||le();var G=z.scrollOptions;if(G.shouldPublishImmediately){g();return}y()},[y,g]),S=be(function(z,V){e.current&&le();var G=l.current,R=G.getDroppableRef();R||le();var A=Jz(R),k={ref:R,descriptor:c,env:A,scrollOptions:V};e.current=k;var j=t$({ref:R,descriptor:c,env:A,windowScroll:z,direction:G.direction,isDropDisabled:G.isDropDisabled,isCombineEnabled:G.isCombineEnabled,shouldClipSubject:!G.ignoreContainerClipping}),U=A.closestScrollable;return U&&(U.setAttribute(C_.contextId,n.contextId),U.addEventListener("scroll",E,k_(k.scrollOptions))),j},[n.contextId,c,E,l]),C=be(function(){var z=e.current,V=ph(z);return z&&V||le(),Ev(V)},[]),I=be(function(){var z=e.current;z||le();var V=ph(z);e.current=null,V&&(y.cancel(),V.removeAttribute(C_.contextId),V.removeEventListener("scroll",E,k_(z.scrollOptions)))},[E,y]),L=be(function(z){var V=e.current;V||le();var G=ph(V);G||le(),G.scrollTop+=z.y,G.scrollLeft+=z.x},[]),P=Ze(function(){return{getDimensionAndWatchScroll:S,getScrollWhileDragging:C,dragStopped:I,scroll:L}},[I,S,C,L]),M=Ze(function(){return{uniqueId:r,descriptor:c,callbacks:P}},[P,c,r]);Jn(function(){return d.current=M.descriptor,i.droppable.register(M),function(){e.current&&I(),i.droppable.unregister(M)}},[P,c,I,M,o,i.droppable]),Jn(function(){e.current&&o.updateDroppableIsEnabled(d.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),Jn(function(){e.current&&o.updateDroppableIsCombineEnabled(d.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function yg(){}var D_={width:0,height:0,margin:CU},s$=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?D_:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},o$=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,o=s$({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Qc.placeholder:null}};function a$(t){var e=O.useRef(null),n=be(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,o=t.onClose,l=t.contextId,c=O.useState(t.animate==="open"),d=c[0],f=c[1];O.useEffect(function(){return d?r!=="open"?(n(),f(!1),yg):e.current?yg:(e.current=setTimeout(function(){e.current=null,f(!1)}),n):yg},[r,d,n]);var m=be(function(y){y.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),g=o$({isAnimatingOpenOnMount:d,animate:t.animate,placeholder:t.placeholder});return tt.createElement(t.placeholder.tagName,{style:g,"data-rbd-placeholder-context-id":l,onTransitionEnd:m,ref:t.innerRef})}var l$=tt.memo(a$),T0=tt.createContext(null),c$=function(t){AA(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(tt.PureComponent),M_={dragging:5e3,dropAnimating:4500},u$=function(e,n){return n?Qc.drop(n.duration):e?Qc.snap:Qc.fluid},d$=function(e,n){return e?n?gu.opacity.drop:gu.opacity.combining:null},h$=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function f$(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,o=t.dropping,l=!!i,c=h$(t),d=!!o,f=d?xv.drop(r,l):xv.moveTo(r),m={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:u$(c,o),transform:f,opacity:d$(l,d),zIndex:d?M_.dropAnimating:M_.dragging,pointerEvents:"none"};return m}function p$(t){return{transform:xv.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function m$(t){return t.type==="DRAGGING"?f$(t):p$(t)}function g$(t,e,n){n===void 0&&(n=Xt);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=VA(i,r),l=uf(o,n),c={client:o,tagName:e.tagName.toLowerCase(),display:r.display},d={x:o.marginBox.width,y:o.marginBox.height},f={descriptor:t,placeholder:c,displaceBy:d,client:o,page:l};return f}function v$(t){var e=_0("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,o=t.canDragInteractiveElements,l=t.shouldRespectForcePress,c=t.isEnabled,d=Ze(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:c}},[o,c,l]),f=be(function(E){var S=i();return S||le(),g$(n,S,E)},[n,i]),m=Ze(function(){return{uniqueId:e,descriptor:n,options:d,getDimension:f}},[n,f,d,e]),g=O.useRef(m),y=O.useRef(!0);Jn(function(){return r.draggable.register(g.current),function(){return r.draggable.unregister(g.current)}},[r.draggable]),Jn(function(){if(y.current){y.current=!1;return}var E=g.current;g.current=m,r.draggable.update(m,E)},[m,r.draggable])}function y$(t){t.preventDefault()}function x$(t){var e=O.useRef(null),n=be(function(k){e.current=k},[]),r=be(function(){return e.current},[]),i=gf(ep),o=i.contextId,l=i.dragHandleUsageInstructionsId,c=i.registry,d=gf(T0),f=d.type,m=d.droppableId,g=Ze(function(){return{id:t.draggableId,index:t.index,type:f,droppableId:m}},[t.draggableId,t.index,f,m]),y=t.children,E=t.draggableId,S=t.isEnabled,C=t.shouldRespectForcePress,I=t.canDragInteractiveElements,L=t.isClone,P=t.mapped,M=t.dropAnimationFinished;if(!L){var z=Ze(function(){return{descriptor:g,registry:c,getDraggableRef:r,canDragInteractiveElements:I,shouldRespectForcePress:C,isEnabled:S}},[g,c,r,I,C,S]);v$(z)}var V=Ze(function(){return S?{tabIndex:0,role:"button","aria-describedby":l,"data-rbd-drag-handle-draggable-id":E,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:y$}:null},[o,l,E,S]),G=be(function(k){P.type==="DRAGGING"&&P.dropping&&k.propertyName==="transform"&&M()},[M,P]),R=Ze(function(){var k=m$(P),j=P.type==="DRAGGING"&&P.dropping?G:null,U={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":E,style:k,onTransitionEnd:j},dragHandleProps:V};return U},[o,V,E,P,G,n]),A=Ze(function(){return{draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}},[g.droppableId,g.id,g.index,g.type]);return y(R,P.snapshot,A)}var NP=function(t,e){return t===e},kP=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},w$=function(e){return e.combine?e.combine.draggableId:null},b$=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function E$(){var t=Kt(function(i,o){return{x:i,y:o}}),e=Kt(function(i,o,l,c,d){return{isDragging:!0,isClone:o,isDropAnimating:!!d,dropAnimation:d,mode:i,draggingOver:l,combineWith:c,combineTargetFor:null}}),n=Kt(function(i,o,l,c,d,f,m){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:o,offset:i,dimension:l,forceShouldAnimate:m,snapshot:e(o,c,d,f,null)}}}),r=function(o,l){if(o.isDragging){if(o.critical.draggable.id!==l.draggableId)return null;var c=o.current.client.offset,d=o.dimensions.draggables[l.draggableId],f=Xn(o.impact),m=b$(o.impact),g=o.forceShouldAnimate;return n(t(c.x,c.y),o.movementMode,d,l.isClone,f,m,g)}if(o.phase==="DROP_ANIMATING"){var y=o.completed;if(y.result.draggableId!==l.draggableId)return null;var E=l.isClone,S=o.dimensions.draggables[l.draggableId],C=y.result,I=C.mode,L=kP(C),P=w$(C),M=o.dropDuration,z={duration:M,curve:g0.drop,moveTo:o.newHomeClientOffset,opacity:P?gu.opacity.drop:null,scale:P?gu.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:S,dropping:z,draggingOver:L,combineWith:P,mode:I,forceShouldAnimate:null,snapshot:e(I,E,L,P,z)}}}return null};return r}function DP(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var _$={mapped:{type:"SECONDARY",offset:Xt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:DP(null)}};function S$(){var t=Kt(function(l,c){return{x:l,y:c}}),e=Kt(DP),n=Kt(function(l,c,d){return c===void 0&&(c=null),{mapped:{type:"SECONDARY",offset:l,combineTargetFor:c,shouldAnimateDisplacement:d,snapshot:e(c)}}}),r=function(c){return c?n(Xt,c,!0):null},i=function(c,d,f,m){var g=f.displaced.visible[c],y=!!(m.inVirtualList&&m.effected[c]),E=Yf(f),S=E&&E.draggableId===c?d:null;if(!g){if(!y)return r(S);if(f.displaced.invisible[c])return null;var C=Cl(m.displacedBy.point),I=t(C.x,C.y);return n(I,S,!0)}if(y)return r(S);var L=f.displacedBy.point,P=t(L.x,L.y);return n(P,S,g.shouldAnimate)},o=function(c,d){if(c.isDragging)return c.critical.draggable.id===d.draggableId?null:i(d.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){var f=c.completed;return f.result.draggableId===d.draggableId?null:i(d.draggableId,f.result.draggableId,f.impact,f.afterCritical)}return null};return o}var T$=function(){var e=E$(),n=S$(),r=function(o,l){return e(o,l)||n(o,l)||_$};return r},I$={dropAnimationFinished:hP},C$=LA(T$,I$,null,{context:E0,pure:!0,areStatePropsEqual:NP})(x$);function MP(t){var e=gf(T0),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:tt.createElement(C$,t)}function A$(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return tt.createElement(MP,Pe({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function P$(t){var e=O.useContext(ep);e||le();var n=e.contextId,r=e.isMovementAllowed,i=O.useRef(null),o=O.useRef(null),l=t.children,c=t.droppableId,d=t.type,f=t.mode,m=t.direction,g=t.ignoreContainerClipping,y=t.isDropDisabled,E=t.isCombineEnabled,S=t.snapshot,C=t.useClone,I=t.updateViewportMaxScroll,L=t.getContainerForClone,P=be(function(){return i.current},[]),M=be(function(U){i.current=U},[]);be(function(){return o.current},[]);var z=be(function(U){o.current=U},[]),V=be(function(){r()&&I({maxScroll:vP()})},[r,I]);i$({droppableId:c,type:d,mode:f,direction:m,isDropDisabled:y,isCombineEnabled:E,ignoreContainerClipping:g,getDroppableRef:P});var G=tt.createElement(c$,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(U){var F=U.onClose,N=U.data,ae=U.animate;return tt.createElement(l$,{placeholder:N,onClose:F,innerRef:z,animate:ae,contextId:n,onTransitionEnd:V})}),R=Ze(function(){return{innerRef:M,placeholder:G,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}},[n,c,G,M]),A=C?C.dragging.draggableId:null,k=Ze(function(){return{droppableId:c,type:d,isUsingCloneFor:A}},[c,A,d]);function j(){if(!C)return null;var U=C.dragging,F=C.render,N=tt.createElement(MP,{draggableId:U.draggableId,index:U.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(ae,Se){return F(ae,Se,U)});return Y2.createPortal(N,L())}return tt.createElement(T0.Provider,{value:k},l(R,S),j())}var xg=function(e,n){return e===n.droppable.type},O_=function(e,n){return n.draggables[e.draggable.id]},R$=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=Pe({},e,{shouldAnimatePlaceholder:!1}),r=Kt(function(l){return{draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}}}),i=Kt(function(l,c,d,f,m,g){var y=m.descriptor.id,E=m.descriptor.droppableId===l;if(E){var S=g?{render:g,dragging:r(m.descriptor)}:null,C={isDraggingOver:d,draggingOverWith:d?y:null,draggingFromThisWith:y,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:S}}if(!c)return n;if(!f)return e;var I={isDraggingOver:d,draggingOverWith:y,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:I,useClone:null}}),o=function(c,d){var f=d.droppableId,m=d.type,g=!d.isDropDisabled,y=d.renderClone;if(c.isDragging){var E=c.critical;if(!xg(m,E))return n;var S=O_(E,c.dimensions),C=Xn(c.impact)===f;return i(f,g,C,C,S,y)}if(c.phase==="DROP_ANIMATING"){var I=c.completed;if(!xg(m,I.critical))return n;var L=O_(I.critical,c.dimensions);return i(f,g,kP(I.result)===f,Xn(I.impact)===f,L,y)}if(c.phase==="IDLE"&&c.completed&&!c.shouldFlush){var P=c.completed;if(!xg(m,P.critical))return n;var M=Xn(P.impact)===f,z=!!(P.impact.at&&P.impact.at.type==="COMBINE"),V=P.critical.droppable.id===f;return M?z?e:n:V?e:n}return n};return o},N$={updateViewportMaxScroll:F8};function k$(){return document.body||le(),document.body}var D$={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:k$},_v=LA(R$,N$,null,{context:E0,pure:!0,areStatePropsEqual:NP})(P$);_v.defaultProps=D$;const M$=({exercise:t,onComplete:e})=>{const[n,r]=O.useState([]),[i,o]=O.useState({}),[l,c]=O.useState(!1),[d,f]=O.useState(!1),[m,g]=O.useState(!1),y=(t==null?void 0:t.categories)||[],E=(t==null?void 0:t.items)||[];O.useEffect(()=>{r(E.map(M=>({...M,id:`item-${M.id}`,isPlaced:!1})));const P={};y.forEach(M=>{P[M.id]={...M,items:[]}}),o(P)},[E,y]);const S=P=>{if(!P.destination||l)return;const{source:M,destination:z,draggableId:V}=P;if(M.droppableId===z.droppableId&&M.index===z.index)return;const G=n.find(R=>R.id===V)||Object.values(i).flatMap(R=>R.items).find(R=>R.id===V);G&&(M.droppableId==="items"?r(R=>R.filter(A=>A.id!==V)):o(R=>({...R,[M.droppableId]:{...R[M.droppableId],items:R[M.droppableId].items.filter(A=>A.id!==V)}})),z.droppableId==="items"?r(R=>[...R,{...G,isPlaced:!1}]):o(R=>({...R,[z.droppableId]:{...R[z.droppableId],items:[...R[z.droppableId].items,{...G,isPlaced:!0}]}})))},C=(P,M)=>{if(l)return;const z=i[P].items.find(V=>V.id===M);z&&(o(V=>({...V,[P]:{...V[P],items:V[P].items.filter(G=>G.id!==M)}})),r(V=>[...V,{...z,isPlaced:!1}]))},I=()=>{let P=!0,M=0;Object.values(i).forEach(z=>{M+=z.items.length,z.items.forEach(V=>{V.correctCategory!==z.id&&(P=!1)})}),M!==E.length&&(P=!1),console.log("Answer check:",{correct:P,totalPlaced:M,totalItems:E.length}),f(P),c(!0),g(!0),setTimeout(()=>{g(!1),e(P)},3e3)},L=()=>{r(E.map(M=>({...M,id:`item-${M.id}`,isPlaced:!1})));const P={};y.forEach(M=>{P[M.id]={...M,items:[]}}),o(P),c(!1),f(!1),g(!1)};return v.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:(t==null?void 0:t.title)||"  "}),v.jsx("p",{className:"text-xl text-gray-200 leading-relaxed",children:(t==null?void 0:t.instructions)||"   "})]}),v.jsx(Wz,{onDragEnd:S,children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h4",{className:"text-2xl font-bold text-blue-300 text-center mb-4",children:" "}),v.jsx(_v,{droppableId:"items",children:(P,M)=>v.jsxs("div",{ref:P.innerRef,...P.droppableProps,className:`min-h-[200px] p-4 rounded-xl border-2 border-dashed transition-colors ${M.isDraggingOver?"border-blue-400 bg-blue-900/30":"border-gray-500 bg-gray-800/50"}`,children:[n.map((z,V)=>v.jsx(A$,{draggableId:z.id,index:V,children:(G,R)=>v.jsx("div",{ref:G.innerRef,...G.draggableProps,...G.dragHandleProps,className:`p-3 mb-3 rounded-lg border-2 cursor-move transition-all duration-200 ${R.isDragging?"border-blue-400 bg-blue-800/50 shadow-lg scale-105":"border-gray-600 bg-gray-700/50 hover:border-purple-400 hover:bg-purple-800/30"}`,children:v.jsxs("div",{className:"flex items-center gap-3",children:[z.image&&v.jsx("img",{src:z.image,alt:z.text,className:"w-12 h-12 rounded-lg object-cover"}),v.jsx("span",{className:"font-semibold text-white",children:z.text})]})})},z.id)),P.placeholder]})})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h4",{className:"text-2xl font-bold text-green-300 text-center mb-4",children:""}),y.map(P=>v.jsx(_v,{droppableId:P.id,children:(M,z)=>{var V;return v.jsxs("div",{ref:M.innerRef,...M.droppableProps,className:`min-h-[120px] p-4 rounded-xl border-2 transition-all duration-200 ${z.isDraggingOver?"border-blue-400 bg-blue-900/30 shadow-lg":"border-gray-600 bg-gray-800/50"}`,style:{borderColor:P.color},children:[v.jsxs("div",{className:"mb-3",children:[v.jsx("h5",{className:"font-bold text-lg text-white",style:{color:P.color},children:P.name}),v.jsx("p",{className:"text-sm text-gray-300",children:P.description})]}),(V=i[P.id])==null?void 0:V.items.map((G,R)=>v.jsx("div",{className:"p-2 mb-2 rounded-lg bg-gray-700/50 border border-gray-600",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[G.image&&v.jsx("img",{src:G.image,alt:G.text,className:"w-8 h-8 rounded object-cover"}),v.jsx("span",{className:"text-sm font-medium text-white",children:G.text})]}),v.jsx("button",{onClick:()=>C(P.id,G.id),className:"text-red-400 hover:text-red-300 transition-colors",children:v.jsx(zo,{className:"h-4 w-4"})})]})},G.id)),M.placeholder]})}},P.id))]})]})}),v.jsxs("div",{className:"flex justify-center space-x-4 space-x-reverse pt-6",children:[v.jsxs("button",{onClick:L,className:"px-6 py-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-lg border border-gray-600 hover:border-gray-500 transition-all duration-200 flex items-center gap-2",children:[v.jsx($I,{className:"h-5 w-5"})," "]}),v.jsxs("button",{onClick:I,disabled:n.length>0||l,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg border border-blue-500 hover:border-blue-400 transition-all duration-200 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx(ku,{className:"h-5 w-5"})," "]})]}),v.jsx("div",{className:"text-center",children:v.jsxs("p",{className:"text-lg text-gray-300",children:[" : ",E.length-n.length," / ",E.length]})}),m&&v.jsxs("div",{className:`text-center p-6 rounded-xl border-2 ${d?"bg-green-900/30 text-green-200 border-green-500":"bg-red-900/30 text-red-200 border-red-500"}`,children:[v.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d?v.jsx(gr,{className:"h-8 w-8"}):v.jsx(zo,{className:"h-8 w-8"}),v.jsx("span",{className:"text-2xl font-bold",children:d?"!    !":" !"})]}),v.jsx("p",{className:"text-lg",children:d?" !       !":"     .  !"})]})]})},O$=({exercise:t,onComplete:e})=>{const n=(t==null?void 0:t.pairs)||[],[r,i]=O.useState(null),[o,l]=O.useState(null),[c,d]=O.useState({}),[f,m]=O.useState(!1),[g,y]=O.useState(!1),[E,S]=O.useState(!1),[C,I]=O.useState(0),L=k=>k,P=k=>{f||c[k]!==void 0||(i(k),l(null))},M=k=>{f||Object.values(c).includes(k)||l(k)},z=()=>{if(r===null||o===null)return;const k={...c,[r]:o};d(k),i(null),l(null),L(r)===o&&I(C+1)},V=()=>{const j=Object.keys(c).filter(U=>L(parseInt(U))===c[U]).length===n.length;y(j),m(!0),S(!0),setTimeout(()=>{S(!1),e(j)},3e3)},G=()=>{d({}),i(null),l(null),m(!1),y(!1),S(!1),I(0)},R=k=>Object.values(c).includes(k),A=k=>{const j=c[k];return j!==void 0&&L(k)===j};return v.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:(t==null?void 0:t.title)||" "}),v.jsx("p",{className:"text-xl text-gray-200 leading-relaxed",children:(t==null?void 0:t.instructions)||"       "})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h4",{className:"text-2xl font-bold text-purple-300 text-center mb-4",children:" "}),v.jsx("div",{className:"space-y-3",children:n.map((k,j)=>v.jsx(Te.div,{className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${r===j?"border-blue-400 bg-blue-800/50 shadow-lg scale-105":c[j]!==void 0?A(j)?"border-green-400 bg-green-800/30":"border-red-400 bg-red-800/30":"border-gray-600 bg-gray-700/50 hover:border-purple-400 hover:bg-purple-800/30"}`,onClick:()=>P(j),whileHover:c[j]===void 0?{scale:1.02}:{},whileTap:c[j]===void 0?{scale:.98}:{},children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-2xl",children:k.icon}),v.jsx("span",{className:"font-semibold text-white text-lg",children:k.tool}),c[j]!==void 0&&v.jsx(Te.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto",children:A(j)?v.jsx(gr,{className:"h-6 w-6 text-green-400"}):v.jsx(zo,{className:"h-6 w-6 text-red-400"})})]})},`left-${j}`))})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h4",{className:"text-2xl font-bold text-green-300 text-center mb-4",children:""}),v.jsx("div",{className:"space-y-3",children:n.map((k,j)=>v.jsx(Te.div,{className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${o===j?"border-blue-400 bg-blue-800/50 shadow-lg scale-105":R(j)?"border-gray-500 bg-gray-600/50 opacity-60":"border-gray-600 bg-gray-700/50 hover:border-green-400 hover:bg-green-800/30"}`,onClick:()=>M(j),whileHover:R(j)?{}:{scale:1.02},whileTap:R(j)?{}:{scale:.98},children:v.jsx("div",{className:"flex items-center gap-3",children:v.jsx("span",{className:"font-semibold text-white text-lg",children:k.description})})},`right-${j}`))})]})]}),r!==null&&o!==null&&v.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:v.jsxs(Te.button,{onClick:z,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg border border-blue-500 hover:border-blue-400 transition-all duration-200 flex items-center gap-2 mx-auto",whileHover:{scale:1.05},whileTap:{scale:.95},children:[v.jsx(ku,{className:"h-5 w-5"})," "]})}),v.jsxs("div",{className:"flex justify-center space-x-4 space-x-reverse pt-6",children:[v.jsxs(Te.button,{onClick:G,className:"px-6 py-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-lg border border-gray-600 hover:border-gray-500 transition-all duration-200 flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[v.jsx($I,{className:"h-5 w-5"})," "]}),v.jsxs(Te.button,{onClick:V,disabled:Object.keys(c).length!==n.length,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg border border-blue-500 hover:border-blue-400 transition-all duration-200 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:Object.keys(c).length===n.length?{scale:1.05}:{},whileTap:Object.keys(c).length===n.length?{scale:.95}:{},children:[v.jsx(gr,{className:"h-5 w-5"})," "]})]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("p",{className:"text-lg text-gray-300",children:[": ",Object.keys(c).length," / ",n.length]}),C>0&&v.jsxs("p",{className:"text-lg text-green-400 font-semibold",children:[": ",C," / ",Object.keys(c).length]})]}),E&&v.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`text-center p-6 rounded-xl border-2 ${g?"bg-green-900/30 text-green-200 border-green-500":"bg-red-900/30 text-red-200 border-red-500"}`,children:[v.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[g?v.jsx(gr,{className:"h-8 w-8"}):v.jsx(zo,{className:"h-8 w-8"}),v.jsx("span",{className:"text-2xl font-bold",children:g?"!   !":" !"})]}),v.jsx("p",{className:"text-lg",children:g?" !        !":"   .  !"})]})]})},L$=({exercise:t,onComplete:e})=>{var C;const[n,r]=O.useState(null),[i,o]=O.useState(!1),[l,c]=O.useState(!1),[d,f]=O.useState(!1),[m,g]=O.useState(!1),y=I=>{i||r(I)},E=()=>{if(!n)return;const I=n===t.correctAnswer;f(I),o(!0),g(!0),setTimeout(()=>{g(!1),e(I)},3e3)},S=I=>i?I===t.correctAnswer?"border-green-400 bg-green-800/30":I===n&&I!==t.correctAnswer?"border-red-400 bg-red-800/30":"border-gray-600 bg-gray-600/50 opacity-60":n===I?"border-blue-400 bg-blue-800/50":"border-gray-600 bg-gray-700/50 hover:border-blue-400 hover:bg-blue-800/30";return v.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:(t==null?void 0:t.title)||" -"}),(t==null?void 0:t.question)&&v.jsx("p",{className:"text-xl text-gray-200 leading-relaxed mb-6",children:t.question})]}),(t==null?void 0:t.content)&&v.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border-2 border-gray-600",children:[t.content.image&&v.jsx("img",{src:t.content.image,alt:t.content.text||"",className:"w-full max-w-md mx-auto rounded-lg mb-4"}),t.content.text&&v.jsx("p",{className:"text-lg text-white text-center",children:t.content.text})]}),v.jsx("div",{className:"space-y-3",children:(C=t==null?void 0:t.options)==null?void 0:C.map((I,L)=>v.jsx(Te.div,{className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${S(I.id)}`,onClick:()=>y(I.id),whileHover:i?{}:{scale:1.02},whileTap:i?{}:{scale:.98},children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center font-bold text-lg ${n===I.id?"border-blue-400 bg-blue-400 text-white":"border-gray-500 bg-gray-600 text-gray-300"}`,children:[String.fromCharCode(65+L)," "]}),v.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[I.icon&&v.jsx("span",{className:"text-2xl",children:I.icon}),v.jsx("span",{className:"font-semibold text-white text-lg",children:I.text})]}),i&&I.id===t.correctAnswer&&v.jsx(Te.div,{initial:{scale:0},animate:{scale:1},children:v.jsx(gr,{className:"h-6 w-6 text-green-400"})}),i&&I.id===n&&I.id!==t.correctAnswer&&v.jsx(Te.div,{initial:{scale:0},animate:{scale:1},children:v.jsx(zo,{className:"h-6 w-6 text-red-400"})})]})},I.id))}),(t==null?void 0:t.hint)&&v.jsxs("div",{className:"text-center",children:[v.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 mx-auto text-purple-300 hover:text-purple-200 transition-colors",children:[v.jsx(pj,{className:"h-5 w-5"}),v.jsx("span",{className:"font-medium",children:""})]}),l&&v.jsx(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-3 p-4 bg-yellow-900/30 border-2 border-yellow-500 rounded-lg",children:v.jsx("p",{className:"text-yellow-200 font-medium",children:t.hint})})]}),v.jsx("div",{className:"text-center",children:v.jsxs(Te.button,{onClick:E,disabled:!n||i,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg border border-blue-500 hover:border-blue-400 transition-all duration-200 flex items-center gap-2 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",whileHover:n&&!i?{scale:1.05}:{},whileTap:n&&!i?{scale:.95}:{},children:[v.jsx(ku,{className:"h-5 w-5"})," "]})}),m&&v.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`text-center p-6 rounded-xl border-2 ${d?"bg-green-900/30 text-green-200 border-green-500":"bg-red-900/30 text-red-200 border-red-500"}`,children:[v.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d?v.jsx(gr,{className:"h-8 w-8"}):v.jsx(zo,{className:"h-8 w-8"}),v.jsx("span",{className:"text-2xl font-bold",children:d?"!  !":" !"})]}),(t==null?void 0:t.explanation)&&v.jsx("p",{className:"text-lg",children:t.explanation})]})]})},j$=({slide:t,onAnswer:e,answers:n})=>{const{content:r}=t,[i,o]=O.useState(!1),l=c=>{o(!0),e(t.id,{completed:!0,isCorrect:c})};return v.jsx("div",{className:"min-h-[600px] flex flex-col items-center justify-center p-8",children:v.jsxs("div",{className:"max-w-5xl w-full",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h2",{className:"text-4xl font-bold text-white mb-4",style:{textShadow:"0 4px 8px rgba(0,0,0,0.3)"},children:t.title}),v.jsx("p",{className:"text-xl text-gray-200",style:{textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:r.instructions})]}),v.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-8 border border-gray-700/50 shadow-2xl",children:[r.type==="drag-drop"&&v.jsx(M$,{exercise:r,onComplete:l}),r.type==="matching"&&v.jsx(O$,{exercise:r,onComplete:l}),r.type==="multiple-choice"&&v.jsx(L$,{exercise:r,onComplete:l})]}),i&&v.jsx("div",{className:"mt-8 text-center",children:v.jsxs("div",{className:"bg-green-600/20 border border-green-500/30 rounded-xl p-6",children:[v.jsx("h3",{className:"text-2xl font-bold text-green-400 mb-2",children:" !"}),v.jsx("p",{className:"text-gray-300",children:" !    "})]})})]})})},V$=({slide:t,onAnswer:e,answers:n})=>{const{content:r}=t,[i,o]=O.useState(!1),l=()=>{o(!0),e(t.id,{completed:!0,isCorrect:!0})};return v.jsx("div",{className:"min-h-[600px] flex flex-col items-center justify-center p-8",children:v.jsxs("div",{className:"max-w-4xl w-full text-center",children:[v.jsx("div",{className:"mb-8",children:v.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center shadow-2xl",children:v.jsx(lj,{className:"w-12 h-12 text-white"})})}),v.jsx("h2",{className:"text-5xl font-bold text-white mb-6",style:{textShadow:"0 4px 8px rgba(0,0,0,0.3)"},children:t.title}),v.jsx("p",{className:"text-2xl text-gray-200 mb-8",style:{textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:r.message}),r.timer&&v.jsx("div",{className:"mb-8",children:v.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[v.jsx("p",{className:"text-xl text-white mb-2",children:" "}),v.jsx("div",{className:"text-4xl font-bold text-orange-400",children:r.timer})]})}),r.activities&&v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:" :"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.activities.map((c,d)=>v.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20 hover:bg-white/20 transition-all duration-300",children:v.jsx("span",{className:"text-lg text-white",children:c})},d))})]}),v.jsx("button",{onClick:l,disabled:i,className:`px-8 py-4 rounded-xl text-xl font-bold transition-all duration-300 transform hover:scale-105 ${i?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700 shadow-2xl"}`,children:v.jsxs("div",{className:"flex items-center justify-center",children:[v.jsx(by,{className:"w-6 h-6 mr-2"})," "]})}),i&&v.jsx("div",{className:"mt-6",children:v.jsx("div",{className:"bg-green-600/20 border border-green-500/30 rounded-xl p-4",children:v.jsx("p",{className:"text-green-400 font-medium",children:" !"})})})]})})},F$=({slide:t,onAnswer:e,answers:n})=>{const{content:r}=t,[i,o]=O.useState(""),[l,c]=O.useState(!1),d=()=>{i.trim()&&(c(!0),e(t.id,{reflection:i.trim(),isCorrect:!0}))};return v.jsx("div",{className:"min-h-[600px] flex flex-col items-center justify-center p-8",children:v.jsxs("div",{className:"max-w-4xl w-full",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-2xl mb-6",children:v.jsx(LI,{className:"w-10 h-10 text-white"})}),v.jsx("h2",{className:"text-4xl font-bold text-white mb-4",style:{textShadow:"0 4px 8px rgba(0,0,0,0.3)"},children:t.title}),v.jsx("p",{className:"text-xl text-gray-200",style:{textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:r.prompt})]}),l?v.jsx("div",{className:"text-center",children:v.jsxs("div",{className:"bg-green-600/20 border border-green-500/30 rounded-xl p-8",children:[v.jsx("h3",{className:"text-2xl font-bold text-green-400 mb-4",children:"  !"}),v.jsx("p",{className:"text-gray-300 mb-6",children:"   "}),v.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:v.jsxs("p",{className:"text-white italic",children:['"',i,'"']})})]})}):v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:v.jsx("textarea",{value:i,onChange:f=>o(f.target.value),placeholder:"    ...",className:"w-full h-32 bg-transparent border-none outline-none text-white placeholder-gray-400 resize-none",style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)"}})}),v.jsx("div",{className:"text-center",children:v.jsx("button",{onClick:d,disabled:!i.trim(),className:`px-8 py-4 rounded-xl text-xl font-bold transition-all duration-300 transform hover:scale-105 ${i.trim()?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 shadow-2xl":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:v.jsxs("div",{className:"flex items-center justify-center",children:[v.jsx(zI,{className:"w-6 h-6 mr-2"})," "]})})})]}),r.additionalQuestions&&v.jsxs("div",{className:"mt-8",children:[v.jsx("h3",{className:"text-2xl font-bold text-white mb-4 text-center",children:"  :"}),v.jsx("div",{className:"space-y-3",children:r.additionalQuestions.map((f,m)=>v.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:v.jsx("p",{className:"text-gray-200",children:f})},m))})]})]})})},B$=({slide:t,onAnswer:e,answers:n})=>{var E;const{content:r}=t,[i,o]=O.useState({}),[l,c]=O.useState(!1),[d,f]=O.useState(0),m=(S,C)=>{l||o(I=>({...I,[S]:C}))},g=()=>{if(Object.keys(i).length===r.questions.length){let S=0;r.questions.forEach(I=>{i[I.id]===I.correctAnswer&&S++});const C=Math.round(S/r.questions.length*100);f(C),c(!0),e(t.id,{answers:i,score:C,isCorrect:C>=70})}},y=Object.keys(i).length===r.questions.length;return v.jsx("div",{className:"min-h-[600px] flex flex-col items-center justify-center p-8",children:v.jsxs("div",{className:"max-w-4xl w-full",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h2",{className:"text-4xl font-bold text-white mb-4",style:{textShadow:"0 4px 8px rgba(0,0,0,0.3)"},children:t.title}),v.jsx("p",{className:"text-xl text-gray-200",style:{textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:r.description})]}),v.jsx("div",{className:"space-y-8",children:(E=r.questions)==null?void 0:E.map((S,C)=>{var I;return v.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[v.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:[" ",C+1,": ",S.question]}),v.jsx("div",{className:"space-y-3",children:(I=S.options)==null?void 0:I.map(L=>v.jsx("button",{onClick:()=>m(S.id,L.id),disabled:l,className:`w-full p-4 rounded-lg border-2 transition-all duration-300 text-right ${i[S.id]===L.id?l&&L.id===S.correctAnswer?"bg-gradient-to-r from-green-600 to-emerald-600 border-green-400 text-white":l&&L.id!==S.correctAnswer?"bg-gradient-to-r from-red-600 to-pink-600 border-red-400 text-white":"bg-gradient-to-r from-blue-600 to-purple-600 border-blue-400 text-white":l&&L.id===S.correctAnswer?"bg-gradient-to-r from-green-600 to-emerald-600 border-green-400 text-white":"bg-gray-700/50 border-gray-600 text-gray-300 hover:bg-gray-600/50"}`,children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{children:L.text}),i[S.id]===L.id&&v.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:l&&L.id===S.correctAnswer?v.jsx(gr,{className:"w-4 h-4 text-green-600"}):l&&L.id!==S.correctAnswer?v.jsx(zo,{className:"w-4 h-4 text-red-600"}):v.jsx(gr,{className:"w-4 h-4 text-blue-600"})}),l&&L.id===S.correctAnswer&&i[S.id]!==L.id&&v.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:v.jsx(gr,{className:"w-4 h-4 text-green-600"})})]})},L.id))})]},S.id)})}),!l&&v.jsx("div",{className:"text-center mt-8",children:v.jsx("button",{onClick:g,disabled:!y,className:`px-8 py-4 rounded-xl text-xl font-bold transition-all duration-300 transform hover:scale-105 ${y?"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700 shadow-2xl":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:" "})}),l&&v.jsx("div",{className:"mt-8 text-center",children:v.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-8 border border-white/20",children:[v.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full flex items-center justify-center shadow-2xl mb-6",children:v.jsx(qI,{className:"w-10 h-10 text-white"})}),v.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:" :"}),v.jsxs("div",{className:"text-5xl font-bold text-yellow-400 mb-4",children:[d,"%"]}),v.jsx("p",{className:"text-xl text-gray-200",children:d>=90?"!":d>=80?" !":d>=70?"!":" !"})]})})]})})};class U${constructor(){this.sessionStart=Date.now(),this.events=[],this.userId=null,this.lessonId=null}init(e,n=null){this.userId=e,this.lessonId=n,console.log(" SESSION MONITOR INITIALIZED:",{userId:e,lessonId:n,timestamp:new Date().toISOString(),sessionId:this.generateSessionId()})}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}logEvent(e,n={}){const r={type:e,timestamp:new Date().toISOString(),sessionTime:Date.now()-this.sessionStart,userId:this.userId,lessonId:this.lessonId,data:n};this.events.push(r);const o={slide_navigation:"",slide_engagement:"",exercise_completion:"",lesson_completion:"",error:"",progress_save:"",user_action:""}[e]||"";console.log(`${o} SESSION EVENT:`,r)}logSlideNavigation(e,n,r){this.logEvent("slide_navigation",{fromSlide:e+1,toSlide:n+1,direction:r,timeSpent:Date.now()-this.sessionStart})}logSlideEngagement(e,n,r){this.logEvent("slide_engagement",{slideId:e,slideType:n,timeSpent:r,engagementLevel:this.calculateEngagementLevel(r)})}calculateEngagementLevel(e){return e<30?"low":e<120?"medium":"high"}logExerciseCompletion(e,n,r){this.logEvent("exercise_completion",{exerciseId:e,isCorrect:n,score:r,timestamp:new Date().toISOString()})}logLessonCompletion(e,n,r){this.logEvent("lesson_completion",{lessonId:e,totalScore:n,timeSpent:r,completionRate:this.calculateCompletionRate(),achievements:this.getUnlockedAchievements()})}calculateCompletionRate(){const e=this.events.filter(r=>r.type==="exercise_completion"&&r.data.isCorrect),n=this.events.filter(r=>r.type==="exercise_completion");return n.length>0?Math.round(e.length/n.length*100):0}getUnlockedAchievements(){return[]}generateSessionSummary(){const e=Date.now()-this.sessionStart,n=this.events.filter(l=>l.type==="slide_navigation"),r=this.events.filter(l=>l.type==="slide_engagement"),i=this.events.filter(l=>l.type==="exercise_completion"),o={sessionId:this.generateSessionId(),userId:this.userId,lessonId:this.lessonId,duration:e,totalEvents:this.events.length,slideNavigations:n.length,slideEngagements:r.length,exercisesCompleted:i.length,completionRate:this.calculateCompletionRate(),averageEngagementLevel:this.calculateAverageEngagementLevel(),events:this.events};return console.log(" SESSION SUMMARY:",o),o}calculateAverageEngagementLevel(){const e=this.events.filter(i=>i.type==="slide_engagement");if(e.length===0)return"unknown";const r=e.reduce((i,o)=>i+(o.data.timeSpent||0),0)/e.length;return this.calculateEngagementLevel(r)}exportSessionData(){return{session:this.generateSessionSummary(),analytics:{userBehavior:this.analyzeUserBehavior(),performance:this.analyzePerformance(),recommendations:this.generateRecommendations()}}}analyzeUserBehavior(){const e=this.events.filter(r=>r.type==="slide_navigation"),n=this.events.filter(r=>r.type==="slide_engagement");return{navigationPattern:this.analyzeNavigationPattern(e),engagementPattern:this.analyzeEngagementPattern(n),learningStyle:this.determineLearningStyle()}}analyzeNavigationPattern(e){const n=e.filter(i=>i.data.direction==="forward").length,r=e.filter(i=>i.data.direction==="backward").length;return{forwardMoves:n,backwardMoves:r,pattern:n>r?"progressive":"reviewing",efficiency:this.calculateNavigationEfficiency(e)}}calculateNavigationEfficiency(e){if(e.length===0)return 100;const n=e.filter(i=>i.data.direction==="forward").length,r=e.length;return Math.round(n/r*100)}analyzeEngagementPattern(e){const n=e.map(l=>l.data.engagementLevel),r=n.filter(l=>l==="high").length,i=n.filter(l=>l==="medium").length,o=n.filter(l=>l==="low").length;return{highEngagement:r,mediumEngagement:i,lowEngagement:o,averageEngagement:this.calculateAverageEngagementLevel(),consistency:this.calculateEngagementConsistency(n)}}calculateEngagementConsistency(e){if(e.length===0)return"unknown";const n=new Set(e);return n.size===1?"very_consistent":n.size===2?"consistent":"inconsistent"}determineLearningStyle(){const e=this.events.filter(o=>o.type==="slide_navigation"),n=this.events.filter(o=>o.type==="slide_engagement"),r=n.length>0?n.reduce((o,l)=>o+(l.data.timeSpent||0),0)/n.length:0,i=e.filter(o=>o.data.direction==="backward").length;return r>180&&i>2?"thorough_reviewer":r<60?"quick_learner":i>5?"repetitive_learner":"balanced_learner"}analyzePerformance(){const e=this.events.filter(i=>i.type==="exercise_completion"),n=e.filter(i=>i.data.isCorrect).length,r=e.length;return{accuracy:r>0?Math.round(n/r*100):0,speed:this.calculateAverageResponseTime(),consistency:this.calculatePerformanceConsistency(),improvement:this.calculateImprovementTrend()}}calculateAverageResponseTime(){return this.events.filter(n=>n.type==="exercise_completion").length===0?0:30}calculatePerformanceConsistency(){const e=this.events.filter(i=>i.type==="exercise_completion");if(e.length<3)return"insufficient_data";const n=e.map(i=>i.data.score||0),r=this.calculateVariance(n);return r<10?"very_consistent":r<25?"consistent":"inconsistent"}calculateVariance(e){const n=e.reduce((i,o)=>i+o,0)/e.length;return e.map(i=>Math.pow(i-n,2)).reduce((i,o)=>i+o,0)/e.length}calculateImprovementTrend(){const e=this.events.filter(c=>c.type==="exercise_completion");if(e.length<3)return"insufficient_data";const n=e.map(c=>c.data.score||0),r=n.slice(0,Math.floor(n.length/2)),i=n.slice(Math.floor(n.length/2)),o=r.reduce((c,d)=>c+d,0)/r.length,l=i.reduce((c,d)=>c+d,0)/i.length;return l>o+10?"improving":l<o-10?"declining":"stable"}generateRecommendations(){const e=[],n=this.analyzeUserBehavior(),r=this.analyzePerformance();return n.navigationPattern.efficiency<70&&e.push("Consider reducing backward navigation to improve learning efficiency"),n.engagementPattern.lowEngagement>n.engagementPattern.highEngagement&&e.push("Try spending more time on each slide to improve understanding"),r.accuracy<80&&e.push("Review previous lessons to strengthen foundational knowledge"),n.learningStyle==="quick_learner"&&r.accuracy<90&&e.push("Slow down and review content more thoroughly"),e}}const Rl=new U$,z$=(t,e)=>{Rl.init(t,e),console.log(" LESSON SESSION STARTED:",{userId:t,lessonId:e})},L_=(t,e,n)=>{Rl.logSlideNavigation(t,e,n)},$$=(t,e,n)=>{Rl.logSlideEngagement(t,e,n)},H$=(t,e,n)=>{Rl.logExerciseCompletion(t,e,n)},W$=(t,e,n)=>{Rl.logLessonCompletion(t,e,n)},G$=()=>Rl.exportSessionData(),q$=()=>{const{currentUser:t,userProfile:e,updateUserProgress:n,trackSlideEngagement:r,setLastLessonSlide:i,getLastLessonSlide:o}=Pu(),l=gl();Bs();const{lessonId:c}=IR(),[d,f]=O.useState(null),[m,g]=O.useState(0),[y,E]=O.useState(30),[S,C]=O.useState({}),[I,L]=O.useState({}),[P,M]=O.useState(!1),[z,V]=O.useState(0),[G,R]=O.useState(new Set),[A,k]=O.useState(0),[j,U]=O.useState(Date.now()),[F,N]=O.useState(Date.now()),[ae,Se]=O.useState(0),[Ee,ve]=O.useState({width:window.innerWidth,height:window.innerHeight});O.useRef(null),O.useRef(null);const Z=O.useRef(null),ue=O.useRef(!1),ie=O.useRef(0),H=O.useRef(!1);O.useEffect(()=>{},[m,c,e,d,o]),O.useEffect(()=>{var Ve;if(ue.current)return;console.log(" Loading lesson data for lessonId:",c);const he=r9(parseInt(c));if(he){console.log(" Lesson loaded successfully:",{id:he.id,title:he.title,totalSlides:he.content.slides.length,slideTypes:he.content.slides.map(kt=>kt.type)}),f(he),t&&z$(t.uid,he.id);let Ke=!1,He=0;if(e&&e.progress&&e.progress[he.id]){const kt=e.progress[he.id];Ke=kt.completed||!1,H.current=Ke,Ke?(He=0,console.log(` Lesson ${he.id} is completed - starting from first slide`)):(He=kt.lastSlide||0,console.log(` Loading saved slide position: ${He} for lesson ${he.id}`))}else console.log(` New lesson ${he.id} - starting from first slide`);g(He),ie.current=He;const Ut=he.content.slides[He];E(((Ve=Ut==null?void 0:Ut.content)==null?void 0:Ve.duration)||30),N(Date.now()),U(Date.now()),Se(0),ue.current=!0}else console.error(" Lesson not found:",c),jn.error("  "),l("/roadmap")},[c,l,e,t]),O.useEffect(()=>{var Ve;if(!d||!e||!ue.current)return;const he=d.content.slides[m];if(he&&he.id){r(d.id,he.id);const Ke=Math.floor((Date.now()-j)/1e3);$$(he.id,he.type,Ke),R(He=>new Set([...He,he.id])),m!==ie.current&&!H.current&&(i(d.id,m),ie.current=m),U(Date.now()),Se(0),E(((Ve=he.content)==null?void 0:Ve.duration)||30)}},[m,d,e,r,i]),O.useEffect(()=>{if(!e)return;V(e.totalTimeSpent||0);const he=new Set;e.progress&&Object.values(e.progress).forEach(Ve=>{Ve.pagesEngaged&&Array.isArray(Ve.pagesEngaged)&&Ve.pagesEngaged.forEach(Ke=>he.add(Ke))}),G.forEach(Ve=>he.add(Ve)),R(he),k(Math.floor((e.totalTimeSpent||0)/60))},[e]),O.useEffect(()=>{if(d)return Z.current=setInterval(()=>{var Ke,He;const he=Date.now(),Ve=Math.floor((he-j)/1e3);if(Se(Ve),(He=(Ke=d.content.slides[m])==null?void 0:Ke.content)!=null&&He.duration){const Ut=d.content.slides[m].content.duration,kt=Math.max(0,Ut-Ve);E(kt)}},1e3),()=>{Z.current&&clearInterval(Z.current)}},[j,m,d]),O.useEffect(()=>{const he=()=>{ve({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[]);const X=O.useCallback(()=>{if(!d)return;L_(m,m+1,"forward");const he=Math.floor((Date.now()-j)/1e3);V(Ve=>Ve+he),m<d.content.slides.length-1&&g(m+1)},[d,m,j]),pe=O.useCallback(()=>{if(!d||m<=0)return;L_(m,m-1,"backward");const he=Math.floor((Date.now()-j)/1e3);V(Ve=>Ve+he),g(Math.max(0,m-1))},[d,m,j]),Re=O.useCallback((he,Ve)=>{C(He=>({...He,[he]:Ve})),H$(he,Ve.isCorrect||!1,Ve.score||0);const Ke=Math.floor((Date.now()-j)/1e3);V(He=>He+Ke)},[j]),ke=O.useCallback(async()=>{var Ut,kt,er,ai,xn,on;if(!d||!e){console.error(" Cannot complete lesson: missing lesson or userProfile");return}console.log(" Starting lesson completion for lesson:",d.id);const he=Math.floor((Date.now()-j)/1e3),Ve=z+he,Ke=d.content.slides.map(Dt=>Dt.id);Ke.forEach(Dt=>{r(d.id,Dt)}),W$(d.id,Ve,Ve);const He=G$();console.log(" FINAL SESSION DATA:",He),console.log(" LESSON COMPLETION SUMMARY:",{lessonId:d.id,lessonTitle:d.title,totalSlides:d.content.slides.length,slidesEngaged:Ke.length,timeSpent:Ve,timeFormatted:Be(Ve),progressPercentage:100,sessionEvents:((Ut=He.session)==null?void 0:Ut.totalEvents)||0,completionRate:((kt=He.session)==null?void 0:kt.completionRate)||0,averageEngagement:((er=He.session)==null?void 0:er.averageEngagementLevel)||"unknown",userBehavior:(ai=He.analytics)==null?void 0:ai.userBehavior,performance:(xn=He.analytics)==null?void 0:xn.performance,recommendations:(on=He.analytics)==null?void 0:on.recommendations});try{console.log(" Saving lesson progress..."),await n(d.id,!0,Ve,!1,m,null,Ke),console.log(" Progress saved successfully");const Dt=$E(d.id);console.log(" Next lesson found:",Dt),M(!0),jn.success(" !   ! "),setTimeout(()=>{try{console.log(" Starting navigation to roadmap...");const Vn=Dt?`/roadmap?unlocked=${Dt.id}`:"/roadmap";console.log(" Navigating to:",Vn),l(Vn,{replace:!0}),console.log(" Navigation completed")}catch(Vn){console.error(" Error navigating after completion:",Vn),l("/roadmap",{replace:!0})}},3500)}catch(Dt){console.error(" Error completing lesson:",Dt),jn.error("  "),setTimeout(()=>{const Vn=$E(d.id),Ui=Vn?`/roadmap?unlocked=${Vn.id}`:"/roadmap";l(Ui,{replace:!0})},1e3)}},[d,e,j,z,m,r,n,l]),Fe=he=>{const Ve=Math.floor(he/60),Ke=he%60;return`${Ve}:${Ke.toString().padStart(2,"0")}`},Be=he=>{const Ve=Math.floor(he/3600),Ke=Math.floor(he%3600/60);return Ve>0?`${Ve}  ${Ke} `:`${Ke} `},ze=he=>{switch(he.type){case"presentation":return v.jsx(g9,{slide:he});case"poll":return v.jsx(v9,{slide:he,onAnswer:Re,answers:S});case"video":return v.jsx(y9,{slide:he,onAnswer:Re,answers:S});case"interactive":return v.jsx(j$,{slide:he,onAnswer:Re,answers:S});case"break":return v.jsx(V$,{slide:he});case"reflection":return v.jsx(F$,{slide:he,onAnswer:Re,answers:S});case"quiz":return v.jsx(B$,{slide:he,onAnswer:Re,answers:S});default:return v.jsxs("div",{className:"text-white",children:["   : ",he.type]})}};if(!d)return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 flex items-center justify-center",children:v.jsx("div",{className:"text-white text-2xl",children:" ..."})});const Xe=d.content.slides[m],it=(m+1)/d.content.slides.length*100;return Xe?v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 relative overflow-hidden",children:[P&&v.jsxs(v.Fragment,{children:[v.jsx(CA,{width:Ee.width,height:Ee.height,recycle:!1,numberOfPieces:300,colors:["#4ade80","#fbbf24","#3b82f6","#8b5cf6","#ec4899","#ef4444"]}),v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:v.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-emerald-600 rounded-3xl p-8 text-center text-white shadow-2xl border-4 border-green-400 animate-pulse",children:[v.jsx("div",{className:"text-6xl mb-4",children:""}),v.jsx("h2",{className:"text-3xl font-bold mb-2",children:" !"}),v.jsx("p",{className:"text-xl mb-4",children:"  !"}),v.jsxs("div",{className:"text-lg opacity-90",children:[v.jsxs("p",{children:[" : ",Be(z)]}),v.jsxs("p",{children:[" : ",G.size]}),v.jsxs("p",{children:[": ",Math.round(it),"%"]})]})]})})]}),v.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border-b border-gray-700/50 p-4 sticky top-0 z-40",children:v.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[v.jsx("button",{onClick:()=>l("/roadmap"),className:"p-2 rounded-lg bg-gray-700/50 hover:bg-gray-600/50 transition-colors",children:v.jsx(wy,{className:"h-6 w-6 text-white"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-bold text-white",children:d.title}),v.jsxs("p",{className:"text-sm text-gray-300",children:[" ",m+1,"  ",d.content.slides.length,H.current&&v.jsx("span",{className:"ml-2 text-green-400",children:"( )"})]})]})]}),v.jsx("div",{className:"flex-1 max-w-md mx-4",children:v.jsx("div",{className:"bg-gray-700/50 rounded-full h-2",children:v.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${it}%`}})})}),v.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[v.jsx(VI,{className:"h-5 w-5 text-blue-400"}),v.jsx("span",{className:"text-white font-mono",children:Fe(y)})]})]})}),v.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[v.jsx("div",{className:"flex-1 overflow-y-auto",children:v.jsx("div",{className:"p-6",children:ze(Xe)})}),v.jsx("div",{className:"w-80 bg-gray-800/50 backdrop-blur-sm border-l border-gray-700/50 p-6 overflow-y-auto",children:v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:" "}),v.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx(WI,{className:"h-5 w-5 text-blue-400"}),v.jsx("span",{className:"text-white font-semibold",children:" "})]}),v.jsx("p",{className:"text-2xl font-bold text-blue-400",children:Be(z)})]}),v.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx($f,{className:"h-5 w-5 text-green-400"}),v.jsx("span",{className:"text-white font-semibold",children:" "})]}),v.jsx("p",{className:"text-2xl font-bold text-green-400",children:G.size})]}),v.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx(xy,{className:"h-5 w-5 text-purple-400"}),v.jsx("span",{className:"text-white font-semibold",children:" "})]}),v.jsx("p",{className:"text-2xl font-bold text-purple-400",children:A})]}),v.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx(Ey,{className:"h-5 w-5 text-yellow-400"}),v.jsx("span",{className:"text-white font-semibold",children:""})]}),v.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:[Math.round(it),"%"]})]}),v.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx(jI,{className:"h-5 w-5 text-cyan-400"}),v.jsx("span",{className:"text-white font-semibold",children:" "})]}),v.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:Fe(ae)})]}),v.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(Ib,{className:"h-5 w-5 text-blue-400"}),v.jsx("span",{className:"text-white font-semibold",children:""})]}),v.jsxs("div",{className:"flex flex-col items-center space-y-2 mb-4",children:[v.jsxs("div",{className:"text-sm font-bold text-white/80",children:[m+1," / ",d.content.slides.length]}),v.jsx("div",{className:"w-full h-2 bg-gray-600/50 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-500 ease-out",style:{width:`${(m+1)/d.content.slides.length*100}%`}})})]}),v.jsxs("div",{className:"flex items-center justify-between space-x-3 space-x-reverse",children:[v.jsx("button",{onClick:pe,disabled:m===0,className:"group relative p-3 rounded-full bg-gradient-to-r from-gray-700/80 to-gray-600/80 hover:from-gray-600/90 hover:to-gray-500/90 disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-300 hover:scale-110 hover:shadow-lg border border-gray-500/30 hover:border-gray-400/50",title:" ",children:v.jsx(Ib,{className:"h-5 w-5 text-white group-hover:text-blue-300 transition-all duration-300"})}),m===d.content.slides.length-1?v.jsx("button",{onClick:ke,className:"group relative px-4 py-3 rounded-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 transition-all duration-300 hover:scale-110 hover:shadow-2xl text-white font-bold border-2 border-green-400/50 hover:border-green-300/70 text-sm",title:" ",children:v.jsx("span",{className:"group-hover:scale-105 transition-transform duration-300",children:""})}):v.jsx("button",{onClick:X,className:"group relative p-3 rounded-full bg-gradient-to-r from-blue-600/80 to-purple-600/80 hover:from-blue-500/90 hover:to-purple-500/90 transition-all duration-300 hover:scale-110 hover:shadow-lg border border-blue-500/30 hover:border-blue-400/50",title:" ",children:v.jsx(aj,{className:"h-5 w-5 text-white group-hover:text-purple-300 transition-all duration-300"})})]})]})]})})]})]}):v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 flex items-center justify-center",children:v.jsx("div",{className:"text-white text-2xl",children:"      .    ."})})},K$=["","","","","","","","","","","","","","","","",""],Q$=()=>{var Se;const{userProfile:t,logout:e,currentUser:n,updateDisplayName:r}=Pu(),[i,o]=O.useState("overview"),[l,c]=O.useState((t==null?void 0:t.emoji)||""),[d,f]=O.useState(!1),[m,g]=O.useState((t==null?void 0:t.email)||""),[y,E]=O.useState(!1),[S,C]=O.useState(!1),[I,L]=O.useState((t==null?void 0:t.displayName)||""),[P,M]=O.useState(!1),[z,V]=O.useState(!1),[G,R]=O.useState({firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",age:(t==null?void 0:t.age)||"",sex:(t==null?void 0:t.sex)||"male"}),[A,k]=O.useState(!1),j=gl(),U=()=>({firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",age:(t==null?void 0:t.age)||"",sex:(t==null?void 0:t.sex)||"male"});O.useEffect(()=>{t&&(R(U()),L(t.displayName||""),c(t.emoji||""),g(t.email||""))},[t]);const F=()=>t!=null&&t.displayName&&t.displayName!==" "?t.displayName:((t==null?void 0:t.sex)||"male")==="female"?" ":" ",N=()=>{gn.success("    ")},ae=()=>{if(!t)return 0;const Ee=t.completedLessons||[];return Math.round(Ee.length/lt.length*100)};return t?v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyber-blue to-cyber-purple p-4",children:v.jsxs("div",{className:"max-w-2xl mx-auto",children:[v.jsx("div",{className:"mb-4 flex justify-end",children:v.jsxs("button",{onClick:()=>j("/roadmap"),className:"btn-secondary flex items-center",children:[v.jsx(wy,{className:"h-5 w-5 ml-2"}),"  "]})}),v.jsx("div",{className:"flex flex-col items-center mb-6",children:v.jsx("img",{src:uu,alt:"Logo",className:"h-40 w-40 mb-4 rounded-2xl drop-shadow-2xl border-4 border-cyber-blue"})}),v.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-lg p-8 flex flex-col items-center mb-8 border border-gray-700",children:[v.jsxs("div",{className:"relative mb-4",children:[v.jsx("span",{className:"text-7xl rounded-full border-4 border-cyber-blue bg-gray-700 shadow-lg flex items-center justify-center w-28 h-28 cursor-pointer",title:" ",children:l}),v.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-2",children:K$.map(Ee=>v.jsx("button",{className:`text-xl p-1 rounded-full border-2 ${l===Ee?"border-cyber-blue bg-cyber-blue/20":"border-transparent"}`,onClick:()=>c(Ee),"aria-label":` ${Ee}`,children:Ee},Ee))}),v.jsx("span",{className:"text-xs text-gray-400 block mt-1",children:"   "})]}),v.jsxs("div",{className:"w-full max-w-md mx-auto mt-4",children:[v.jsxs("div",{className:"flex flex-col items-center mb-4",children:[v.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:F()}),v.jsxs("div",{className:"flex items-center text-gray-300 mb-2",children:[v.jsx(yj,{className:"h-5 w-5 ml-2"}),v.jsx("span",{children:t.email})]}),v.jsxs("div",{className:"flex items-center text-gray-300",children:[v.jsx(KI,{className:"h-5 w-5 ml-2"}),v.jsx("span",{children:t.role==="teacher"?"":t.role==="student"?"":""})]})]}),v.jsxs("div",{className:"flex flex-col items-center mt-4",children:[v.jsxs("button",{className:"btn-secondary flex items-center text-sm mb-2",onClick:()=>f(!d),children:[v.jsx(hj,{className:"h-4 w-4 ml-2"}),"/ "]}),d&&v.jsxs("form",{onSubmit:N,className:"w-full max-w-xs mx-auto mt-2",children:[v.jsx("input",{type:"email",value:m,onChange:Ee=>g(Ee.target.value),className:"w-full px-3 py-2 border border-gray-600 rounded-lg mb-2 bg-gray-700 text-white",placeholder:" ",required:!0}),v.jsx("button",{type:"submit",className:"btn-primary w-full",children:"  "}),y&&v.jsx("div",{className:"text-green-400 mt-2",children:"  !"})]})]})]})]}),v.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-lg p-6 flex flex-col items-center border border-gray-700",children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:" "}),v.jsx("div",{className:"w-full bg-gray-700 rounded-full h-6 mb-2",children:v.jsxs("div",{className:"bg-gradient-to-r from-cyber-green to-cyber-blue h-6 rounded-full flex items-center justify-end pr-4 text-white font-bold text-lg transition-all duration-700",style:{width:`${ae()}%`},children:[ae(),"%"]})}),v.jsxs("span",{className:"text-sm text-gray-400",children:[((Se=t.completedLessons)==null?void 0:Se.length)||0,"  ",lt.length,"  "]})]})]})}):v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-cyber-blue to-cyber-purple",children:v.jsxs("div",{className:"text-center text-white",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),v.jsx("p",{children:" ..."})]})})},Y$=()=>{const{userProfile:t}=Pu(),[e,n]=O.useState([]),[r,i]=O.useState(!0),[o,l]=O.useState(null),[c,d]=O.useState({totalStudents:0,activeStudents:0,averageProgress:0,completedLessons:0});O.useEffect(()=>{(t==null?void 0:t.role)==="teacher"&&f()},[t]);const f=async()=>{try{const E=mI(qn,"users"),C=(await AI(E)).docs.map(V=>({id:V.id,...V.data()})).filter(V=>V.role==="student");n(C);const I=C.length,L=C.filter(V=>V.lastLogin&&new Date(V.lastLogin.toDate())>new Date(Date.now()-7*24*60*60*1e3)).length,P=C.reduce((V,G)=>{var A;const R=((A=G.completedLessons)==null?void 0:A.length)||0;return V+R/lt.length*100},0),M=I>0?Math.round(P/I):0,z=C.reduce((V,G)=>{var R;return V+(((R=G.completedLessons)==null?void 0:R.length)||0)},0);d({totalStudents:I,activeStudents:L,averageProgress:M,completedLessons:z})}catch(E){console.error("Error fetching students:",E),jn.error("   ")}finally{i(!1)}},m=async E=>{try{const S=e.map(C=>PI(Qr(qn,"users",C.id),{currentLesson:Math.max(C.currentLesson||1,E)}));await Promise.all(S),jn.success(` ${E}   `),f()}catch(S){console.error("Error unlocking lesson:",S),jn.error("  ")}},g=async(E,S)=>{try{jn.success(`  ${S}`)}catch{jn.error("  ")}},y=E=>{var C;const S=((C=E.completedLessons)==null?void 0:C.length)||0;return Math.round(S/lt.length*100)};return(t==null?void 0:t.role)!=="teacher"?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-cyber-blue to-cyber-purple",children:v.jsxs("div",{className:"text-center text-white",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),v.jsx("p",{children:"     "})]})}):r?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-cyber-blue to-cyber-purple",children:v.jsxs("div",{className:"text-center text-white",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),v.jsx("p",{children:" ..."})]})}):v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyber-blue to-cyber-purple p-4",children:v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx(Te.h1,{className:"text-4xl font-bold text-white mb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:" "}),v.jsxs("p",{className:"text-white/80 text-lg",children:[" , ",t==null?void 0:t.displayName]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[v.jsxs(Te.div,{className:"bg-white rounded-lg p-6 shadow-lg text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[v.jsx(QI,{className:"h-8 w-8 text-cyber-blue mx-auto mb-3"}),v.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:c.totalStudents}),v.jsx("div",{className:"text-gray-600",children:'" '})]}),v.jsxs(Te.div,{className:"bg-white rounded-lg p-6 shadow-lg text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[v.jsx(GI,{className:"h-8 w-8 text-cyber-green mx-auto mb-3"}),v.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:c.activeStudents}),v.jsx("div",{className:"text-gray-600",children:" "})]}),v.jsxs(Te.div,{className:"bg-white rounded-lg p-6 shadow-lg text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[v.jsx(Ey,{className:"h-8 w-8 text-cyber-purple mx-auto mb-3"}),v.jsxs("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:[c.averageProgress,"%"]}),v.jsx("div",{className:"text-gray-600",children:" "})]}),v.jsxs(Te.div,{className:"bg-white rounded-lg p-6 shadow-lg text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[v.jsx(xy,{className:"h-8 w-8 text-cyber-yellow mx-auto mb-3"}),v.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:c.completedLessons}),v.jsx("div",{className:"text-gray-600",children:" "})]})]}),v.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg mb-8",children:[v.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[v.jsx(UI,{className:"h-6 w-6 text-cyber-blue mr-3"})," "]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3",children:lt.slice(0,8).map(E=>v.jsxs("button",{onClick:()=>m(E.id),className:"p-3 rounded-lg border-2 border-gray-200 hover:border-cyber-blue hover:bg-cyber-blue/5 transition-all duration-200",children:[v.jsx("div",{className:"text-2xl mb-1",children:E.icon}),v.jsxs("div",{className:"text-xs font-medium text-gray-700",children:[" ",E.id]})]},E.id))})]}),v.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[v.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[v.jsx(jI,{className:"h-6 w-6 text-cyber-blue mr-3"})," "]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b-2 border-gray-200",children:[v.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:""}),v.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:""}),v.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:" "}),v.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:" "}),v.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:""})]})}),v.jsx("tbody",{children:e.map((E,S)=>{var C;return v.jsxs(Te.tr,{className:"border-b border-gray-100 hover:bg-gray-50",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:S*.1},children:[v.jsx("td",{className:"py-3 px-4",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-8 h-8 bg-cyber-blue rounded-full flex items-center justify-center text-white font-bold mr-3",children:((C=E.displayName)==null?void 0:C.charAt(0))||"?"}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-gray-800",children:E.displayName}),v.jsx("div",{className:"text-sm text-gray-500",children:E.email})]})]})}),v.jsx("td",{className:"py-3 px-4",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 mr-3",children:v.jsx("div",{className:"bg-cyber-blue h-2 rounded-full transition-all duration-300",style:{width:`${y(E)}%`}})}),v.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[y(E),"%"]})]})}),v.jsx("td",{className:"py-3 px-4",children:v.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[" ",E.currentLesson||1]})}),v.jsx("td",{className:"py-3 px-4",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(oj,{className:"h-4 w-4 text-gray-400 mr-2"}),v.jsx("span",{className:"text-sm text-gray-600",children:E.lastLogin?new Date(E.lastLogin.toDate()).toLocaleDateString("he-IL"):" "})]})}),v.jsx("td",{className:"py-3 px-4",children:v.jsxs("button",{onClick:()=>g(E.id,E.displayName),className:"btn-secondary text-sm px-3 py-1",children:[v.jsx(zI,{className:"h-4 w-4 mr-1"}),""]})})]},E.id)})})]})})]})]})})},X$=()=>{gl();const t=Bs(),{logout:e}=Ru(),{displayName:n,role:r}=Uf(),[i,o]=O.useState(!1),[l,c]=O.useState(!1),d=O.useRef(null);O.useEffect(()=>{const E=S=>{d.current&&!d.current.contains(S.target)&&c(!1)};return l&&document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[l]);const f=async()=>{try{await e(),jn.success(" ")}catch(E){console.error("Logout error:",E),jn.error("  ")}},g=(()=>{const E=[{name:" ",path:"/roadmap",icon:wy}];return r==="teacher"?[...E,{name:" ",path:"/teacher",icon:ko}]:E})(),y=E=>t.pathname===E;return v.jsx("nav",{className:"bg-gray-900/95 backdrop-blur-xl border-b border-gray-700 shadow-lg sticky top-0 z-50",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"flex justify-between items-center h-16",children:[v.jsx("div",{className:"flex items-center",children:v.jsxs(eh,{to:"/roadmap",className:"flex items-center space-x-3",children:[v.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:v.jsx(ko,{className:"w-5 h-5 text-white"})}),v.jsx("span",{className:"text-xl font-bold text-white",children:"Israel Cyber Academy"})]})}),v.jsx("div",{className:"hidden md:flex items-center space-x-8",children:g.map(E=>v.jsxs(eh,{to:E.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${y(E.path)?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-800"}`,children:[v.jsx(E.icon,{className:"w-4 h-4"}),v.jsx("span",{children:E.name})]},E.name))}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("div",{className:"relative",ref:d,children:[v.jsxs("button",{onClick:()=>c(!l),className:"flex items-center space-x-3 bg-gray-800/50 hover:bg-gray-700/50 px-4 py-2 rounded-lg text-white transition-all duration-200",children:[v.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:r==="teacher"?v.jsx(ko,{className:"w-4 h-4 text-white"}):v.jsx(BI,{className:"w-4 h-4 text-white"})}),v.jsx("span",{className:"text-sm font-medium",children:n})]}),l&&v.jsxs(Te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-xl border border-gray-700 py-2 z-50",children:[v.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[v.jsx("p",{className:"text-sm text-gray-300",children:n}),v.jsx("p",{className:"text-xs text-gray-500",children:r==="teacher"?"":""})]}),v.jsxs(eh,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 transition-colors w-full text-right",onClick:()=>c(!1),children:[v.jsx(KI,{className:"w-4 h-4"}),v.jsx("span",{children:""})]}),v.jsxs("button",{onClick:()=>{c(!1),f()},className:"flex items-center space-x-2 px-4 py-2 text-sm text-red-400 hover:bg-red-900/20 hover:text-red-300 transition-colors w-full text-right",children:[v.jsx(Ab,{className:"w-4 h-4"}),v.jsx("span",{children:""})]})]})]}),v.jsx("button",{onClick:()=>o(!i),className:"md:hidden p-2 rounded-lg text-gray-300 hover:text-white hover:bg-gray-800 transition-colors",children:i?v.jsx(Pj,{className:"w-6 h-6"}):v.jsx(xj,{className:"w-6 h-6"})})]})]}),i&&v.jsx(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden py-4 border-t border-gray-700",children:v.jsxs("div",{className:"space-y-2",children:[g.map(E=>v.jsxs(eh,{to:E.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${y(E.path)?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-800"}`,onClick:()=>o(!1),children:[v.jsx(E.icon,{className:"w-4 h-4"}),v.jsx("span",{children:E.name})]},E.name)),v.jsxs("button",{onClick:()=>{o(!1),f()},className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm text-red-400 hover:bg-red-900/20 hover:text-red-300 transition-colors w-full text-right",children:[v.jsx(Ab,{className:"w-4 h-4"}),v.jsx("span",{children:""})]})]})})]})})},Ph=({children:t,requiredRole:e=null})=>{const{currentUser:n,loading:r}=Ru(),{role:i}=Uf();return r?v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:v.jsx(XI,{size:"lg"})}):n?e&&i!==e?v.jsx(Nh,{to:"/roadmap",replace:!0}):t:v.jsx(Nh,{to:"/",replace:!0})},J$=({children:t})=>v.jsx(Ph,{requiredRole:"teacher",children:t}),Z$=()=>{const{currentUser:t,loading:e}=Ru();return Uf(),e?v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:v.jsx(XI,{size:"lg"})}):v.jsx(QR,{children:v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[t&&v.jsx(X$,{}),v.jsxs(zR,{children:[v.jsx(_o,{path:"/",element:t?v.jsx(Nh,{to:"/roadmap",replace:!0}):v.jsx(cB,{})}),v.jsx(_o,{path:"/roadmap",element:v.jsx(Ph,{children:v.jsx(m9,{})})}),v.jsx(_o,{path:"/interactive-lesson/:lessonId",element:v.jsx(Ph,{children:v.jsx(q$,{})})}),v.jsx(_o,{path:"/profile",element:v.jsx(Ph,{children:v.jsx(Q$,{})})}),!1,v.jsx(_o,{path:"/teacher",element:v.jsx(J$,{children:v.jsx(Y$,{})})}),v.jsx(_o,{path:"*",element:v.jsx(Nh,{to:"/",replace:!0})})]}),v.jsx(ej,{position:"top-center",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{className:"",duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),!1]})})},eH=()=>v.jsx(Rj,{children:v.jsx(uL,{children:v.jsx(Z$,{})})});K2.createRoot(document.getElementById("root")).render(v.jsx(eH,{}));
